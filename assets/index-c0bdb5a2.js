var aT=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var iZ=aT((sZ,iT)=>{function AT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Di(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Gb={exports:{}},gf={},zb={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),uT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),pT=Symbol.for("react.forward_ref"),gT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),vT=Symbol.for("react.lazy"),Y1=Symbol.iterator;function yT(e){return e===null||typeof e!="object"?null:(e=Y1&&e[Y1]||e["@@iterator"],typeof e=="function"?e:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xb=Object.assign,Yb={};function $A(e,t,n){this.props=e,this.context=t,this.refs=Yb,this.updater=n||$b}$A.prototype.isReactComponent={};$A.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qb(){}qb.prototype=$A.prototype;function Yv(e,t,n){this.props=e,this.context=t,this.refs=Yb,this.updater=n||$b}var qv=Yv.prototype=new qb;qv.constructor=Yv;Xb(qv,$A.prototype);qv.isPureReactComponent=!0;var q1=Array.isArray,Jb=Object.prototype.hasOwnProperty,Jv={current:null},Zb={key:!0,ref:!0,__self:!0,__source:!0};function e2(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Jb.call(t,r)&&!Zb.hasOwnProperty(r)&&(o[r]=t[r]);var A=arguments.length-2;if(A===1)o.children=n;else if(1<A){for(var s=Array(A),u=0;u<A;u++)s[u]=arguments[u+2];o.children=s}if(e&&e.defaultProps)for(r in A=e.defaultProps,A)o[r]===void 0&&(o[r]=A[r]);return{$$typeof:Vu,type:e,key:i,ref:a,props:o,_owner:Jv.current}}function wT(e,t){return{$$typeof:Vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vu}function xT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var J1=/\/+/g;function Xh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xT(""+e.key):t.toString(36)}function Sc(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vu:case uT:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Xh(a,0):r,q1(o)?(n="",e!=null&&(n=e.replace(J1,"$&/")+"/"),Sc(o,t,n,"",function(u){return u})):o!=null&&(Zv(o)&&(o=wT(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(J1,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",q1(e))for(var A=0;A<e.length;A++){i=e[A];var s=r+Xh(i,A);a+=Sc(i,t,n,s,o)}else if(s=yT(e),typeof s=="function")for(e=s.call(e),A=0;!(i=e.next()).done;)i=i.value,s=r+Xh(i,A++),a+=Sc(i,t,n,s,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function vl(e,t,n){if(e==null)return e;var r=[],o=0;return Sc(e,r,"","",function(i){return t.call(n,i,o++)}),r}function BT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},Uc={transition:null},CT={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Jv};function t2(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:vl,forEach:function(e,t,n){vl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vl(e,function(){t++}),t},toArray:function(e){return vl(e,function(t){return t})||[]},only:function(e){if(!Zv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=$A;Fe.Fragment=lT;Fe.Profiler=dT;Fe.PureComponent=Yv;Fe.StrictMode=cT;Fe.Suspense=gT;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CT;Fe.act=t2;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xb({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Jv.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(s in t)Jb.call(t,s)&&!Zb.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&A!==void 0?A[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){A=Array(s);for(var u=0;u<s;u++)A[u]=arguments[u+2];r.children=A}return{$$typeof:Vu,type:e.type,key:o,ref:i,props:r,_owner:a}};Fe.createContext=function(e){return e={$$typeof:hT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fT,_context:e},e.Consumer=e};Fe.createElement=e2;Fe.createFactory=function(e){var t=e2.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:pT,render:e}};Fe.isValidElement=Zv;Fe.lazy=function(e){return{$$typeof:vT,_payload:{_status:-1,_result:e},_init:BT}};Fe.memo=function(e,t){return{$$typeof:mT,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Uc.transition;Uc.transition={};try{e()}finally{Uc.transition=t}};Fe.unstable_act=t2;Fe.useCallback=function(e,t){return mn.current.useCallback(e,t)};Fe.useContext=function(e){return mn.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return mn.current.useEffect(e,t)};Fe.useId=function(){return mn.current.useId()};Fe.useImperativeHandle=function(e,t,n){return mn.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return mn.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return mn.current.useReducer(e,t,n)};Fe.useRef=function(e){return mn.current.useRef(e)};Fe.useState=function(e){return mn.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return mn.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return mn.current.useTransition()};Fe.version="18.3.1";zb.exports=Fe;var k=zb.exports;const kr=Wb(k),Z1=AT({__proto__:null,default:kr},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=k,ET=Symbol.for("react.element"),FT=Symbol.for("react.fragment"),IT=Object.prototype.hasOwnProperty,ST=bT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UT={key:!0,ref:!0,__self:!0,__source:!0};function n2(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IT.call(t,r)&&!UT.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ET,type:e,key:i,ref:a,props:o,_owner:ST.current}}gf.Fragment=FT;gf.jsx=n2;gf.jsxs=n2;Gb.exports=gf;var m=Gb.exports,Mg={},r2={exports:{}},Xn={},o2={exports:{}},i2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,P){var H=R.length;R.push(P);e:for(;0<H;){var W=H-1>>>1,$=R[W];if(0<o($,P))R[W]=P,R[H]=$,H=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var P=R[0],H=R.pop();if(H!==P){R[0]=H;e:for(var W=0,$=R.length,Y=$>>>1;W<Y;){var ee=2*(W+1)-1,ie=R[ee],oe=ee+1,fe=R[oe];if(0>o(ie,H))oe<$&&0>o(fe,ie)?(R[W]=fe,R[oe]=H,W=oe):(R[W]=ie,R[ee]=H,W=ee);else if(oe<$&&0>o(fe,H))R[W]=fe,R[oe]=H,W=oe;else break e}}return P}function o(R,P){var H=R.sortIndex-P.sortIndex;return H!==0?H:R.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();e.unstable_now=function(){return a.now()-A}}var s=[],u=[],l=1,c=null,d=3,f=!1,h=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=R)r(u),P.sortIndex=P.expirationTime,t(s,P);else break;P=n(u)}}function x(R){if(p=!1,w(R),!h)if(n(s)!==null)h=!0,L(B);else{var P=n(u);P!==null&&j(x,P.startTime-R)}}function B(R,P){h=!1,p&&(p=!1,g(E),E=-1),f=!0;var H=d;try{for(w(P),c=n(s);c!==null&&(!(c.expirationTime>P)||R&&!T());){var W=c.callback;if(typeof W=="function"){c.callback=null,d=c.priorityLevel;var $=W(c.expirationTime<=P);P=e.unstable_now(),typeof $=="function"?c.callback=$:c===n(s)&&r(s),w(P)}else r(s);c=n(s)}if(c!==null)var Y=!0;else{var ee=n(u);ee!==null&&j(x,ee.startTime-P),Y=!1}return Y}finally{c=null,d=H,f=!1}}var C=!1,b=null,E=-1,F=5,I=-1;function T(){return!(e.unstable_now()-I<F)}function Q(){if(b!==null){var R=e.unstable_now();I=R;var P=!0;try{P=b(!0,R)}finally{P?N():(C=!1,b=null)}}else C=!1}var N;if(typeof v=="function")N=function(){v(Q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,O=M.port2;M.port1.onmessage=Q,N=function(){O.postMessage(null)}}else N=function(){y(Q,0)};function L(R){b=R,C||(C=!0,N())}function j(R,P){E=y(function(){R(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,L(B))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(R){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var H=d;d=P;try{return R()}finally{d=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=d;d=R;try{return P()}finally{d=H}},e.unstable_scheduleCallback=function(R,P,H){var W=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,R={id:l++,callback:P,priorityLevel:R,startTime:H,expirationTime:$,sortIndex:-1},H>W?(R.sortIndex=H,t(u,R),n(s)===null&&R===n(u)&&(p?(g(E),E=-1):p=!0,j(x,H-W))):(R.sortIndex=$,t(s,R),h||f||(h=!0,L(B))),R},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(R){var P=d;return function(){var H=d;d=P;try{return R.apply(this,arguments)}finally{d=H}}}})(i2);o2.exports=i2;var QT=o2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=k,zn=QT;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a2=new Set,su={};function xa(e,t){_A(e,t),_A(e+"Capture",t)}function _A(e,t){for(su[e]=t,e=0;e<t.length;e++)a2.add(t[e])}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pg=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ew={},tw={};function _T(e){return Pg.call(tw,e)?!0:Pg.call(ew,e)?!1:kT.test(e)?tw[e]=!0:(ew[e]=!0,!1)}function RT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DT(e,t,n,r){if(t===null||typeof t>"u"||RT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var e0=/[\-:]([a-z])/g;function t0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e0,t0);$t[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e0,t0);$t[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e0,t0);$t[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function n0(e,t,n,r){var o=$t.hasOwnProperty(t)?$t[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DT(t,n,o,r)&&(n=null),r||o===null?_T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ho=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yl=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),Lg=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Og=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),u2=Symbol.for("react.offscreen"),nw=Symbol.iterator;function as(e){return e===null||typeof e!="object"?null:(e=nw&&e[nw]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Yh;function Is(e){if(Yh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yh=t&&t[1]||""}return`
`+Yh+e}var qh=!1;function Jh(e,t){if(!e||qh)return"";qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,A=i.length-1;1<=a&&0<=A&&o[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(o[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||o[a]!==i[A]){var s=`
`+o[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=A);break}}}finally{qh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function NT(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=Jh(e.type,!1),e;case 11:return e=Jh(e.type.render,!1),e;case 1:return e=Jh(e.type,!0),e;default:return""}}function jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Za:return"Fragment";case Ja:return"Portal";case Lg:return"Profiler";case r0:return"StrictMode";case Hg:return"Suspense";case Og:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s2:return(e.displayName||"Context")+".Consumer";case A2:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i0:return t=e.displayName||null,t!==null?t:jg(e.type)||"Memo";case Zo:t=e._payload,e=e._init;try{return jg(e(t))}catch{}}return null}function MT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(t);case 8:return t===r0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PT(e){var t=l2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wl(e){e._valueTracker||(e._valueTracker=PT(e))}function c2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=l2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vg(e,t){var n=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Si(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d2(e,t){t=t.checked,t!=null&&n0(e,"checked",t,!1)}function Kg(e,t){d2(e,t);var n=Si(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wg(e,t.type,Si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ow(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wg(e,t,n){(t!=="number"||ed(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ss=Array.isArray;function pA(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Si(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(Ss(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Si(n)}}function f2(e,t){var n=Si(t.value),r=Si(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function aw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,p2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LT=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){LT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function g2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function m2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=g2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var HT=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(e,t){if(t){if(HT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Xg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=null;function a0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qg=null,gA=null,mA=null;function Aw(e){if(e=Gu(e)){if(typeof qg!="function")throw Error(X(280));var t=e.stateNode;t&&(t=xf(t),qg(e.stateNode,e.type,t))}}function v2(e){gA?mA?mA.push(e):mA=[e]:gA=e}function y2(){if(gA){var e=gA,t=mA;if(mA=gA=null,Aw(e),t)for(e=0;e<t.length;e++)Aw(t[e])}}function w2(e,t){return e(t)}function x2(){}var Zh=!1;function B2(e,t,n){if(Zh)return e(t,n);Zh=!0;try{return w2(e,t,n)}finally{Zh=!1,(gA!==null||mA!==null)&&(x2(),y2())}}function lu(e,t){var n=e.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Jg=!1;if(_o)try{var As={};Object.defineProperty(As,"passive",{get:function(){Jg=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Jg=!1}function OT(e,t,n,r,o,i,a,A,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Hs=!1,td=null,nd=!1,Zg=null,jT={onError:function(e){Hs=!0,td=e}};function VT(e,t,n,r,o,i,a,A,s){Hs=!1,td=null,OT.apply(jT,arguments)}function KT(e,t,n,r,o,i,a,A,s){if(VT.apply(this,arguments),Hs){if(Hs){var u=td;Hs=!1,td=null}else throw Error(X(198));nd||(nd=!0,Zg=u)}}function Ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function C2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sw(e){if(Ba(e)!==e)throw Error(X(188))}function WT(e){var t=e.alternate;if(!t){if(t=Ba(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return sw(o),e;if(i===r)return sw(o),t;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,A=o.child;A;){if(A===n){a=!0,n=o,r=i;break}if(A===r){a=!0,r=o,n=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===n){a=!0,n=i,r=o;break}if(A===r){a=!0,r=i,n=o;break}A=A.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function b2(e){return e=WT(e),e!==null?E2(e):null}function E2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E2(e);if(t!==null)return t;e=e.sibling}return null}var F2=zn.unstable_scheduleCallback,uw=zn.unstable_cancelCallback,GT=zn.unstable_shouldYield,zT=zn.unstable_requestPaint,pt=zn.unstable_now,$T=zn.unstable_getCurrentPriorityLevel,A0=zn.unstable_ImmediatePriority,I2=zn.unstable_UserBlockingPriority,rd=zn.unstable_NormalPriority,XT=zn.unstable_LowPriority,S2=zn.unstable_IdlePriority,mf=null,no=null;function YT(e){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(mf,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:ZT,qT=Math.log,JT=Math.LN2;function ZT(e){return e>>>=0,e===0?32:31-(qT(e)/JT|0)|0}var Bl=64,Cl=4194304;function Us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function od(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var A=a&~o;A!==0?r=Us(A):(i&=a,i!==0&&(r=Us(i)))}else a=n&~o,a!==0?r=Us(a):i!==0&&(r=Us(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rr(t),o=1<<n,r|=e[n],t&=~o;return r}function ek(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Rr(i),A=1<<a,s=o[a];s===-1?(!(A&n)||A&r)&&(o[a]=ek(A,t)):s<=t&&(e.expiredLanes|=A),i&=~A}}function em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U2(){var e=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),e}function ep(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ku(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=n}function nk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Rr(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function s0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Pe=0;function Q2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T2,u0,k2,_2,R2,tm=!1,bl=[],fi=null,hi=null,pi=null,cu=new Map,du=new Map,ri=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lw(e,t){switch(e){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(t.pointerId)}}function ss(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Gu(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ok(e,t,n,r,o){switch(t){case"focusin":return fi=ss(fi,e,t,n,r,o),!0;case"dragenter":return hi=ss(hi,e,t,n,r,o),!0;case"mouseover":return pi=ss(pi,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return cu.set(i,ss(cu.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,du.set(i,ss(du.get(i)||null,e,t,n,r,o)),!0}return!1}function D2(e){var t=ta(e.target);if(t!==null){var n=Ba(t);if(n!==null){if(t=n.tag,t===13){if(t=C2(n),t!==null){e.blockedOn=t,R2(e.priority,function(){k2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yg=r,n.target.dispatchEvent(r),Yg=null}else return t=Gu(n),t!==null&&u0(t),e.blockedOn=n,!1;t.shift()}return!0}function cw(e,t,n){Qc(e)&&n.delete(t)}function ik(){tm=!1,fi!==null&&Qc(fi)&&(fi=null),hi!==null&&Qc(hi)&&(hi=null),pi!==null&&Qc(pi)&&(pi=null),cu.forEach(cw),du.forEach(cw)}function us(e,t){e.blockedOn===t&&(e.blockedOn=null,tm||(tm=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,ik)))}function fu(e){function t(o){return us(o,e)}if(0<bl.length){us(bl[0],e);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fi!==null&&us(fi,e),hi!==null&&us(hi,e),pi!==null&&us(pi,e),cu.forEach(t),du.forEach(t),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)D2(n),n.blockedOn===null&&ri.shift()}var vA=Ho.ReactCurrentBatchConfig,id=!0;function ak(e,t,n,r){var o=Pe,i=vA.transition;vA.transition=null;try{Pe=1,l0(e,t,n,r)}finally{Pe=o,vA.transition=i}}function Ak(e,t,n,r){var o=Pe,i=vA.transition;vA.transition=null;try{Pe=4,l0(e,t,n,r)}finally{Pe=o,vA.transition=i}}function l0(e,t,n,r){if(id){var o=nm(e,t,n,r);if(o===null)lp(e,t,r,ad,n),lw(e,r);else if(ok(o,e,t,n,r))r.stopPropagation();else if(lw(e,r),t&4&&-1<rk.indexOf(e)){for(;o!==null;){var i=Gu(o);if(i!==null&&T2(i),i=nm(e,t,n,r),i===null&&lp(e,t,r,ad,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else lp(e,t,r,null,n)}}var ad=null;function nm(e,t,n,r){if(ad=null,e=a0(r),e=ta(e),e!==null)if(t=Ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=C2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ad=e,null}function N2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($T()){case A0:return 1;case I2:return 4;case rd:case XT:return 16;case S2:return 536870912;default:return 16}default:return 16}}var ai=null,c0=null,Tc=null;function M2(){if(Tc)return Tc;var e,t=c0,n=t.length,r,o="value"in ai?ai.value:ai.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return Tc=o.slice(e,1<r?1-r:void 0)}function kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function dw(){return!1}function Yn(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?El:dw,this.isPropagationStopped=dw,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var XA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Yn(XA),Wu=it({},XA,{view:0,detail:0}),sk=Yn(Wu),tp,np,ls,vf=it({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(tp=e.screenX-ls.screenX,np=e.screenY-ls.screenY):np=tp=0,ls=e),tp)},movementY:function(e){return"movementY"in e?e.movementY:np}}),fw=Yn(vf),uk=it({},vf,{dataTransfer:0}),lk=Yn(uk),ck=it({},Wu,{relatedTarget:0}),rp=Yn(ck),dk=it({},XA,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=Yn(dk),hk=it({},XA,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pk=Yn(hk),gk=it({},XA,{data:0}),hw=Yn(gk),mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yk[e])?!!t[e]:!1}function f0(){return wk}var xk=it({},Wu,{key:function(e){if(e.key){var t=mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(e){return e.type==="keypress"?kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bk=Yn(xk),Ck=it({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pw=Yn(Ck),bk=it({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),Ek=Yn(bk),Fk=it({},XA,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ik=Yn(Fk),Sk=it({},vf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=Yn(Sk),Qk=[9,13,27,32],h0=_o&&"CompositionEvent"in window,Os=null;_o&&"documentMode"in document&&(Os=document.documentMode);var Tk=_o&&"TextEvent"in window&&!Os,P2=_o&&(!h0||Os&&8<Os&&11>=Os),gw=String.fromCharCode(32),mw=!1;function L2(e,t){switch(e){case"keyup":return Qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eA=!1;function kk(e,t){switch(e){case"compositionend":return H2(t);case"keypress":return t.which!==32?null:(mw=!0,gw);case"textInput":return e=t.data,e===gw&&mw?null:e;default:return null}}function _k(e,t){if(eA)return e==="compositionend"||!h0&&L2(e,t)?(e=M2(),Tc=c0=ai=null,eA=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P2&&t.locale!=="ko"?null:t.data;default:return null}}var Rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rk[e.type]:t==="textarea"}function O2(e,t,n,r){v2(r),t=Ad(t,"onChange"),0<t.length&&(n=new d0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var js=null,hu=null;function Dk(e){J2(e,0)}function yf(e){var t=rA(e);if(c2(t))return e}function Nk(e,t){if(e==="change")return t}var j2=!1;if(_o){var op;if(_o){var ip="oninput"in document;if(!ip){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),ip=typeof yw.oninput=="function"}op=ip}else op=!1;j2=op&&(!document.documentMode||9<document.documentMode)}function ww(){js&&(js.detachEvent("onpropertychange",V2),hu=js=null)}function V2(e){if(e.propertyName==="value"&&yf(hu)){var t=[];O2(t,hu,e,a0(e)),B2(Dk,t)}}function Mk(e,t,n){e==="focusin"?(ww(),js=t,hu=n,js.attachEvent("onpropertychange",V2)):e==="focusout"&&ww()}function Pk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yf(hu)}function Lk(e,t){if(e==="click")return yf(t)}function Hk(e,t){if(e==="input"||e==="change")return yf(t)}function Ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:Ok;function pu(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Pg.call(t,o)||!Mr(e[o],t[o]))return!1}return!0}function xw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bw(e,t){var n=xw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xw(n)}}function K2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?K2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W2(){for(var e=window,t=ed();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ed(e.document)}return t}function p0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jk(e){var t=W2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&K2(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Bw(n,i);var a=Bw(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vk=_o&&"documentMode"in document&&11>=document.documentMode,tA=null,rm=null,Vs=null,om=!1;function Cw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||tA==null||tA!==ed(r)||(r=tA,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&pu(Vs,r)||(Vs=r,r=Ad(rm,"onSelect"),0<r.length&&(t=new d0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=tA)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nA={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},ap={},G2={};_o&&(G2=document.createElement("div").style,"AnimationEvent"in window||(delete nA.animationend.animation,delete nA.animationiteration.animation,delete nA.animationstart.animation),"TransitionEvent"in window||delete nA.transitionend.transition);function wf(e){if(ap[e])return ap[e];if(!nA[e])return e;var t=nA[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in G2)return ap[e]=t[n];return e}var z2=wf("animationend"),$2=wf("animationiteration"),X2=wf("animationstart"),Y2=wf("transitionend"),q2=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){q2.set(e,t),xa(t,[e])}for(var Ap=0;Ap<bw.length;Ap++){var sp=bw[Ap],Kk=sp.toLowerCase(),Wk=sp[0].toUpperCase()+sp.slice(1);Ni(Kk,"on"+Wk)}Ni(z2,"onAnimationEnd");Ni($2,"onAnimationIteration");Ni(X2,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(Y2,"onTransitionEnd");_A("onMouseEnter",["mouseout","mouseover"]);_A("onMouseLeave",["mouseout","mouseover"]);_A("onPointerEnter",["pointerout","pointerover"]);_A("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Ew(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KT(r,t,void 0,e),e.currentTarget=null}function J2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var A=r[a],s=A.instance,u=A.currentTarget;if(A=A.listener,s!==i&&o.isPropagationStopped())break e;Ew(o,A,u),i=s}else for(a=0;a<r.length;a++){if(A=r[a],s=A.instance,u=A.currentTarget,A=A.listener,s!==i&&o.isPropagationStopped())break e;Ew(o,A,u),i=s}}}if(nd)throw e=Zg,nd=!1,Zg=null,e}function $e(e,t){var n=t[um];n===void 0&&(n=t[um]=new Set);var r=e+"__bubble";n.has(r)||(Z2(t,e,2,!1),n.add(r))}function up(e,t,n){var r=0;t&&(r|=4),Z2(n,e,r,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Il]){e[Il]=!0,a2.forEach(function(n){n!=="selectionchange"&&(Gk.has(n)||up(n,!1,e),up(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,up("selectionchange",!1,t))}}function Z2(e,t,n,r){switch(N2(t)){case 1:var o=ak;break;case 4:o=Ak;break;default:o=l0}n=o.bind(null,t,n,e),o=void 0,!Jg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function lp(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var A=r.stateNode.containerInfo;if(A===o||A.nodeType===8&&A.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===o||s.nodeType===8&&s.parentNode===o))return;a=a.return}for(;A!==null;){if(a=ta(A),a===null)return;if(s=a.tag,s===5||s===6){r=i=a;continue e}A=A.parentNode}}r=r.return}B2(function(){var u=i,l=a0(n),c=[];e:{var d=q2.get(e);if(d!==void 0){var f=d0,h=e;switch(e){case"keypress":if(kc(n)===0)break e;case"keydown":case"keyup":f=Bk;break;case"focusin":h="focus",f=rp;break;case"focusout":h="blur",f=rp;break;case"beforeblur":case"afterblur":f=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ek;break;case z2:case $2:case X2:f=fk;break;case Y2:f=Ik;break;case"scroll":f=sk;break;case"wheel":f=Uk;break;case"copy":case"cut":case"paste":f=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=pw}var p=(t&4)!==0,y=!p&&e==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var v=u,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=lu(v,g),x!=null&&p.push(mu(v,x,w)))),y)break;v=v.return}0<p.length&&(d=new f(d,h,null,n,l),c.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==Yg&&(h=n.relatedTarget||n.fromElement)&&(ta(h)||h[Ro]))break e;if((f||d)&&(d=l.window===l?l:(d=l.ownerDocument)?d.defaultView||d.parentWindow:window,f?(h=n.relatedTarget||n.toElement,f=u,h=h?ta(h):null,h!==null&&(y=Ba(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=u),f!==h)){if(p=fw,x="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=pw,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=f==null?d:rA(f),w=h==null?d:rA(h),d=new p(x,v+"leave",f,n,l),d.target=y,d.relatedTarget=w,x=null,ta(l)===u&&(p=new p(g,v+"enter",h,n,l),p.target=w,p.relatedTarget=y,x=p),y=x,f&&h)t:{for(p=f,g=h,v=0,w=p;w;w=Qa(w))v++;for(w=0,x=g;x;x=Qa(x))w++;for(;0<v-w;)p=Qa(p),v--;for(;0<w-v;)g=Qa(g),w--;for(;v--;){if(p===g||g!==null&&p===g.alternate)break t;p=Qa(p),g=Qa(g)}p=null}else p=null;f!==null&&Fw(c,d,f,p,!1),h!==null&&y!==null&&Fw(c,y,h,p,!0)}}e:{if(d=u?rA(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var B=Nk;else if(vw(d))if(j2)B=Hk;else{B=Pk;var C=Mk}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=Lk);if(B&&(B=B(e,u))){O2(c,B,n,l);break e}C&&C(e,d,u),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Wg(d,"number",d.value)}switch(C=u?rA(u):window,e){case"focusin":(vw(C)||C.contentEditable==="true")&&(tA=C,rm=u,Vs=null);break;case"focusout":Vs=rm=tA=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,Cw(c,n,l);break;case"selectionchange":if(Vk)break;case"keydown":case"keyup":Cw(c,n,l)}var b;if(h0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eA?L2(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(P2&&n.locale!=="ko"&&(eA||E!=="onCompositionStart"?E==="onCompositionEnd"&&eA&&(b=M2()):(ai=l,c0="value"in ai?ai.value:ai.textContent,eA=!0)),C=Ad(u,E),0<C.length&&(E=new hw(E,e,null,n,l),c.push({event:E,listeners:C}),b?E.data=b:(b=H2(n),b!==null&&(E.data=b)))),(b=Tk?kk(e,n):_k(e,n))&&(u=Ad(u,"onBeforeInput"),0<u.length&&(l=new hw("onBeforeInput","beforeinput",null,n,l),c.push({event:l,listeners:u}),l.data=b))}J2(c,t)})}function mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ad(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=lu(e,n),i!=null&&r.unshift(mu(e,i,o)),i=lu(e,t),i!=null&&r.push(mu(e,i,o))),e=e.return}return r}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fw(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var A=n,s=A.alternate,u=A.stateNode;if(s!==null&&s===r)break;A.tag===5&&u!==null&&(A=u,o?(s=lu(n,i),s!=null&&a.unshift(mu(n,s,A))):o||(s=lu(n,i),s!=null&&a.push(mu(n,s,A)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function Iw(e){return(typeof e=="string"?e:""+e).replace(zk,`
`).replace($k,"")}function Sl(e,t,n){if(t=Iw(t),Iw(e)!==t&&n)throw Error(X(425))}function sd(){}var im=null,am=null;function Am(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,Xk=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(e){return Sw.resolve(null).then(e).catch(qk)}:sm;function qk(e){setTimeout(function(){throw e})}function cp(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),fu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);fu(t)}function gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var YA=Math.random().toString(36).slice(2),Jr="__reactFiber$"+YA,vu="__reactProps$"+YA,Ro="__reactContainer$"+YA,um="__reactEvents$"+YA,Jk="__reactListeners$"+YA,Zk="__reactHandles$"+YA;function ta(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ro]||n[Jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uw(e);e!==null;){if(n=e[Jr])return n;e=Uw(e)}return t}e=n,n=e.parentNode}return null}function Gu(e){return e=e[Jr]||e[Ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function xf(e){return e[vu]||null}var lm=[],oA=-1;function Mi(e){return{current:e}}function Ye(e){0>oA||(e.current=lm[oA],lm[oA]=null,oA--)}function We(e,t){oA++,lm[oA]=e.current,e.current=t}var Ui={},un=Mi(Ui),Fn=Mi(!1),ha=Ui;function RA(e,t){var n=e.type.contextTypes;if(!n)return Ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function In(e){return e=e.childContextTypes,e!=null}function ud(){Ye(Fn),Ye(un)}function Qw(e,t,n){if(un.current!==Ui)throw Error(X(168));We(un,t),We(Fn,n)}function eE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(X(108,MT(e)||"Unknown",o));return it({},n,r)}function ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ui,ha=un.current,We(un,e),We(Fn,Fn.current),!0}function Tw(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=eE(e,t,ha),r.__reactInternalMemoizedMergedChildContext=e,Ye(Fn),Ye(un),We(un,e)):Ye(Fn),We(Fn,n)}var bo=null,Bf=!1,dp=!1;function tE(e){bo===null?bo=[e]:bo.push(e)}function e_(e){Bf=!0,tE(e)}function Pi(){if(!dp&&bo!==null){dp=!0;var e=0,t=Pe;try{var n=bo;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bo=null,Bf=!1}catch(o){throw bo!==null&&(bo=bo.slice(e+1)),F2(A0,Pi),o}finally{Pe=t,dp=!1}}return null}var iA=[],aA=0,cd=null,dd=0,Ar=[],sr=0,pa=null,Fo=1,Io="";function Gi(e,t){iA[aA++]=dd,iA[aA++]=cd,cd=e,dd=t}function nE(e,t,n){Ar[sr++]=Fo,Ar[sr++]=Io,Ar[sr++]=pa,pa=e;var r=Fo;e=Io;var o=32-Rr(r)-1;r&=~(1<<o),n+=1;var i=32-Rr(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Fo=1<<32-Rr(t)+o|n<<o|r,Io=i+e}else Fo=1<<i|n<<o|r,Io=e}function g0(e){e.return!==null&&(Gi(e,1),nE(e,1,0))}function m0(e){for(;e===cd;)cd=iA[--aA],iA[aA]=null,dd=iA[--aA],iA[aA]=null;for(;e===pa;)pa=Ar[--sr],Ar[sr]=null,Io=Ar[--sr],Ar[sr]=null,Fo=Ar[--sr],Ar[sr]=null}var Kn=null,Hn=null,Ze=!1,Qr=null;function rE(e,t){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,Hn=gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pa!==null?{id:Fo,overflow:Io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kn=e,Hn=null,!0):!1;default:return!1}}function cm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dm(e){if(Ze){var t=Hn;if(t){var n=t;if(!kw(e,t)){if(cm(e))throw Error(X(418));t=gi(n.nextSibling);var r=Kn;t&&kw(e,t)?rE(r,n):(e.flags=e.flags&-4097|2,Ze=!1,Kn=e)}}else{if(cm(e))throw Error(X(418));e.flags=e.flags&-4097|2,Ze=!1,Kn=e}}}function _w(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function Ul(e){if(e!==Kn)return!1;if(!Ze)return _w(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Am(e.type,e.memoizedProps)),t&&(t=Hn)){if(cm(e))throw oE(),Error(X(418));for(;t;)rE(e,t),t=gi(t.nextSibling)}if(_w(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Hn=gi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=Kn?gi(e.stateNode.nextSibling):null;return!0}function oE(){for(var e=Hn;e;)e=gi(e.nextSibling)}function DA(){Hn=Kn=null,Ze=!1}function v0(e){Qr===null?Qr=[e]:Qr.push(e)}var t_=Ho.ReactCurrentBatchConfig;function cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var A=o.refs;a===null?delete A[i]:A[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rw(e){var t=e._init;return t(e._payload)}function iE(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=wi(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function A(g,v,w,x){return v===null||v.tag!==6?(v=yp(w,g.mode,x),v.return=g,v):(v=o(v,w),v.return=g,v)}function s(g,v,w,x){var B=w.type;return B===Za?l(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Zo&&Rw(B)===v.type)?(x=o(v,w.props),x.ref=cs(g,v,w),x.return=g,x):(x=Lc(w.type,w.key,w.props,null,g.mode,x),x.ref=cs(g,v,w),x.return=g,x)}function u(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=wp(w,g.mode,x),v.return=g,v):(v=o(v,w.children||[]),v.return=g,v)}function l(g,v,w,x,B){return v===null||v.tag!==7?(v=la(w,g.mode,x,B),v.return=g,v):(v=o(v,w),v.return=g,v)}function c(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=yp(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yl:return w=Lc(v.type,v.key,v.props,null,g.mode,w),w.ref=cs(g,null,v),w.return=g,w;case Ja:return v=wp(v,g.mode,w),v.return=g,v;case Zo:var x=v._init;return c(g,x(v._payload),w)}if(Ss(v)||as(v))return v=la(v,g.mode,w,null),v.return=g,v;Ql(g,v)}return null}function d(g,v,w,x){var B=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return B!==null?null:A(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yl:return w.key===B?s(g,v,w,x):null;case Ja:return w.key===B?u(g,v,w,x):null;case Zo:return B=w._init,d(g,v,B(w._payload),x)}if(Ss(w)||as(w))return B!==null?null:l(g,v,w,x,null);Ql(g,w)}return null}function f(g,v,w,x,B){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,A(v,g,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yl:return g=g.get(x.key===null?w:x.key)||null,s(v,g,x,B);case Ja:return g=g.get(x.key===null?w:x.key)||null,u(v,g,x,B);case Zo:var C=x._init;return f(g,v,w,C(x._payload),B)}if(Ss(x)||as(x))return g=g.get(w)||null,l(v,g,x,B,null);Ql(v,x)}return null}function h(g,v,w,x){for(var B=null,C=null,b=v,E=v=0,F=null;b!==null&&E<w.length;E++){b.index>E?(F=b,b=null):F=b.sibling;var I=d(g,b,w[E],x);if(I===null){b===null&&(b=F);break}e&&b&&I.alternate===null&&t(g,b),v=i(I,v,E),C===null?B=I:C.sibling=I,C=I,b=F}if(E===w.length)return n(g,b),Ze&&Gi(g,E),B;if(b===null){for(;E<w.length;E++)b=c(g,w[E],x),b!==null&&(v=i(b,v,E),C===null?B=b:C.sibling=b,C=b);return Ze&&Gi(g,E),B}for(b=r(g,b);E<w.length;E++)F=f(b,g,E,w[E],x),F!==null&&(e&&F.alternate!==null&&b.delete(F.key===null?E:F.key),v=i(F,v,E),C===null?B=F:C.sibling=F,C=F);return e&&b.forEach(function(T){return t(g,T)}),Ze&&Gi(g,E),B}function p(g,v,w,x){var B=as(w);if(typeof B!="function")throw Error(X(150));if(w=B.call(w),w==null)throw Error(X(151));for(var C=B=null,b=v,E=v=0,F=null,I=w.next();b!==null&&!I.done;E++,I=w.next()){b.index>E?(F=b,b=null):F=b.sibling;var T=d(g,b,I.value,x);if(T===null){b===null&&(b=F);break}e&&b&&T.alternate===null&&t(g,b),v=i(T,v,E),C===null?B=T:C.sibling=T,C=T,b=F}if(I.done)return n(g,b),Ze&&Gi(g,E),B;if(b===null){for(;!I.done;E++,I=w.next())I=c(g,I.value,x),I!==null&&(v=i(I,v,E),C===null?B=I:C.sibling=I,C=I);return Ze&&Gi(g,E),B}for(b=r(g,b);!I.done;E++,I=w.next())I=f(b,g,E,I.value,x),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?E:I.key),v=i(I,v,E),C===null?B=I:C.sibling=I,C=I);return e&&b.forEach(function(Q){return t(g,Q)}),Ze&&Gi(g,E),B}function y(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===Za&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yl:e:{for(var B=w.key,C=v;C!==null;){if(C.key===B){if(B=w.type,B===Za){if(C.tag===7){n(g,C.sibling),v=o(C,w.props.children),v.return=g,g=v;break e}}else if(C.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Zo&&Rw(B)===C.type){n(g,C.sibling),v=o(C,w.props),v.ref=cs(g,C,w),v.return=g,g=v;break e}n(g,C);break}else t(g,C);C=C.sibling}w.type===Za?(v=la(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=Lc(w.type,w.key,w.props,null,g.mode,x),x.ref=cs(g,v,w),x.return=g,g=x)}return a(g);case Ja:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=o(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=wp(w,g.mode,x),v.return=g,g=v}return a(g);case Zo:return C=w._init,y(g,v,C(w._payload),x)}if(Ss(w))return h(g,v,w,x);if(as(w))return p(g,v,w,x);Ql(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=o(v,w),v.return=g,g=v):(n(g,v),v=yp(w,g.mode,x),v.return=g,g=v),a(g)):n(g,v)}return y}var NA=iE(!0),aE=iE(!1),fd=Mi(null),hd=null,AA=null,y0=null;function w0(){y0=AA=hd=null}function x0(e){var t=fd.current;Ye(fd),e._currentValue=t}function fm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yA(e,t){hd=e,y0=AA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bn=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(y0!==e)if(e={context:e,memoizedValue:t,next:null},AA===null){if(hd===null)throw Error(X(308));AA=e,hd.dependencies={lanes:0,firstContext:e}}else AA=AA.next=e;return t}var na=null;function B0(e){na===null?na=[e]:na.push(e)}function AE(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,B0(t)):(n.next=o.next,o.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function C0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Do(e,n)}return o=r.interleaved,o===null?(t.next=t,B0(r)):(t.next=o.next,o.next=t),r.interleaved=t,Do(e,n)}function _c(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s0(e,n)}}function Dw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pd(e,t,n,r){var o=e.updateQueue;ei=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,A=o.shared.pending;if(A!==null){o.shared.pending=null;var s=A,u=s.next;s.next=null,a===null?i=u:a.next=u,a=s;var l=e.alternate;l!==null&&(l=l.updateQueue,A=l.lastBaseUpdate,A!==a&&(A===null?l.firstBaseUpdate=u:A.next=u,l.lastBaseUpdate=s))}if(i!==null){var c=o.baseState;a=0,l=u=s=null,A=i;do{var d=A.lane,f=A.eventTime;if((r&d)===d){l!==null&&(l=l.next={eventTime:f,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var h=e,p=A;switch(d=t,f=n,p.tag){case 1:if(h=p.payload,typeof h=="function"){c=h.call(f,c,d);break e}c=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=p.payload,d=typeof h=="function"?h.call(f,c,d):h,d==null)break e;c=it({},c,d);break e;case 2:ei=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[A]:d.push(A))}else f={eventTime:f,lane:d,tag:A.tag,payload:A.payload,callback:A.callback,next:null},l===null?(u=l=f,s=c):l=l.next=f,a|=d;if(A=A.next,A===null){if(A=o.shared.pending,A===null)break;d=A,A=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(l===null&&(s=c),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=l,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ma|=a,e.lanes=a,e.memoizedState=c}}function Nw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(X(191,o));o.call(r)}}}var zu={},ro=Mi(zu),yu=Mi(zu),wu=Mi(zu);function ra(e){if(e===zu)throw Error(X(174));return e}function b0(e,t){switch(We(wu,t),We(yu,e),We(ro,zu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zg(t,e)}Ye(ro),We(ro,t)}function MA(){Ye(ro),Ye(yu),Ye(wu)}function uE(e){ra(wu.current);var t=ra(ro.current),n=zg(t,e.type);t!==n&&(We(yu,e),We(ro,n))}function E0(e){yu.current===e&&(Ye(ro),Ye(yu))}var et=Mi(0);function gd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fp=[];function F0(){for(var e=0;e<fp.length;e++)fp[e]._workInProgressVersionPrimary=null;fp.length=0}var Rc=Ho.ReactCurrentDispatcher,hp=Ho.ReactCurrentBatchConfig,ga=0,ot=null,Et=null,Dt=null,md=!1,Ks=!1,xu=0,n_=0;function Yt(){throw Error(X(321))}function I0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function S0(e,t,n,r,o,i){if(ga=i,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rc.current=e===null||e.memoizedState===null?a_:A_,e=n(r,o),Ks){i=0;do{if(Ks=!1,xu=0,25<=i)throw Error(X(301));i+=1,Dt=Et=null,t.updateQueue=null,Rc.current=s_,e=n(r,o)}while(Ks)}if(Rc.current=vd,t=Et!==null&&Et.next!==null,ga=0,Dt=Et=ot=null,md=!1,t)throw Error(X(300));return e}function U0(){var e=xu!==0;return xu=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function yr(){if(Et===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Dt===null?ot.memoizedState:Dt.next;if(t!==null)Dt=t,Et=e;else{if(e===null)throw Error(X(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Dt===null?ot.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Bu(e,t){return typeof t=="function"?t(e):t}function pp(e){var t=yr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=Et,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var A=a=null,s=null,u=i;do{var l=u.lane;if((ga&l)===l)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(A=s=c,a=r):s=s.next=c,ot.lanes|=l,ma|=l}u=u.next}while(u!==null&&u!==i);s===null?a=r:s.next=A,Mr(r,t.memoizedState)||(bn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ot.lanes|=i,ma|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gp(e){var t=yr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Mr(i,t.memoizedState)||(bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function lE(){}function cE(e,t){var n=ot,r=yr(),o=t(),i=!Mr(r.memoizedState,o);if(i&&(r.memoizedState=o,bn=!0),r=r.queue,Q0(hE.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Cu(9,fE.bind(null,n,r,o,t),void 0,null),Nt===null)throw Error(X(349));ga&30||dE(n,t,o)}return o}function dE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fE(e,t,n,r){t.value=n,t.getSnapshot=r,pE(t)&&gE(e)}function hE(e,t,n){return n(function(){pE(t)&&gE(e)})}function pE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mr(e,n)}catch{return!0}}function gE(e){var t=Do(e,1);t!==null&&Dr(t,e,1,-1)}function Mw(e){var t=zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:e},t.queue=e,e=e.dispatch=i_.bind(null,ot,e),[t.memoizedState,e]}function Cu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mE(){return yr().memoizedState}function Dc(e,t,n,r){var o=zr();ot.flags|=e,o.memoizedState=Cu(1|t,n,void 0,r===void 0?null:r)}function Cf(e,t,n,r){var o=yr();r=r===void 0?null:r;var i=void 0;if(Et!==null){var a=Et.memoizedState;if(i=a.destroy,r!==null&&I0(r,a.deps)){o.memoizedState=Cu(t,n,i,r);return}}ot.flags|=e,o.memoizedState=Cu(1|t,n,i,r)}function Pw(e,t){return Dc(8390656,8,e,t)}function Q0(e,t){return Cf(2048,8,e,t)}function vE(e,t){return Cf(4,2,e,t)}function yE(e,t){return Cf(4,4,e,t)}function wE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xE(e,t,n){return n=n!=null?n.concat([e]):null,Cf(4,4,wE.bind(null,t,e),n)}function T0(){}function BE(e,t){var n=yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function CE(e,t){var n=yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bE(e,t,n){return ga&21?(Mr(n,t)||(n=U2(),ot.lanes|=n,ma|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=n)}function r_(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=hp.transition;hp.transition={};try{e(!1),t()}finally{Pe=n,hp.transition=r}}function EE(){return yr().memoizedState}function o_(e,t,n){var r=yi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FE(e))IE(t,n);else if(n=AE(e,t,n,r),n!==null){var o=gn();Dr(n,e,r,o),SE(n,t,r)}}function i_(e,t,n){var r=yi(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FE(e))IE(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,A=i(a,n);if(o.hasEagerState=!0,o.eagerState=A,Mr(A,a)){var s=t.interleaved;s===null?(o.next=o,B0(t)):(o.next=s.next,s.next=o),t.interleaved=o;return}}catch{}finally{}n=AE(e,t,o,r),n!==null&&(o=gn(),Dr(n,e,r,o),SE(n,t,r))}}function FE(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function IE(e,t){Ks=md=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s0(e,n)}}var vd={readContext:vr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},a_={readContext:vr,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:Pw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dc(4194308,4,wE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dc(4,2,e,t)},useMemo:function(e,t){var n=zr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=o_.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:Mw,useDebugValue:T0,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=Mw(!1),t=e[0];return e=r_.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,o=zr();if(Ze){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Nt===null)throw Error(X(349));ga&30||dE(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Pw(hE.bind(null,r,i,e),[e]),r.flags|=2048,Cu(9,fE.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zr(),t=Nt.identifierPrefix;if(Ze){var n=Io,r=Fo;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=n_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A_={readContext:vr,useCallback:BE,useContext:vr,useEffect:Q0,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:CE,useReducer:pp,useRef:mE,useState:function(){return pp(Bu)},useDebugValue:T0,useDeferredValue:function(e){var t=yr();return bE(t,Et.memoizedState,e)},useTransition:function(){var e=pp(Bu)[0],t=yr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:cE,useId:EE,unstable_isNewReconciler:!1},s_={readContext:vr,useCallback:BE,useContext:vr,useEffect:Q0,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:CE,useReducer:gp,useRef:mE,useState:function(){return gp(Bu)},useDebugValue:T0,useDeferredValue:function(e){var t=yr();return Et===null?t.memoizedState=e:bE(t,Et.memoizedState,e)},useTransition:function(){var e=gp(Bu)[0],t=yr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:cE,useId:EE,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:it({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bf={isMounted:function(e){return(e=e._reactInternals)?Ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gn(),o=yi(e),i=Uo(r,o);i.payload=t,n!=null&&(i.callback=n),t=mi(e,i,o),t!==null&&(Dr(t,e,o,r),_c(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gn(),o=yi(e),i=Uo(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mi(e,i,o),t!==null&&(Dr(t,e,o,r),_c(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),r=yi(e),o=Uo(n,r);o.tag=2,t!=null&&(o.callback=t),t=mi(e,o,r),t!==null&&(Dr(t,e,r,n),_c(t,e,r))}};function Lw(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!pu(n,r)||!pu(o,i):!0}function UE(e,t,n){var r=!1,o=Ui,i=t.contextType;return typeof i=="object"&&i!==null?i=vr(i):(o=In(t)?ha:un.current,r=t.contextTypes,i=(r=r!=null)?RA(e,o):Ui),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bf.enqueueReplaceState(t,t.state,null)}function pm(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},C0(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=vr(i):(i=In(t)?ha:un.current,o.context=RA(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hm(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&bf.enqueueReplaceState(o,o.state,null),pd(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function PA(e,t){try{var n="",r=t;do n+=NT(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function mp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u_=typeof WeakMap=="function"?WeakMap:Map;function QE(e,t,n){n=Uo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wd||(wd=!0,Fm=r),gm(e,t)},n}function TE(e,t,n){n=Uo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){gm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gm(e,t),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ow(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new u_;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=C_.bind(null,e,t,n),t.then(e,e))}function jw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vw(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Uo(-1,1),t.tag=2,mi(n,t,1))),n.lanes|=1),e)}var l_=Ho.ReactCurrentOwner,bn=!1;function pn(e,t,n,r){t.child=e===null?aE(t,null,n,r):NA(t,e.child,n,r)}function Kw(e,t,n,r,o){n=n.render;var i=t.ref;return yA(t,o),r=S0(e,t,n,r,i,o),n=U0(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(Ze&&n&&g0(t),t.flags|=1,pn(e,t,r,o),t.child)}function Ww(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!L0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kE(e,t,i,r,o)):(e=Lc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(a,r)&&e.ref===t.ref)return No(e,t,o)}return t.flags|=1,e=wi(i,r),e.ref=t.ref,e.return=t,t.child=e}function kE(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(pu(i,r)&&e.ref===t.ref)if(bn=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,No(e,t,o)}return mm(e,t,n,r,o)}function _E(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(uA,Nn),Nn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(uA,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(uA,Nn),Nn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(uA,Nn),Nn|=r;return pn(e,t,o,n),t.child}function RE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mm(e,t,n,r,o){var i=In(n)?ha:un.current;return i=RA(t,i),yA(t,o),n=S0(e,t,n,r,i,o),r=U0(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(Ze&&r&&g0(t),t.flags|=1,pn(e,t,n,o),t.child)}function Gw(e,t,n,r,o){if(In(n)){var i=!0;ld(t)}else i=!1;if(yA(t,o),t.stateNode===null)Nc(e,t),UE(t,n,r),pm(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,A=t.memoizedProps;a.props=A;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=In(n)?ha:un.current,u=RA(t,u));var l=n.getDerivedStateFromProps,c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==r||s!==u)&&Hw(t,a,r,u),ei=!1;var d=t.memoizedState;a.state=d,pd(t,r,a,o),s=t.memoizedState,A!==r||d!==s||Fn.current||ei?(typeof l=="function"&&(hm(t,n,l,r),s=t.memoizedState),(A=ei||Lw(t,n,A,r,d,s,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=A):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,sE(e,t),A=t.memoizedProps,u=t.type===t.elementType?A:Sr(t.type,A),a.props=u,c=t.pendingProps,d=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=vr(s):(s=In(n)?ha:un.current,s=RA(t,s));var f=n.getDerivedStateFromProps;(l=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==c||d!==s)&&Hw(t,a,r,s),ei=!1,d=t.memoizedState,a.state=d,pd(t,r,a,o);var h=t.memoizedState;A!==c||d!==h||Fn.current||ei?(typeof f=="function"&&(hm(t,n,f,r),h=t.memoizedState),(u=ei||Lw(t,n,u,r,d,h,s)||!1)?(l||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||A===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return vm(e,t,n,r,i,o)}function vm(e,t,n,r,o,i){RE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&Tw(t,n,!1),No(e,t,i);r=t.stateNode,l_.current=t;var A=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=NA(t,e.child,null,i),t.child=NA(t,null,A,i)):pn(e,t,A,i),t.memoizedState=r.state,o&&Tw(t,n,!0),t.child}function DE(e){var t=e.stateNode;t.pendingContext?Qw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qw(e,t.context,!1),b0(e,t.containerInfo)}function zw(e,t,n,r,o){return DA(),v0(o),t.flags|=256,pn(e,t,n,r),t.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function NE(e,t,n){var r=t.pendingProps,o=et.current,i=!1,a=(t.flags&128)!==0,A;if((A=a)||(A=e!==null&&e.memoizedState===null?!1:(o&2)!==0),A?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),We(et,o&1),e===null)return dm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=If(a,r,0,null),e=la(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wm(n),t.memoizedState=ym,e):k0(t,a));if(o=e.memoizedState,o!==null&&(A=o.dehydrated,A!==null))return c_(e,t,a,r,A,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,A=o.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=wi(o,s),r.subtreeFlags=o.subtreeFlags&14680064),A!==null?i=wi(A,i):(i=la(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?wm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ym,r}return i=e.child,e=i.sibling,r=wi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function k0(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,n,r){return r!==null&&v0(r),NA(t,e.child,null,n),e=k0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function c_(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=mp(Error(X(422))),Tl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=If({mode:"visible",children:r.children},o,0,null),i=la(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&NA(t,e.child,null,a),t.child.memoizedState=wm(a),t.memoizedState=ym,i);if(!(t.mode&1))return Tl(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var A=r.dgst;return r=A,i=Error(X(419)),r=mp(i,r,void 0),Tl(e,t,a,r)}if(A=(a&e.childLanes)!==0,bn||A){if(r=Nt,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Do(e,o),Dr(r,e,o,-1))}return P0(),r=mp(Error(X(421))),Tl(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=b_.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Hn=gi(o.nextSibling),Kn=t,Ze=!0,Qr=null,e!==null&&(Ar[sr++]=Fo,Ar[sr++]=Io,Ar[sr++]=pa,Fo=e.id,Io=e.overflow,pa=t),t=k0(t,r.children),t.flags|=4096,t)}function $w(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fm(e.return,t,n)}function vp(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ME(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(pn(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$w(e,n,t);else if(e.tag===19)$w(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(et,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&gd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),vp(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&gd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}vp(t,!0,n,null,i);break;case"together":vp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function No(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=wi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function d_(e,t,n){switch(t.tag){case 3:DE(t),DA();break;case 5:uE(t);break;case 1:In(t.type)&&ld(t);break;case 4:b0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;We(fd,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?NE(e,t,n):(We(et,et.current&1),e=No(e,t,n),e!==null?e.sibling:null);We(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ME(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),We(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,_E(e,t,n)}return No(e,t,n)}var PE,xm,LE,HE;PE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};LE=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ro.current);var i=null;switch(n){case"input":o=Vg(e,o),r=Vg(e,r),i=[];break;case"select":o=it({},o,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":o=Gg(e,o),r=Gg(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sd)}$g(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var A=o[u];for(a in A)A.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(su.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var s=r[u];if(A=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&s!==A&&(s!=null||A!=null))if(u==="style")if(A){for(a in A)!A.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&A[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,A=A?A.__html:void 0,s!=null&&A!==s&&(i=i||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(su.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&$e("scroll",e),i||A===s||(i=[])):(i=i||[]).push(u,s))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};HE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ds(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function f_(e,t,n){var r=t.pendingProps;switch(m0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return In(t.type)&&ud(),qt(t),null;case 3:return r=t.stateNode,MA(),Ye(Fn),Ye(un),F0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qr!==null&&(Um(Qr),Qr=null))),xm(e,t),qt(t),null;case 5:E0(t);var o=ra(wu.current);if(n=t.type,e!==null&&t.stateNode!=null)LE(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return qt(t),null}if(e=ra(ro.current),Ul(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jr]=t,r[vu]=i,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Qs.length;o++)$e(Qs[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":rw(r,i),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$e("invalid",r);break;case"textarea":iw(r,i),$e("invalid",r)}$g(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?r.textContent!==A&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,A,e),o=["children",A]):typeof A=="number"&&r.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,A,e),o=["children",""+A]):su.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&$e("scroll",r)}switch(n){case"input":wl(r),ow(r,i,!0);break;case"textarea":wl(r),aw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Jr]=t,e[vu]=r,PE(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xg(n,r),n){case"dialog":$e("cancel",e),$e("close",e),o=r;break;case"iframe":case"object":case"embed":$e("load",e),o=r;break;case"video":case"audio":for(o=0;o<Qs.length;o++)$e(Qs[o],e);o=r;break;case"source":$e("error",e),o=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),o=r;break;case"details":$e("toggle",e),o=r;break;case"input":rw(e,r),o=Vg(e,r),$e("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=it({},r,{value:void 0}),$e("invalid",e);break;case"textarea":iw(e,r),o=Gg(e,r),$e("invalid",e);break;default:o=r}$g(n,o),A=o;for(i in A)if(A.hasOwnProperty(i)){var s=A[i];i==="style"?m2(e,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&p2(e,s)):i==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&uu(e,s):typeof s=="number"&&uu(e,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(su.hasOwnProperty(i)?s!=null&&i==="onScroll"&&$e("scroll",e):s!=null&&n0(e,i,s,a))}switch(n){case"input":wl(e),ow(e,r,!1);break;case"textarea":wl(e),aw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Si(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pA(e,!!r.multiple,i,!1):r.defaultValue!=null&&pA(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)HE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=ra(wu.current),ra(ro.current),Ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,(i=r.nodeValue!==n)&&(e=Kn,e!==null))switch(e.tag){case 3:Sl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=t,t.stateNode=r}return qt(t),null;case 13:if(Ye(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Hn!==null&&t.mode&1&&!(t.flags&128))oE(),DA(),t.flags|=98560,i=!1;else if(i=Ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Jr]=t}else DA(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),i=!1}else Qr!==null&&(Um(Qr),Qr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?It===0&&(It=3):P0())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return MA(),xm(e,t),e===null&&gu(t.stateNode.containerInfo),qt(t),null;case 10:return x0(t.type._context),qt(t),null;case 17:return In(t.type)&&ud(),qt(t),null;case 19:if(Ye(et),i=t.memoizedState,i===null)return qt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ds(i,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=gd(e),a!==null){for(t.flags|=128,ds(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>LA&&(t.flags|=128,r=!0,ds(i,!1),t.lanes=4194304)}else{if(!r)if(e=gd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ze)return qt(t),null}else 2*pt()-i.renderingStartTime>LA&&n!==1073741824&&(t.flags|=128,r=!0,ds(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,n=et.current,We(et,r?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return M0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nn&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function h_(e,t){switch(m0(t),t.tag){case 1:return In(t.type)&&ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return MA(),Ye(Fn),Ye(un),F0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E0(t),null;case 13:if(Ye(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));DA()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(et),null;case 4:return MA(),null;case 10:return x0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var kl=!1,rn=!1,p_=typeof WeakSet=="function"?WeakSet:Set,re=null;function sA(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(e,t,r)}else n.current=null}function Bm(e,t,n){try{n()}catch(r){lt(e,t,r)}}var Xw=!1;function g_(e,t){if(im=id,e=W2(),p0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,A=-1,s=-1,u=0,l=0,c=e,d=null;t:for(;;){for(var f;c!==n||o!==0&&c.nodeType!==3||(A=a+o),c!==i||r!==0&&c.nodeType!==3||(s=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(f=c.firstChild)!==null;)d=c,c=f;for(;;){if(c===e)break t;if(d===n&&++u===o&&(A=a),d===i&&++l===r&&(s=a),(f=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=f}n=A===-1||s===-1?null:{start:A,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:e,selectionRange:n},id=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var p=h.memoizedProps,y=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:Sr(t.type,p),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){lt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return h=Xw,Xw=!1,h}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Bm(t,n,i)}o=o.next}while(o!==r)}}function Ef(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OE(e){var t=e.alternate;t!==null&&(e.alternate=null,OE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jr],delete t[vu],delete t[um],delete t[Jk],delete t[Zk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jE(e){return e.tag===5||e.tag===3||e.tag===4}function Yw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sd));else if(r!==4&&(e=e.child,e!==null))for(bm(e,t,n),e=e.sibling;e!==null;)bm(e,t,n),e=e.sibling}function Em(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Em(e,t,n),e=e.sibling;e!==null;)Em(e,t,n),e=e.sibling}var Ht=null,Ur=!1;function zo(e,t,n){for(n=n.child;n!==null;)VE(e,t,n),n=n.sibling}function VE(e,t,n){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:rn||sA(n,t);case 6:var r=Ht,o=Ur;Ht=null,zo(e,t,n),Ht=r,Ur=o,Ht!==null&&(Ur?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Ur?(e=Ht,n=n.stateNode,e.nodeType===8?cp(e.parentNode,n):e.nodeType===1&&cp(e,n),fu(e)):cp(Ht,n.stateNode));break;case 4:r=Ht,o=Ur,Ht=n.stateNode.containerInfo,Ur=!0,zo(e,t,n),Ht=r,Ur=o;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bm(n,t,a),o=o.next}while(o!==r)}zo(e,t,n);break;case 1:if(!rn&&(sA(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(A){lt(n,t,A)}zo(e,t,n);break;case 21:zo(e,t,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,zo(e,t,n),rn=r):zo(e,t,n);break;default:zo(e,t,n)}}function qw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new p_),t.forEach(function(r){var o=E_.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Fr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,A=a;e:for(;A!==null;){switch(A.tag){case 5:Ht=A.stateNode,Ur=!1;break e;case 3:Ht=A.stateNode.containerInfo,Ur=!0;break e;case 4:Ht=A.stateNode.containerInfo,Ur=!0;break e}A=A.return}if(Ht===null)throw Error(X(160));VE(i,a,o),Ht=null,Ur=!1;var s=o.alternate;s!==null&&(s.return=null),o.return=null}catch(u){lt(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KE(t,e),t=t.sibling}function KE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fr(t,e),Kr(e),r&4){try{Ws(3,e,e.return),Ef(3,e)}catch(p){lt(e,e.return,p)}try{Ws(5,e,e.return)}catch(p){lt(e,e.return,p)}}break;case 1:Fr(t,e),Kr(e),r&512&&n!==null&&sA(n,n.return);break;case 5:if(Fr(t,e),Kr(e),r&512&&n!==null&&sA(n,n.return),e.flags&32){var o=e.stateNode;try{uu(o,"")}catch(p){lt(e,e.return,p)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,A=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&d2(o,i),Xg(A,a);var u=Xg(A,i);for(a=0;a<s.length;a+=2){var l=s[a],c=s[a+1];l==="style"?m2(o,c):l==="dangerouslySetInnerHTML"?p2(o,c):l==="children"?uu(o,c):n0(o,l,c,u)}switch(A){case"input":Kg(o,i);break;case"textarea":f2(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?pA(o,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?pA(o,!!i.multiple,i.defaultValue,!0):pA(o,!!i.multiple,i.multiple?[]:"",!1))}o[vu]=i}catch(p){lt(e,e.return,p)}}break;case 6:if(Fr(t,e),Kr(e),r&4){if(e.stateNode===null)throw Error(X(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(p){lt(e,e.return,p)}}break;case 3:if(Fr(t,e),Kr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(t.containerInfo)}catch(p){lt(e,e.return,p)}break;case 4:Fr(t,e),Kr(e);break;case 13:Fr(t,e),Kr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(D0=pt())),r&4&&qw(e);break;case 22:if(l=n!==null&&n.memoizedState!==null,e.mode&1?(rn=(u=rn)||l,Fr(t,e),rn=u):Fr(t,e),Kr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!l&&e.mode&1)for(re=e,l=e.child;l!==null;){for(c=re=l;re!==null;){switch(d=re,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ws(4,d,d.return);break;case 1:sA(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(p){lt(r,n,p)}}break;case 5:sA(d,d.return);break;case 22:if(d.memoizedState!==null){Zw(c);continue}}f!==null?(f.return=d,re=f):Zw(c)}l=l.sibling}e:for(l=null,c=e;;){if(c.tag===5){if(l===null){l=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=c.stateNode,s=c.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,A.style.display=g2("display",a))}catch(p){lt(e,e.return,p)}}}else if(c.tag===6){if(l===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(p){lt(e,e.return,p)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;l===c&&(l=null),c=c.return}l===c&&(l=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Fr(t,e),Kr(e),r&4&&qw(e);break;case 21:break;default:Fr(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(uu(o,""),r.flags&=-33);var i=Yw(e);Em(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,A=Yw(e);bm(e,A,a);break;default:throw Error(X(161))}}catch(s){lt(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m_(e,t,n){re=e,WE(e)}function WE(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var o=re,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||kl;if(!a){var A=o.alternate,s=A!==null&&A.memoizedState!==null||rn;A=kl;var u=rn;if(kl=a,(rn=s)&&!u)for(re=o;re!==null;)a=re,s=a.child,a.tag===22&&a.memoizedState!==null?ex(o):s!==null?(s.return=a,re=s):ex(o);for(;i!==null;)re=i,WE(i),i=i.sibling;re=o,kl=A,rn=u}Jw(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,re=i):Jw(e)}}function Jw(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||Ef(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Sr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nw(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nw(t,a,n)}break;case 5:var A=t.stateNode;if(n===null&&t.flags&4){n=A;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var c=l.dehydrated;c!==null&&fu(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}rn||t.flags&512&&Cm(t)}catch(d){lt(t,t.return,d)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function Zw(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function ex(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ef(4,t)}catch(s){lt(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(s){lt(t,o,s)}}var i=t.return;try{Cm(t)}catch(s){lt(t,i,s)}break;case 5:var a=t.return;try{Cm(t)}catch(s){lt(t,a,s)}}}catch(s){lt(t,t.return,s)}if(t===e){re=null;break}var A=t.sibling;if(A!==null){A.return=t.return,re=A;break}re=t.return}}var v_=Math.ceil,yd=Ho.ReactCurrentDispatcher,_0=Ho.ReactCurrentOwner,mr=Ho.ReactCurrentBatchConfig,Ue=0,Nt=null,Bt=null,zt=0,Nn=0,uA=Mi(0),It=0,bu=null,ma=0,Ff=0,R0=0,Gs=null,wn=null,D0=0,LA=1/0,Co=null,wd=!1,Fm=null,vi=null,_l=!1,Ai=null,xd=0,zs=0,Im=null,Mc=-1,Pc=0;function gn(){return Ue&6?pt():Mc!==-1?Mc:Mc=pt()}function yi(e){return e.mode&1?Ue&2&&zt!==0?zt&-zt:t_.transition!==null?(Pc===0&&(Pc=U2()),Pc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:N2(e.type)),e):1}function Dr(e,t,n,r){if(50<zs)throw zs=0,Im=null,Error(X(185));Ku(e,n,r),(!(Ue&2)||e!==Nt)&&(e===Nt&&(!(Ue&2)&&(Ff|=n),It===4&&oi(e,zt)),Sn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(LA=pt()+500,Bf&&Pi()))}function Sn(e,t){var n=e.callbackNode;tk(e,t);var r=od(e,e===Nt?zt:0);if(r===0)n!==null&&uw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uw(n),t===1)e.tag===0?e_(tx.bind(null,e)):tE(tx.bind(null,e)),Yk(function(){!(Ue&6)&&Pi()}),n=null;else{switch(Q2(r)){case 1:n=A0;break;case 4:n=I2;break;case 16:n=rd;break;case 536870912:n=S2;break;default:n=rd}n=ZE(n,GE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function GE(e,t){if(Mc=-1,Pc=0,Ue&6)throw Error(X(327));var n=e.callbackNode;if(wA()&&e.callbackNode!==n)return null;var r=od(e,e===Nt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bd(e,r);else{t=r;var o=Ue;Ue|=2;var i=$E();(Nt!==e||zt!==t)&&(Co=null,LA=pt()+500,ua(e,t));do try{x_();break}catch(A){zE(e,A)}while(1);w0(),yd.current=i,Ue=o,Bt!==null?t=0:(Nt=null,zt=0,t=It)}if(t!==0){if(t===2&&(o=em(e),o!==0&&(r=o,t=Sm(e,o))),t===1)throw n=bu,ua(e,0),oi(e,r),Sn(e,pt()),n;if(t===6)oi(e,r);else{if(o=e.current.alternate,!(r&30)&&!y_(o)&&(t=Bd(e,r),t===2&&(i=em(e),i!==0&&(r=i,t=Sm(e,i))),t===1))throw n=bu,ua(e,0),oi(e,r),Sn(e,pt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:zi(e,wn,Co);break;case 3:if(oi(e,r),(r&130023424)===r&&(t=D0+500-pt(),10<t)){if(od(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){gn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=sm(zi.bind(null,e,wn,Co),t);break}zi(e,wn,Co);break;case 4:if(oi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Rr(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v_(r/1960))-r,10<r){e.timeoutHandle=sm(zi.bind(null,e,wn,Co),r);break}zi(e,wn,Co);break;case 5:zi(e,wn,Co);break;default:throw Error(X(329))}}}return Sn(e,pt()),e.callbackNode===n?GE.bind(null,e):null}function Sm(e,t){var n=Gs;return e.current.memoizedState.isDehydrated&&(ua(e,t).flags|=256),e=Bd(e,t),e!==2&&(t=wn,wn=n,t!==null&&Um(t)),e}function Um(e){wn===null?wn=e:wn.push.apply(wn,e)}function y_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Mr(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t){for(t&=~R0,t&=~Ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rr(t),r=1<<n;e[n]=-1,t&=~r}}function tx(e){if(Ue&6)throw Error(X(327));wA();var t=od(e,0);if(!(t&1))return Sn(e,pt()),null;var n=Bd(e,t);if(e.tag!==0&&n===2){var r=em(e);r!==0&&(t=r,n=Sm(e,r))}if(n===1)throw n=bu,ua(e,0),oi(e,t),Sn(e,pt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zi(e,wn,Co),Sn(e,pt()),null}function N0(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(LA=pt()+500,Bf&&Pi())}}function va(e){Ai!==null&&Ai.tag===0&&!(Ue&6)&&wA();var t=Ue;Ue|=1;var n=mr.transition,r=Pe;try{if(mr.transition=null,Pe=1,e)return e()}finally{Pe=r,mr.transition=n,Ue=t,!(Ue&6)&&Pi()}}function M0(){Nn=uA.current,Ye(uA)}function ua(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xk(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(m0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ud();break;case 3:MA(),Ye(Fn),Ye(un),F0();break;case 5:E0(r);break;case 4:MA();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:x0(r.type._context);break;case 22:case 23:M0()}n=n.return}if(Nt=e,Bt=e=wi(e.current,null),zt=Nn=t,It=0,bu=null,R0=Ff=ma=0,wn=Gs=null,na!==null){for(t=0;t<na.length;t++)if(n=na[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}na=null}return e}function zE(e,t){do{var n=Bt;try{if(w0(),Rc.current=vd,md){for(var r=ot.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}md=!1}if(ga=0,Dt=Et=ot=null,Ks=!1,xu=0,_0.current=null,n===null||n.return===null){It=1,bu=t,Bt=null;break}e:{var i=e,a=n.return,A=n,s=t;if(t=zt,A.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,l=A,c=l.tag;if(!(l.mode&1)&&(c===0||c===11||c===15)){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=jw(a);if(f!==null){f.flags&=-257,Vw(f,a,A,i,t),f.mode&1&&Ow(i,u,t),t=f,s=u;var h=t.updateQueue;if(h===null){var p=new Set;p.add(s),t.updateQueue=p}else h.add(s);break e}else{if(!(t&1)){Ow(i,u,t),P0();break e}s=Error(X(426))}}else if(Ze&&A.mode&1){var y=jw(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Vw(y,a,A,i,t),v0(PA(s,A));break e}}i=s=PA(s,A),It!==4&&(It=2),Gs===null?Gs=[i]:Gs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=QE(i,s,t);Dw(i,g);break e;case 1:A=s;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vi===null||!vi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=TE(i,A,t);Dw(i,x);break e}}i=i.return}while(i!==null)}YE(n)}catch(B){t=B,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(1)}function $E(){var e=yd.current;return yd.current=vd,e===null?vd:e}function P0(){(It===0||It===3||It===2)&&(It=4),Nt===null||!(ma&268435455)&&!(Ff&268435455)||oi(Nt,zt)}function Bd(e,t){var n=Ue;Ue|=2;var r=$E();(Nt!==e||zt!==t)&&(Co=null,ua(e,t));do try{w_();break}catch(o){zE(e,o)}while(1);if(w0(),Ue=n,yd.current=r,Bt!==null)throw Error(X(261));return Nt=null,zt=0,It}function w_(){for(;Bt!==null;)XE(Bt)}function x_(){for(;Bt!==null&&!GT();)XE(Bt)}function XE(e){var t=JE(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?YE(e):Bt=t,_0.current=null}function YE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=h_(n,t),n!==null){n.flags&=32767,Bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Bt=null;return}}else if(n=f_(n,t,Nn),n!==null){Bt=n;return}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);It===0&&(It=5)}function zi(e,t,n){var r=Pe,o=mr.transition;try{mr.transition=null,Pe=1,B_(e,t,n,r)}finally{mr.transition=o,Pe=r}return null}function B_(e,t,n,r){do wA();while(Ai!==null);if(Ue&6)throw Error(X(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nk(e,i),e===Nt&&(Bt=Nt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,ZE(rd,function(){return wA(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var a=Pe;Pe=1;var A=Ue;Ue|=4,_0.current=null,g_(e,n),KE(n,e),jk(am),id=!!im,am=im=null,e.current=n,m_(n),zT(),Ue=A,Pe=a,mr.transition=i}else e.current=n;if(_l&&(_l=!1,Ai=e,xd=o),i=e.pendingLanes,i===0&&(vi=null),YT(n.stateNode),Sn(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(wd)throw wd=!1,e=Fm,Fm=null,e;return xd&1&&e.tag!==0&&wA(),i=e.pendingLanes,i&1?e===Im?zs++:(zs=0,Im=e):zs=0,Pi(),null}function wA(){if(Ai!==null){var e=Q2(xd),t=mr.transition,n=Pe;try{if(mr.transition=null,Pe=16>e?16:e,Ai===null)var r=!1;else{if(e=Ai,Ai=null,xd=0,Ue&6)throw Error(X(331));var o=Ue;for(Ue|=4,re=e.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var A=i.deletions;if(A!==null){for(var s=0;s<A.length;s++){var u=A[s];for(re=u;re!==null;){var l=re;switch(l.tag){case 0:case 11:case 15:Ws(8,l,i)}var c=l.child;if(c!==null)c.return=l,re=c;else for(;re!==null;){l=re;var d=l.sibling,f=l.return;if(OE(l),l===u){re=null;break}if(d!==null){d.return=f,re=d;break}re=f}}}var h=i.alternate;if(h!==null){var p=h.child;if(p!==null){h.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ws(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var v=e.current;for(re=v;re!==null;){a=re;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,re=w;else e:for(a=v;re!==null;){if(A=re,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Ef(9,A)}}catch(B){lt(A,A.return,B)}if(A===a){re=null;break e}var x=A.sibling;if(x!==null){x.return=A.return,re=x;break e}re=A.return}}if(Ue=o,Pi(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(mf,e)}catch{}r=!0}return r}finally{Pe=n,mr.transition=t}}return!1}function nx(e,t,n){t=PA(n,t),t=QE(e,t,1),e=mi(e,t,1),t=gn(),e!==null&&(Ku(e,1,t),Sn(e,t))}function lt(e,t,n){if(e.tag===3)nx(e,e,n);else for(;t!==null;){if(t.tag===3){nx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){e=PA(n,e),e=TE(t,e,1),t=mi(t,e,1),e=gn(),t!==null&&(Ku(t,1,e),Sn(t,e));break}}t=t.return}}function C_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gn(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(zt&n)===n&&(It===4||It===3&&(zt&130023424)===zt&&500>pt()-D0?ua(e,0):R0|=n),Sn(e,t)}function qE(e,t){t===0&&(e.mode&1?(t=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):t=1);var n=gn();e=Do(e,t),e!==null&&(Ku(e,t,n),Sn(e,n))}function b_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qE(e,n)}function E_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),qE(e,n)}var JE;JE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bn=!1,d_(e,t,n);bn=!!(e.flags&131072)}else bn=!1,Ze&&t.flags&1048576&&nE(t,dd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nc(e,t),e=t.pendingProps;var o=RA(t,un.current);yA(t,n),o=S0(null,t,r,e,o,n);var i=U0();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(i=!0,ld(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,C0(t),o.updater=bf,t.stateNode=o,o._reactInternals=t,pm(t,r,e,n),t=vm(null,t,r,!0,i,n)):(t.tag=0,Ze&&i&&g0(t),pn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=I_(r),e=Sr(r,e),o){case 0:t=mm(null,t,r,e,n);break e;case 1:t=Gw(null,t,r,e,n);break e;case 11:t=Kw(null,t,r,e,n);break e;case 14:t=Ww(null,t,r,Sr(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),mm(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),Gw(e,t,r,o,n);case 3:e:{if(DE(t),e===null)throw Error(X(387));r=t.pendingProps,i=t.memoizedState,o=i.element,sE(e,t),pd(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=PA(Error(X(423)),t),t=zw(e,t,r,n,o);break e}else if(r!==o){o=PA(Error(X(424)),t),t=zw(e,t,r,n,o);break e}else for(Hn=gi(t.stateNode.containerInfo.firstChild),Kn=t,Ze=!0,Qr=null,n=aE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(DA(),r===o){t=No(e,t,n);break e}pn(e,t,r,n)}t=t.child}return t;case 5:return uE(t),e===null&&dm(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Am(r,o)?a=null:i!==null&&Am(r,i)&&(t.flags|=32),RE(e,t),pn(e,t,a,n),t.child;case 6:return e===null&&dm(t),null;case 13:return NE(e,t,n);case 4:return b0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=NA(t,null,r,n):pn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),Kw(e,t,r,o,n);case 7:return pn(e,t,t.pendingProps,n),t.child;case 8:return pn(e,t,t.pendingProps.children,n),t.child;case 12:return pn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,We(fd,r._currentValue),r._currentValue=a,i!==null)if(Mr(i.value,a)){if(i.children===o.children&&!Fn.current){t=No(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var s=A.firstContext;s!==null;){if(s.context===r){if(i.tag===1){s=Uo(-1,n&-n),s.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?s.next=s:(s.next=l.next,l.next=s),u.pending=s}}i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),fm(i.return,n,t),A.lanes|=n;break}s=s.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(X(341));a.lanes|=n,A=a.alternate,A!==null&&(A.lanes|=n),fm(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}pn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,yA(t,n),o=vr(o),r=r(o),t.flags|=1,pn(e,t,r,n),t.child;case 14:return r=t.type,o=Sr(r,t.pendingProps),o=Sr(r.type,o),Ww(e,t,r,o,n);case 15:return kE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),Nc(e,t),t.tag=1,In(r)?(e=!0,ld(t)):e=!1,yA(t,n),UE(t,r,o),pm(t,r,o,n),vm(null,t,r,!0,e,n);case 19:return ME(e,t,n);case 22:return _E(e,t,n)}throw Error(X(156,t.tag))};function ZE(e,t){return F2(e,t)}function F_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,n,r){return new F_(e,t,n,r)}function L0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I_(e){if(typeof e=="function")return L0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===i0)return 14}return 2}function wi(e,t){var n=e.alternate;return n===null?(n=fr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")L0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Za:return la(n.children,o,i,t);case r0:a=8,o|=8;break;case Lg:return e=fr(12,n,t,o|2),e.elementType=Lg,e.lanes=i,e;case Hg:return e=fr(13,n,t,o),e.elementType=Hg,e.lanes=i,e;case Og:return e=fr(19,n,t,o),e.elementType=Og,e.lanes=i,e;case u2:return If(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A2:a=10;break e;case s2:a=9;break e;case o0:a=11;break e;case i0:a=14;break e;case Zo:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=fr(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function la(e,t,n,r){return e=fr(7,e,r,t),e.lanes=n,e}function If(e,t,n,r){return e=fr(22,e,r,t),e.elementType=u2,e.lanes=n,e.stateNode={isHidden:!1},e}function yp(e,t,n){return e=fr(6,e,null,t),e.lanes=n,e}function wp(e,t,n){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S_(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function H0(e,t,n,r,o,i,a,A,s){return e=new S_(e,t,n,A,s),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C0(i),e}function U_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function eF(e){if(!e)return Ui;e=e._reactInternals;e:{if(Ba(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(In(n))return eE(e,n,t)}return t}function tF(e,t,n,r,o,i,a,A,s){return e=H0(n,r,!0,e,o,i,a,A,s),e.context=eF(null),n=e.current,r=gn(),o=yi(n),i=Uo(r,o),i.callback=t??null,mi(n,i,o),e.current.lanes=o,Ku(e,o,r),Sn(e,r),e}function Sf(e,t,n,r){var o=t.current,i=gn(),a=yi(o);return n=eF(n),t.context===null?t.context=n:t.pendingContext=n,t=Uo(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mi(o,t,a),e!==null&&(Dr(e,o,a,i),_c(e,o,a)),a}function Cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O0(e,t){rx(e,t),(e=e.alternate)&&rx(e,t)}function Q_(){return null}var nF=typeof reportError=="function"?reportError:function(e){console.error(e)};function j0(e){this._internalRoot=e}Uf.prototype.render=j0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Sf(e,t,null,null)};Uf.prototype.unmount=j0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){Sf(null,e,null,null)}),t[Ro]=null}};function Uf(e){this._internalRoot=e}Uf.prototype.unstable_scheduleHydration=function(e){if(e){var t=_2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&D2(e)}};function V0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ox(){}function T_(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Cd(a);i.call(u)}}var a=tF(t,r,e,0,null,!1,!1,"",ox);return e._reactRootContainer=a,e[Ro]=a.current,gu(e.nodeType===8?e.parentNode:e),va(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var A=r;r=function(){var u=Cd(s);A.call(u)}}var s=H0(e,0,!1,null,null,!1,!1,"",ox);return e._reactRootContainer=s,e[Ro]=s.current,gu(e.nodeType===8?e.parentNode:e),va(function(){Sf(t,s,n,r)}),s}function Tf(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var A=o;o=function(){var s=Cd(a);A.call(s)}}Sf(t,a,e,o)}else a=T_(n,t,e,o,r);return Cd(a)}T2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Us(t.pendingLanes);n!==0&&(s0(t,n|1),Sn(t,pt()),!(Ue&6)&&(LA=pt()+500,Pi()))}break;case 13:va(function(){var r=Do(e,1);if(r!==null){var o=gn();Dr(r,e,1,o)}}),O0(e,1)}};u0=function(e){if(e.tag===13){var t=Do(e,134217728);if(t!==null){var n=gn();Dr(t,e,134217728,n)}O0(e,134217728)}};k2=function(e){if(e.tag===13){var t=yi(e),n=Do(e,t);if(n!==null){var r=gn();Dr(n,e,t,r)}O0(e,t)}};_2=function(){return Pe};R2=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};qg=function(e,t,n){switch(t){case"input":if(Kg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xf(r);if(!o)throw Error(X(90));c2(r),Kg(r,o)}}}break;case"textarea":f2(e,n);break;case"select":t=n.value,t!=null&&pA(e,!!n.multiple,t,!1)}};w2=N0;x2=va;var k_={usingClientEntryPoint:!1,Events:[Gu,rA,xf,v2,y2,N0]},fs={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b2(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||Q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{mf=Rl.inject(__),no=Rl}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;Xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V0(t))throw Error(X(200));return U_(e,t,null,n)};Xn.createRoot=function(e,t){if(!V0(e))throw Error(X(299));var n=!1,r="",o=nF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=H0(e,1,!1,null,null,n,!1,r,o),e[Ro]=t.current,gu(e.nodeType===8?e.parentNode:e),new j0(t)};Xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=b2(t),e=e===null?null:e.stateNode,e};Xn.flushSync=function(e){return va(e)};Xn.hydrate=function(e,t,n){if(!Qf(t))throw Error(X(200));return Tf(null,e,t,!0,n)};Xn.hydrateRoot=function(e,t,n){if(!V0(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=nF;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=tF(t,null,e,1,n??null,o,!1,i,a),e[Ro]=t.current,gu(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Uf(t)};Xn.render=function(e,t,n){if(!Qf(t))throw Error(X(200));return Tf(null,e,t,!1,n)};Xn.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(X(40));return e._reactRootContainer?(va(function(){Tf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ro]=null})}),!0):!1};Xn.unstable_batchedUpdates=N0;Xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qf(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Tf(e,t,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function rF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rF)}catch(e){console.error(e)}}rF(),r2.exports=Xn;var R_=r2.exports,ix=R_;Mg.createRoot=ix.createRoot,Mg.hydrateRoot=ix.hydrateRoot;const D_={black:"#000",white:"#fff"},Eu=D_,N_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ta=N_,M_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ka=M_,P_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_a=P_,L_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ra=L_,H_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Da=H_,O_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hs=O_,j_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},V_=j_;function Fu(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const K_=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),Qm="$$material";function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(null,arguments)}function qn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var W_=!1;function G_(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function z_(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $_=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!W_:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(z_(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=G_(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Jt="-ms-",bd="-moz-",ke="-webkit-",oF="comm",K0="rule",W0="decl",X_="@import",iF="@keyframes",Y_="@layer",q_=Math.abs,kf=String.fromCharCode,J_=Object.assign;function Z_(e,t){return Kt(e,0)^45?(((t<<2^Kt(e,0))<<2^Kt(e,1))<<2^Kt(e,2))<<2^Kt(e,3):0}function aF(e){return e.trim()}function eR(e,t){return(e=t.exec(e))?e[0]:e}function _e(e,t,n){return e.replace(t,n)}function Tm(e,t){return e.indexOf(t)}function Kt(e,t){return e.charCodeAt(t)|0}function Iu(e,t,n){return e.slice(t,n)}function Xr(e){return e.length}function G0(e){return e.length}function Dl(e,t){return t.push(e),e}function tR(e,t){return e.map(t).join("")}var _f=1,HA=1,AF=0,Qn=0,wt=0,qA="";function Rf(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:_f,column:HA,length:a,return:""}}function ps(e,t){return J_(Rf("",null,null,"",null,null,0),e,{length:-e.length},t)}function nR(){return wt}function rR(){return wt=Qn>0?Kt(qA,--Qn):0,HA--,wt===10&&(HA=1,_f--),wt}function Wn(){return wt=Qn<AF?Kt(qA,Qn++):0,HA++,wt===10&&(HA=1,_f++),wt}function oo(){return Kt(qA,Qn)}function Hc(){return Qn}function $u(e,t){return Iu(qA,e,t)}function Su(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sF(e){return _f=HA=1,AF=Xr(qA=e),Qn=0,[]}function uF(e){return qA="",e}function Oc(e){return aF($u(Qn-1,km(e===91?e+2:e===40?e+1:e)))}function oR(e){for(;(wt=oo())&&wt<33;)Wn();return Su(e)>2||Su(wt)>3?"":" "}function iR(e,t){for(;--t&&Wn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return $u(e,Hc()+(t<6&&oo()==32&&Wn()==32))}function km(e){for(;Wn();)switch(wt){case e:return Qn;case 34:case 39:e!==34&&e!==39&&km(wt);break;case 40:e===41&&km(e);break;case 92:Wn();break}return Qn}function aR(e,t){for(;Wn()&&e+wt!==47+10;)if(e+wt===42+42&&oo()===47)break;return"/*"+$u(t,Qn-1)+"*"+kf(e===47?e:Wn())}function AR(e){for(;!Su(oo());)Wn();return $u(e,Qn)}function sR(e){return uF(jc("",null,null,null,[""],e=sF(e),0,[0],e))}function jc(e,t,n,r,o,i,a,A,s){for(var u=0,l=0,c=a,d=0,f=0,h=0,p=1,y=1,g=1,v=0,w="",x=o,B=i,C=r,b=w;y;)switch(h=v,v=Wn()){case 40:if(h!=108&&Kt(b,c-1)==58){Tm(b+=_e(Oc(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:b+=Oc(v);break;case 9:case 10:case 13:case 32:b+=oR(h);break;case 92:b+=iR(Hc()-1,7);continue;case 47:switch(oo()){case 42:case 47:Dl(uR(aR(Wn(),Hc()),t,n),s);break;default:b+="/"}break;case 123*p:A[u++]=Xr(b)*g;case 125*p:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+l:g==-1&&(b=_e(b,/\f/g,"")),f>0&&Xr(b)-c&&Dl(f>32?Ax(b+";",r,n,c-1):Ax(_e(b," ","")+";",r,n,c-2),s);break;case 59:b+=";";default:if(Dl(C=ax(b,t,n,u,l,o,A,w,x=[],B=[],c),i),v===123)if(l===0)jc(b,t,C,C,x,i,c,A,B);else switch(d===99&&Kt(b,3)===110?100:d){case 100:case 108:case 109:case 115:jc(e,C,C,r&&Dl(ax(e,C,C,0,0,o,A,w,o,x=[],c),B),o,B,c,A,r?x:B);break;default:jc(b,C,C,C,[""],B,0,A,B)}}u=l=f=0,p=g=1,w=b="",c=a;break;case 58:c=1+Xr(b),f=h;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&rR()==125)continue}switch(b+=kf(v),v*p){case 38:g=l>0?1:(b+="\f",-1);break;case 44:A[u++]=(Xr(b)-1)*g,g=1;break;case 64:oo()===45&&(b+=Oc(Wn())),d=oo(),l=c=Xr(w=b+=AR(Hc())),v++;break;case 45:h===45&&Xr(b)==2&&(p=0)}}return i}function ax(e,t,n,r,o,i,a,A,s,u,l){for(var c=o-1,d=o===0?i:[""],f=G0(d),h=0,p=0,y=0;h<r;++h)for(var g=0,v=Iu(e,c+1,c=q_(p=a[h])),w=e;g<f;++g)(w=aF(p>0?d[g]+" "+v:_e(v,/&\f/g,d[g])))&&(s[y++]=w);return Rf(e,t,n,o===0?K0:A,s,u,l)}function uR(e,t,n){return Rf(e,t,n,oF,kf(nR()),Iu(e,2,-2),0)}function Ax(e,t,n,r){return Rf(e,t,n,W0,Iu(e,0,r),Iu(e,r+1,-1),r)}function xA(e,t){for(var n="",r=G0(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function lR(e,t,n,r){switch(e.type){case Y_:if(e.children.length)break;case X_:case W0:return e.return=e.return||e.value;case oF:return"";case iF:return e.return=e.value+"{"+xA(e.children,r)+"}";case K0:e.value=e.props.join(",")}return Xr(n=xA(e.children,r))?e.return=e.value+"{"+n+"}":""}function cR(e){var t=G0(e);return function(n,r,o,i){for(var a="",A=0;A<t;A++)a+=e[A](n,r,o,i)||"";return a}}function dR(e){return function(t){t.root||(t=t.return)&&e(t)}}var fR=function(t,n,r){for(var o=0,i=0;o=i,i=oo(),o===38&&i===12&&(n[r]=1),!Su(i);)Wn();return $u(t,Qn)},hR=function(t,n){var r=-1,o=44;do switch(Su(o)){case 0:o===38&&oo()===12&&(n[r]=1),t[r]+=fR(Qn-1,n,r);break;case 2:t[r]+=Oc(o);break;case 4:if(o===44){t[++r]=oo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=kf(o)}while(o=Wn());return t},pR=function(t,n){return uF(hR(sF(t),n))},sx=new WeakMap,gR=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!sx.get(r))&&!o){sx.set(t,!0);for(var i=[],a=pR(n,i),A=r.props,s=0,u=0;s<a.length;s++)for(var l=0;l<A.length;l++,u++)t.props[u]=i[s]?a[s].replace(/&\f/g,A[l]):A[l]+" "+a[s]}}},mR=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function lF(e,t){switch(Z_(e,t)){case 5103:return ke+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+e+bd+e+Jt+e+e;case 6828:case 4268:return ke+e+Jt+e+e;case 6165:return ke+e+Jt+"flex-"+e+e;case 5187:return ke+e+_e(e,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Jt+"flex-$1$2")+e;case 5443:return ke+e+Jt+"flex-item-"+_e(e,/flex-|-self/,"")+e;case 4675:return ke+e+Jt+"flex-line-pack"+_e(e,/align-content|flex-|-self/,"")+e;case 5548:return ke+e+Jt+_e(e,"shrink","negative")+e;case 5292:return ke+e+Jt+_e(e,"basis","preferred-size")+e;case 6060:return ke+"box-"+_e(e,"-grow","")+ke+e+Jt+_e(e,"grow","positive")+e;case 4554:return ke+_e(e,/([^-])(transform)/g,"$1"+ke+"$2")+e;case 6187:return _e(_e(_e(e,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),e,"")+e;case 5495:case 3959:return _e(e,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return _e(_e(e,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+e+e;case 4095:case 3583:case 4068:case 2532:return _e(e,/(.+)-inline(.+)/,ke+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xr(e)-1-t>6)switch(Kt(e,t+1)){case 109:if(Kt(e,t+4)!==45)break;case 102:return _e(e,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+bd+(Kt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Tm(e,"stretch")?lF(_e(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kt(e,t+1)!==115)break;case 6444:switch(Kt(e,Xr(e)-3-(~Tm(e,"!important")&&10))){case 107:return _e(e,":",":"+ke)+e;case 101:return _e(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(Kt(e,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Jt+"$2box$3")+e}break;case 5936:switch(Kt(e,t+11)){case 114:return ke+e+Jt+_e(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ke+e+Jt+_e(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ke+e+Jt+_e(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ke+e+Jt+e+e}return e}var vR=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case W0:t.return=lF(t.value,t.length);break;case iF:return xA([ps(t,{value:_e(t.value,"@","@"+ke)})],o);case K0:if(t.length)return tR(t.props,function(i){switch(eR(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xA([ps(t,{props:[_e(i,/:(read-\w+)/,":"+bd+"$1")]})],o);case"::placeholder":return xA([ps(t,{props:[_e(i,/:(plac\w+)/,":"+ke+"input-$1")]}),ps(t,{props:[_e(i,/:(plac\w+)/,":"+bd+"$1")]}),ps(t,{props:[_e(i,/:(plac\w+)/,Jt+"input-$1")]})],o)}return""})}},yR=[vR],cF=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var y=p.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var o=t.stylisPlugins||yR,i={},a,A=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var y=p.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)i[y[g]]=!0;A.push(p)});var s,u=[gR,mR];{var l,c=[lR,dR(function(p){l.insert(p)})],d=cR(u.concat(o,c)),f=function(y){return xA(sR(y),d)};s=function(y,g,v,w){l=v,f(y?y+"{"+g.styles+"}":g.styles),w&&(h.inserted[g.name]=!0)}}var h={key:n,sheet:new $_({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:s};return h.sheet.hydrate(A),h},dF={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=typeof Symbol=="function"&&Symbol.for,z0=Lt?Symbol.for("react.element"):60103,$0=Lt?Symbol.for("react.portal"):60106,Df=Lt?Symbol.for("react.fragment"):60107,Nf=Lt?Symbol.for("react.strict_mode"):60108,Mf=Lt?Symbol.for("react.profiler"):60114,Pf=Lt?Symbol.for("react.provider"):60109,Lf=Lt?Symbol.for("react.context"):60110,X0=Lt?Symbol.for("react.async_mode"):60111,Hf=Lt?Symbol.for("react.concurrent_mode"):60111,Of=Lt?Symbol.for("react.forward_ref"):60112,jf=Lt?Symbol.for("react.suspense"):60113,wR=Lt?Symbol.for("react.suspense_list"):60120,Vf=Lt?Symbol.for("react.memo"):60115,Kf=Lt?Symbol.for("react.lazy"):60116,xR=Lt?Symbol.for("react.block"):60121,BR=Lt?Symbol.for("react.fundamental"):60117,CR=Lt?Symbol.for("react.responder"):60118,bR=Lt?Symbol.for("react.scope"):60119;function Jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case z0:switch(e=e.type,e){case X0:case Hf:case Df:case Mf:case Nf:case jf:return e;default:switch(e=e&&e.$$typeof,e){case Lf:case Of:case Kf:case Vf:case Pf:return e;default:return t}}case $0:return t}}}function fF(e){return Jn(e)===Hf}Le.AsyncMode=X0;Le.ConcurrentMode=Hf;Le.ContextConsumer=Lf;Le.ContextProvider=Pf;Le.Element=z0;Le.ForwardRef=Of;Le.Fragment=Df;Le.Lazy=Kf;Le.Memo=Vf;Le.Portal=$0;Le.Profiler=Mf;Le.StrictMode=Nf;Le.Suspense=jf;Le.isAsyncMode=function(e){return fF(e)||Jn(e)===X0};Le.isConcurrentMode=fF;Le.isContextConsumer=function(e){return Jn(e)===Lf};Le.isContextProvider=function(e){return Jn(e)===Pf};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===z0};Le.isForwardRef=function(e){return Jn(e)===Of};Le.isFragment=function(e){return Jn(e)===Df};Le.isLazy=function(e){return Jn(e)===Kf};Le.isMemo=function(e){return Jn(e)===Vf};Le.isPortal=function(e){return Jn(e)===$0};Le.isProfiler=function(e){return Jn(e)===Mf};Le.isStrictMode=function(e){return Jn(e)===Nf};Le.isSuspense=function(e){return Jn(e)===jf};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Df||e===Hf||e===Mf||e===Nf||e===jf||e===wR||typeof e=="object"&&e!==null&&(e.$$typeof===Kf||e.$$typeof===Vf||e.$$typeof===Pf||e.$$typeof===Lf||e.$$typeof===Of||e.$$typeof===BR||e.$$typeof===CR||e.$$typeof===bR||e.$$typeof===xR)};Le.typeOf=Jn;dF.exports=Le;var ER=dF.exports,hF=ER,FR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pF={};pF[hF.ForwardRef]=FR;pF[hF.Memo]=IR;var SR=!0;function gF(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var Y0=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||SR===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},q0=function(t,n,r){Y0(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function UR(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var QR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function TR(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var kR=!1,_R=/[A-Z]|^ms/g,RR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mF=function(t){return t.charCodeAt(1)===45},ux=function(t){return t!=null&&typeof t!="boolean"},xp=TR(function(e){return mF(e)?e:e.replace(_R,"-$&").toLowerCase()}),lx=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(RR,function(r,o,i){return Yr={name:o,styles:i,next:Yr},o})}return QR[t]!==1&&!mF(t)&&typeof n=="number"&&n!==0?n+"px":n},DR="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Uu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Yr={name:o.name,styles:o.styles,next:Yr},o.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Yr={name:a.name,styles:a.styles,next:Yr},a=a.next;var A=i.styles+";";return A}return NR(e,t,n)}case"function":{if(e!==void 0){var s=Yr,u=n(e);return Yr=s,Uu(e,t,u)}break}}var l=n;if(t==null)return l;var c=t[l];return c!==void 0?c:l}function NR(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Uu(e,t,n[o])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var A=a;t!=null&&t[A]!==void 0?r+=i+"{"+t[A]+"}":ux(A)&&(r+=xp(i)+":"+lx(i,A)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&kR)throw new Error(DR);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)ux(a[s])&&(r+=xp(i)+":"+lx(i,a[s])+";");else{var u=Uu(e,t,a);switch(i){case"animation":case"animationName":{r+=xp(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}}return r}var cx=/label:\s*([^\s;{]+)\s*(;|$)/g,Yr;function Wf(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Yr=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,o+=Uu(n,t,i);else{var a=i;o+=a[0]}for(var A=1;A<e.length;A++)if(o+=Uu(n,t,e[A]),r){var s=i;o+=s[A]}cx.lastIndex=0;for(var u="",l;(l=cx.exec(o))!==null;)u+="-"+l[1];var c=UR(o)+u;return{name:c,styles:o,next:Yr}}var MR=function(t){return t()},vF=Z1["useInsertionEffect"]?Z1["useInsertionEffect"]:!1,yF=vF||MR,dx=vF||k.useLayoutEffect,PR=!1,wF=k.createContext(typeof HTMLElement<"u"?cF({key:"css"}):null),LR=wF.Provider,J0=function(t){return k.forwardRef(function(n,r){var o=k.useContext(wF);return t(n,o,r)})},JA=k.createContext({}),Z0={}.hasOwnProperty,_m="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HR=function(t,n){var r={};for(var o in n)Z0.call(n,o)&&(r[o]=n[o]);return r[_m]=t,r},OR=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return Y0(n,r,o),yF(function(){return q0(n,r,o)}),null},jR=J0(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[_m],i=[r],a="";typeof e.className=="string"?a=gF(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var A=Wf(i,void 0,k.useContext(JA));a+=t.key+"-"+A.name;var s={};for(var u in e)Z0.call(e,u)&&u!=="css"&&u!==_m&&!PR&&(s[u]=e[u]);return s.className=a,n&&(s.ref=n),k.createElement(k.Fragment,null,k.createElement(OR,{cache:t,serialized:A,isStringTag:typeof o=="string"}),k.createElement(o,s))}),VR=jR,Bp={exports:{}},fx;function xF(){return fx||(fx=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Bp)),Bp.exports}xF();var hx=function(t,n){var r=arguments;if(n==null||!Z0.call(n,"css"))return k.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=VR,i[1]=HR(t,n);for(var a=2;a<o;a++)i[a]=r[a];return k.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(hx||(hx={}));var KR=J0(function(e,t){var n=e.styles,r=Wf([n],void 0,k.useContext(JA)),o=k.useRef();return dx(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),A=!1,s=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),s!==null&&(A=!0,s.setAttribute("data-emotion",i),a.hydrate([s])),o.current=[a,A],function(){a.flush()}},[t]),dx(function(){var i=o.current,a=i[0],A=i[1];if(A){i[1]=!1;return}if(r.next!==void 0&&q0(t,r.next,!0),a.tags.length){var s=a.tags[a.tags.length-1].nextElementSibling;a.before=s,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function BF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wf(t)}function Gf(){var e=BF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function WR(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var GR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zR=WR(function(e){return GR.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),$R=!1,XR=zR,YR=function(t){return t!=="theme"},px=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?XR:YR},gx=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},qR=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return Y0(n,r,o),yF(function(){return q0(n,r,o)}),null},JR=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var A=gx(t,n,r),s=A||px(o),u=!s("as");return function(){var l=arguments,c=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&c.push("label:"+i+";"),l[0]==null||l[0].raw===void 0)c.push.apply(c,l);else{var d=l[0];c.push(d[0]);for(var f=l.length,h=1;h<f;h++)c.push(l[h],d[h])}var p=J0(function(y,g,v){var w=u&&y.as||o,x="",B=[],C=y;if(y.theme==null){C={};for(var b in y)C[b]=y[b];C.theme=k.useContext(JA)}typeof y.className=="string"?x=gF(g.registered,B,y.className):y.className!=null&&(x=y.className+" ");var E=Wf(c.concat(B),g.registered,C);x+=g.key+"-"+E.name,a!==void 0&&(x+=" "+a);var F=u&&A===void 0?px(w):s,I={};for(var T in y)u&&T==="as"||F(T)&&(I[T]=y[T]);return I.className=x,v&&(I.ref=v),k.createElement(k.Fragment,null,k.createElement(qR,{cache:g,serialized:E,isStringTag:typeof w=="string"}),k.createElement(w,I))});return p.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=o,p.__emotion_styles=c,p.__emotion_forwardProp=A,Object.defineProperty(p,"toString",{value:function(){return a===void 0&&$R?"NO_COMPONENT_SELECTOR":"."+a}}),p.withComponent=function(y,g){var v=e(y,me({},n,g,{shouldForwardProp:gx(p,g,!0)}));return v.apply(void 0,c)},p}},ZR=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Rm=JR.bind(null);ZR.forEach(function(e){Rm[e]=Rm(e)});let Dm;typeof document=="object"&&(Dm=cF({key:"css",prepend:!0}));function eD(e){const{injectFirst:t,children:n}=e;return t&&Dm?m.jsx(LR,{value:Dm,children:n}):n}function tD(e){return e==null||Object.keys(e).length===0}function nD(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(tD(o)?n:o):t;return m.jsx(KR,{styles:r})}/**
 * @mui/styled-engine v5.16.13
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rD(e,t){return Rm(e,t)}const oD=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},iD=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:nD,StyledEngineProvider:eD,ThemeContext:JA,css:BF,default:rD,internal_processStyles:oD,keyframes:Gf},Symbol.toStringTag,{value:"Module"}));function ii(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function CF(e){if(k.isValidElement(e)||!ii(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=CF(e[n])}),t}function io(e,t,n={clone:!0}){const r=n.clone?me({},e):e;return ii(e)&&ii(t)&&Object.keys(t).forEach(o=>{k.isValidElement(t[o])?r[o]=t[o]:ii(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&ii(e[o])?r[o]=io(e[o],t[o],n):n.clone?r[o]=ii(t[o])?CF(t[o]):t[o]:r[o]=t[o]}),r}const aD=Object.freeze(Object.defineProperty({__proto__:null,default:io,isPlainObject:ii},Symbol.toStringTag,{value:"Module"})),AD=["values","unit","step"],sD=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>me({},n,{[r.key]:r.val}),{})};function bF(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=qn(e,AD),i=sD(t),a=Object.keys(i);function A(d){return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n})`}function s(d){return`@media (max-width:${(typeof t[d]=="number"?t[d]:d)-r/100}${n})`}function u(d,f){const h=a.indexOf(f);return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n}) and (max-width:${(h!==-1&&typeof t[a[h]]=="number"?t[a[h]]:f)-r/100}${n})`}function l(d){return a.indexOf(d)+1<a.length?u(d,a[a.indexOf(d)+1]):A(d)}function c(d){const f=a.indexOf(d);return f===0?A(a[1]):f===a.length-1?s(a[f]):u(d,a[a.indexOf(d)+1]).replace("@media","@media not all and")}return me({keys:a,values:i,up:A,down:s,between:u,only:l,not:c,unit:n},o)}const uD={borderRadius:4},lD=uD;function $s(e,t){return t?io(e,t,{clone:!1}):e}const ey={xs:0,sm:600,md:900,lg:1200,xl:1536},mx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ey[e]}px)`};function Mo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||mx;return t.reduce((a,A,s)=>(a[i.up(i.keys[s])]=n(t[s]),a),{})}if(typeof t=="object"){const i=r.breakpoints||mx;return Object.keys(t).reduce((a,A)=>{if(Object.keys(i.values||ey).indexOf(A)!==-1){const s=i.up(A);a[s]=n(t[A],A)}else{const s=A;a[s]=t[s]}return a},{})}return n(t)}function cD(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,o)=>{const i=e.up(o);return r[i]={},r},{}))||{}}function dD(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function xn(e){if(typeof e!="string")throw new Error(Fu(7));return e.charAt(0).toUpperCase()+e.slice(1)}const fD=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"}));function zf(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Ed(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=zf(e,n)||r,t&&(o=t(o,r,e)),o}function gt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=a=>{if(a[t]==null)return null;const A=a[t],s=a.theme,u=zf(s,r)||{};return Mo(a,A,c=>{let d=Ed(u,o,c);return c===d&&typeof c=="string"&&(d=Ed(u,o,`${t}${c==="default"?"":xn(c)}`,c)),n===!1?d:{[n]:d}})};return i.propTypes={},i.filterProps=[t],i}function hD(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const pD={m:"margin",p:"padding"},gD={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mD=hD(e=>{if(e.length>2)if(vx[e])e=vx[e];else return[e];const[t,n]=e.split(""),r=pD[t],o=gD[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),ty=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ny=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ty,...ny];function Xu(e,t,n,r){var o;const i=(o=zf(e,t,!1))!=null?o:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function EF(e){return Xu(e,"spacing",8)}function Yu(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function vD(e,t){return n=>e.reduce((r,o)=>(r[o]=Yu(t,n),r),{})}function yD(e,t,n,r){if(t.indexOf(n)===-1)return null;const o=mD(n),i=vD(o,r),a=e[n];return Mo(e,a,i)}function FF(e,t){const n=EF(e.theme);return Object.keys(e).map(r=>yD(e,t,r,n)).reduce($s,{})}function st(e){return FF(e,ty)}st.propTypes={};st.filterProps=ty;function ut(e){return FF(e,ny)}ut.propTypes={};ut.filterProps=ny;function wD(e=8){if(e.mui)return e;const t=EF({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function $f(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?$s(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function ur(e){return typeof e!="number"?e:`${e}px solid`}function xr(e,t){return gt({prop:e,themeKey:"borders",transform:t})}const xD=xr("border",ur),BD=xr("borderTop",ur),CD=xr("borderRight",ur),bD=xr("borderBottom",ur),ED=xr("borderLeft",ur),FD=xr("borderColor"),ID=xr("borderTopColor"),SD=xr("borderRightColor"),UD=xr("borderBottomColor"),QD=xr("borderLeftColor"),TD=xr("outline",ur),kD=xr("outlineColor"),Xf=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Xu(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yu(t,r)});return Mo(e,e.borderRadius,n)}return null};Xf.propTypes={};Xf.filterProps=["borderRadius"];$f(xD,BD,CD,bD,ED,FD,ID,SD,UD,QD,Xf,TD,kD);const Yf=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Xu(e.theme,"spacing",8),n=r=>({gap:Yu(t,r)});return Mo(e,e.gap,n)}return null};Yf.propTypes={};Yf.filterProps=["gap"];const qf=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Xu(e.theme,"spacing",8),n=r=>({columnGap:Yu(t,r)});return Mo(e,e.columnGap,n)}return null};qf.propTypes={};qf.filterProps=["columnGap"];const Jf=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Xu(e.theme,"spacing",8),n=r=>({rowGap:Yu(t,r)});return Mo(e,e.rowGap,n)}return null};Jf.propTypes={};Jf.filterProps=["rowGap"];const _D=gt({prop:"gridColumn"}),RD=gt({prop:"gridRow"}),DD=gt({prop:"gridAutoFlow"}),ND=gt({prop:"gridAutoColumns"}),MD=gt({prop:"gridAutoRows"}),PD=gt({prop:"gridTemplateColumns"}),LD=gt({prop:"gridTemplateRows"}),HD=gt({prop:"gridTemplateAreas"}),OD=gt({prop:"gridArea"});$f(Yf,qf,Jf,_D,RD,DD,ND,MD,PD,LD,HD,OD);function BA(e,t){return t==="grey"?t:e}const jD=gt({prop:"color",themeKey:"palette",transform:BA}),VD=gt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:BA}),KD=gt({prop:"backgroundColor",themeKey:"palette",transform:BA});$f(jD,VD,KD);function Ln(e){return e<=1&&e!==0?`${e*100}%`:e}const WD=gt({prop:"width",transform:Ln}),ry=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,o;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||ey[n];return i?((o=e.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Ln(n)}};return Mo(e,e.maxWidth,t)}return null};ry.filterProps=["maxWidth"];const GD=gt({prop:"minWidth",transform:Ln}),zD=gt({prop:"height",transform:Ln}),$D=gt({prop:"maxHeight",transform:Ln}),XD=gt({prop:"minHeight",transform:Ln});gt({prop:"size",cssProperty:"width",transform:Ln});gt({prop:"size",cssProperty:"height",transform:Ln});const YD=gt({prop:"boxSizing"});$f(WD,ry,GD,zD,$D,XD,YD);const qD={border:{themeKey:"borders",transform:ur},borderTop:{themeKey:"borders",transform:ur},borderRight:{themeKey:"borders",transform:ur},borderBottom:{themeKey:"borders",transform:ur},borderLeft:{themeKey:"borders",transform:ur},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ur},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xf},color:{themeKey:"palette",transform:BA},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:BA},backgroundColor:{themeKey:"palette",transform:BA},p:{style:ut},pt:{style:ut},pr:{style:ut},pb:{style:ut},pl:{style:ut},px:{style:ut},py:{style:ut},padding:{style:ut},paddingTop:{style:ut},paddingRight:{style:ut},paddingBottom:{style:ut},paddingLeft:{style:ut},paddingX:{style:ut},paddingY:{style:ut},paddingInline:{style:ut},paddingInlineStart:{style:ut},paddingInlineEnd:{style:ut},paddingBlock:{style:ut},paddingBlockStart:{style:ut},paddingBlockEnd:{style:ut},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Yf},rowGap:{style:Jf},columnGap:{style:qf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ln},maxWidth:{style:ry},minWidth:{transform:Ln},height:{transform:Ln},maxHeight:{transform:Ln},minHeight:{transform:Ln},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},qu=qD;function JD(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function ZD(e,t){return typeof e=="function"?e(t):e}function IF(){function e(n,r,o,i){const a={[n]:r,theme:o},A=i[n];if(!A)return{[n]:r};const{cssProperty:s=n,themeKey:u,transform:l,style:c}=A;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const d=zf(o,u)||{};return c?c(a):Mo(a,r,h=>{let p=Ed(d,l,h);return h===p&&typeof h=="string"&&(p=Ed(d,l,`${n}${h==="default"?"":xn(h)}`,h)),s===!1?p:{[s]:p}})}function t(n){var r;const{sx:o,theme:i={}}=n||{};if(!o)return null;const a=(r=i.unstable_sxConfig)!=null?r:qu;function A(s){let u=s;if(typeof s=="function")u=s(i);else if(typeof s!="object")return s;if(!u)return null;const l=cD(i.breakpoints),c=Object.keys(l);let d=l;return Object.keys(u).forEach(f=>{const h=ZD(u[f],i);if(h!=null)if(typeof h=="object")if(a[f])d=$s(d,e(f,h,i,a));else{const p=Mo({theme:i},h,y=>({[f]:y}));JD(p,h)?d[f]=t({sx:h,theme:i}):d=$s(d,p)}else d=$s(d,e(f,h,i,a))}),dD(c,d)}return Array.isArray(o)?o.map(A):A(o)}return t}const SF=IF();SF.filterProps=["sx"];const oy=SF;function UF(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const eN=["breakpoints","palette","spacing","shape"];function QF(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={}}=e,a=qn(e,eN),A=bF(n),s=wD(o);let u=io({breakpoints:A,direction:"ltr",components:{},palette:me({mode:"light"},r),spacing:s,shape:me({},lD,i)},a);return u.applyStyles=UF,u=t.reduce((l,c)=>io(l,c),u),u.unstable_sxConfig=me({},qu,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(c){return oy({sx:c,theme:this})},u}const tN=Object.freeze(Object.defineProperty({__proto__:null,default:QF,private_createBreakpoints:bF,unstable_applyStyles:UF},Symbol.toStringTag,{value:"Module"}));function nN(e){return Object.keys(e).length===0}function rN(e=null){const t=k.useContext(JA);return!t||nN(t)?e:t}const oN=["sx"],iN=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:qu;return Object.keys(e).forEach(i=>{o[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function aN(e){const{sx:t}=e,n=qn(e,oN),{systemProps:r,otherProps:o}=iN(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const A=t(...a);return ii(A)?me({},r,A):r}:i=me({},r,t),me({},o,{sx:i})}const AN=Object.freeze(Object.defineProperty({__proto__:null,default:oy,extendSxProp:aN,unstable_createStyleFunctionSx:IF,unstable_defaultSxConfig:qu},Symbol.toStringTag,{value:"Module"})),yx=e=>e,sN=()=>{let e=yx;return{configure(t){e=t},generate(t){return e(t)},reset(){e=yx}}},uN=sN(),lN=uN;function TF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=TF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ir(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=TF(e))&&(r&&(r+=" "),r+=t);return r}const cN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function iy(e,t,n="Mui"){const r=cN[t];return r?`${n}-${r}`:`${lN.generate(e)}-${t}`}function ay(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=iy(e,o,n)}),r}var kF={exports:{}},Ve={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.transitional.element"),sy=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),eh=Symbol.for("react.strict_mode"),th=Symbol.for("react.profiler"),nh=Symbol.for("react.consumer"),rh=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),ih=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),Ah=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),dN=Symbol.for("react.offscreen"),fN=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ay:switch(e=e.type,e){case Zf:case th:case eh:case ih:case ah:return e;default:switch(e=e&&e.$$typeof,e){case rh:case oh:case sh:case Ah:return e;case nh:return e;default:return t}}case sy:return t}}}Ve.ContextConsumer=nh;Ve.ContextProvider=rh;Ve.Element=Ay;Ve.ForwardRef=oh;Ve.Fragment=Zf;Ve.Lazy=sh;Ve.Memo=Ah;Ve.Portal=sy;Ve.Profiler=th;Ve.StrictMode=eh;Ve.Suspense=ih;Ve.SuspenseList=ah;Ve.isContextConsumer=function(e){return Br(e)===nh};Ve.isContextProvider=function(e){return Br(e)===rh};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ay};Ve.isForwardRef=function(e){return Br(e)===oh};Ve.isFragment=function(e){return Br(e)===Zf};Ve.isLazy=function(e){return Br(e)===sh};Ve.isMemo=function(e){return Br(e)===Ah};Ve.isPortal=function(e){return Br(e)===sy};Ve.isProfiler=function(e){return Br(e)===th};Ve.isStrictMode=function(e){return Br(e)===eh};Ve.isSuspense=function(e){return Br(e)===ih};Ve.isSuspenseList=function(e){return Br(e)===ah};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zf||e===th||e===eh||e===ih||e===ah||e===dN||typeof e=="object"&&e!==null&&(e.$$typeof===sh||e.$$typeof===Ah||e.$$typeof===rh||e.$$typeof===nh||e.$$typeof===oh||e.$$typeof===fN||e.getModuleId!==void 0)};Ve.typeOf=Br;kF.exports=Ve;var wx=kF.exports;const hN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function _F(e){const t=`${e}`.match(hN);return t&&t[1]||""}function RF(e,t=""){return e.displayName||e.name||_F(e)||t}function xx(e,t,n){const r=RF(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function pN(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return RF(e,"Component");if(typeof e=="object")switch(e.$$typeof){case wx.ForwardRef:return xx(e,e.render,"ForwardRef");case wx.Memo:return xx(e,e.type,"memo");default:return}}}const gN=Object.freeze(Object.defineProperty({__proto__:null,default:pN,getFunctionName:_F},Symbol.toStringTag,{value:"Module"}));function Fd(e,t){const n=me({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=me({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=o:!o||!Object.keys(o)?n[r]=i:(n[r]=me({},i),Object.keys(o).forEach(a=>{n[r][a]=Fd(o[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}const mN=typeof window<"u"?k.useLayoutEffect:k.useEffect,vN=mN;function yN(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const wN=Object.freeze(Object.defineProperty({__proto__:null,default:yN},Symbol.toStringTag,{value:"Module"}));function xN(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Nl(e){const t=k.useRef(e);return vN(()=>{t.current=e}),k.useRef((...n)=>(0,t.current)(...n)).current}function Bx(...e){return k.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{xN(n,t)})},e)}const Cx={};function BN(e,t){const n=k.useRef(Cx);return n.current===Cx&&(n.current=e(t)),n}const CN=[];function bN(e){k.useEffect(e,CN)}class uh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new uh}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function EN(){const e=BN(uh.create).current;return bN(e.disposeEffect),e}let lh=!0,Nm=!1;const FN=new uh,IN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function SN(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&IN[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function UN(e){e.metaKey||e.altKey||e.ctrlKey||(lh=!0)}function Cp(){lh=!1}function QN(){this.visibilityState==="hidden"&&Nm&&(lh=!0)}function TN(e){e.addEventListener("keydown",UN,!0),e.addEventListener("mousedown",Cp,!0),e.addEventListener("pointerdown",Cp,!0),e.addEventListener("touchstart",Cp,!0),e.addEventListener("visibilitychange",QN,!0)}function kN(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return lh||SN(t)}function _N(){const e=k.useCallback(o=>{o!=null&&TN(o.ownerDocument)},[]),t=k.useRef(!1);function n(){return t.current?(Nm=!0,FN.start(100,()=>{Nm=!1}),t.current=!1,!0):!1}function r(o){return kN(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function DF(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((i,a)=>{if(a){const A=t(a);A!==""&&i.push(A),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}const RN=k.createContext(null),NF=RN;function MF(){return k.useContext(NF)}const DN=typeof Symbol=="function"&&Symbol.for,NN=DN?Symbol.for("mui.nested"):"__THEME_NESTED__";function MN(e,t){return typeof t=="function"?t(e):me({},e,t)}function PN(e){const{children:t,theme:n}=e,r=MF(),o=k.useMemo(()=>{const i=r===null?n:MN(r,n);return i!=null&&(i[NN]=r!==null),i},[n,r]);return m.jsx(NF.Provider,{value:o,children:t})}const LN=["value"],HN=k.createContext();function ON(e){let{value:t}=e,n=qn(e,LN);return m.jsx(HN.Provider,me({value:t??!0},n))}const PF=k.createContext(void 0);function jN({value:e,children:t}){return m.jsx(PF.Provider,{value:e,children:t})}function VN(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?Fd(o.defaultProps,r):!o.styleOverrides&&!o.variants?Fd(o,r):r}function KN({props:e,name:t}){const n=k.useContext(PF);return VN({props:e,name:t,theme:{components:n}})}const bx={};function Ex(e,t,n,r=!1){return k.useMemo(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const i=n(o),a=e?me({},t,{[e]:i}):i;return r?()=>a:a}return e?me({},t,{[e]:n}):me({},t,n)},[e,t,n,r])}function WN(e){const{children:t,theme:n,themeId:r}=e,o=rN(bx),i=MF()||bx,a=Ex(r,o,n),A=Ex(r,i,n,!0),s=a.direction==="rtl";return m.jsx(PN,{theme:A,children:m.jsx(JA.Provider,{value:a,children:m.jsx(ON,{value:s,children:m.jsx(jN,{value:a==null?void 0:a.components,children:t})})})})}function GN(e,t){return me({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var mt={},LF={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(LF);var HF=LF.exports;const zN=Di(K_),$N=Di(wN);var OF=HF;Object.defineProperty(mt,"__esModule",{value:!0});var Ml=mt.alpha=WF;mt.blend=AM;mt.colorChannel=void 0;var XN=mt.darken=ly;mt.decomposeColor=wr;mt.emphasize=GF;var YN=mt.getContrastRatio=nM;mt.getLuminance=Id;mt.hexToRgb=jF;mt.hslToRgb=KF;var qN=mt.lighten=cy;mt.private_safeAlpha=rM;mt.private_safeColorChannel=void 0;mt.private_safeDarken=oM;mt.private_safeEmphasize=aM;mt.private_safeLighten=iM;mt.recomposeColor=ZA;mt.rgbToHex=tM;var Fx=OF(zN),JN=OF($N);function uy(e,t=0,n=1){return(0,JN.default)(e,t,n)}function jF(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ZN(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function wr(e){if(e.type)return e;if(e.charAt(0)==="#")return wr(jF(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Fx.default)(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error((0,Fx.default)(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const VF=e=>{const t=wr(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};mt.colorChannel=VF;const eM=(e,t)=>{try{return VF(e)}catch{return e}};mt.private_safeColorChannel=eM;function ZA(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function tM(e){if(e.indexOf("#")===0)return e;const{values:t}=wr(e);return`#${t.map((n,r)=>ZN(r===3?Math.round(255*n):n)).join("")}`}function KF(e){e=wr(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=(u,l=(u+n/30)%12)=>o-i*Math.max(Math.min(l-3,9-l,1),-1);let A="rgb";const s=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(A+="a",s.push(t[3])),ZA({type:A,values:s})}function Id(e){e=wr(e);let t=e.type==="hsl"||e.type==="hsla"?wr(KF(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nM(e,t){const n=Id(e),r=Id(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function WF(e,t){return e=wr(e),t=uy(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ZA(e)}function rM(e,t,n){try{return WF(e,t)}catch{return e}}function ly(e,t){if(e=wr(e),t=uy(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return ZA(e)}function oM(e,t,n){try{return ly(e,t)}catch{return e}}function cy(e,t){if(e=wr(e),t=uy(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return ZA(e)}function iM(e,t,n){try{return cy(e,t)}catch{return e}}function GF(e,t=.15){return Id(e)>.5?ly(e,t):cy(e,t)}function aM(e,t,n){try{return GF(e,t)}catch{return e}}function AM(e,t,n,r=1){const o=(s,u)=>Math.round((s**(1/r)*(1-n)+u**(1/r)*n)**r),i=wr(e),a=wr(t),A=[o(i.values[0],a.values[0]),o(i.values[1],a.values[1]),o(i.values[2],a.values[2])];return ZA({type:"rgb",values:A})}const sM=["mode","contrastThreshold","tonalOffset"],Ix={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Eu.white,default:Eu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bp={text:{primary:Eu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Eu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Sx(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=qN(e.main,o):t==="dark"&&(e.dark=XN(e.main,i)))}function uM(e="light"){return e==="dark"?{main:_a[200],light:_a[50],dark:_a[400]}:{main:_a[700],light:_a[400],dark:_a[800]}}function lM(e="light"){return e==="dark"?{main:ka[200],light:ka[50],dark:ka[400]}:{main:ka[500],light:ka[300],dark:ka[700]}}function cM(e="light"){return e==="dark"?{main:Ta[500],light:Ta[300],dark:Ta[700]}:{main:Ta[700],light:Ta[400],dark:Ta[800]}}function dM(e="light"){return e==="dark"?{main:Ra[400],light:Ra[300],dark:Ra[700]}:{main:Ra[700],light:Ra[500],dark:Ra[900]}}function fM(e="light"){return e==="dark"?{main:Da[400],light:Da[300],dark:Da[700]}:{main:Da[800],light:Da[500],dark:Da[900]}}function hM(e="light"){return e==="dark"?{main:hs[400],light:hs[300],dark:hs[700]}:{main:"#ed6c02",light:hs[500],dark:hs[900]}}function pM(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=qn(e,sM),i=e.primary||uM(t),a=e.secondary||lM(t),A=e.error||cM(t),s=e.info||dM(t),u=e.success||fM(t),l=e.warning||hM(t);function c(p){return YN(p,bp.text.primary)>=n?bp.text.primary:Ix.text.primary}const d=({color:p,name:y,mainShade:g=500,lightShade:v=300,darkShade:w=700})=>{if(p=me({},p),!p.main&&p[g]&&(p.main=p[g]),!p.hasOwnProperty("main"))throw new Error(Fu(11,y?` (${y})`:"",g));if(typeof p.main!="string")throw new Error(Fu(12,y?` (${y})`:"",JSON.stringify(p.main)));return Sx(p,"light",v,r),Sx(p,"dark",w,r),p.contrastText||(p.contrastText=c(p.main)),p},f={dark:bp,light:Ix};return io(me({common:me({},Eu),mode:t,primary:d({color:i,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:A,name:"error"}),warning:d({color:l,name:"warning"}),info:d({color:s,name:"info"}),success:d({color:u,name:"success"}),grey:V_,contrastThreshold:n,getContrastText:c,augmentColor:d,tonalOffset:r},f[t]),o)}const gM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mM(e){return Math.round(e*1e5)/1e5}const Ux={textTransform:"uppercase"},Qx='"Roboto", "Helvetica", "Arial", sans-serif';function vM(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=Qx,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:A=500,fontWeightBold:s=700,htmlFontSize:u=16,allVariants:l,pxToRem:c}=n,d=qn(n,gM),f=o/14,h=c||(g=>`${g/u*f}rem`),p=(g,v,w,x,B)=>me({fontFamily:r,fontWeight:g,fontSize:h(v),lineHeight:w},r===Qx?{letterSpacing:`${mM(x/v)}em`}:{},B,l),y={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(a,48,1.167,0),h4:p(a,34,1.235,.25),h5:p(a,24,1.334,0),h6:p(A,20,1.6,.15),subtitle1:p(a,16,1.75,.15),subtitle2:p(A,14,1.57,.1),body1:p(a,16,1.5,.15),body2:p(a,14,1.43,.15),button:p(A,14,1.75,.4,Ux),caption:p(a,12,1.66,.4),overline:p(a,12,2.66,1,Ux),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return io(me({htmlFontSize:u,pxToRem:h,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:A,fontWeightBold:s},y),d,{clone:!1})}const yM=.2,wM=.14,xM=.12;function qe(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${yM})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${wM})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${xM})`].join(",")}const BM=["none",qe(0,2,1,-1,0,1,1,0,0,1,3,0),qe(0,3,1,-2,0,2,2,0,0,1,5,0),qe(0,3,3,-2,0,3,4,0,0,1,8,0),qe(0,2,4,-1,0,4,5,0,0,1,10,0),qe(0,3,5,-1,0,5,8,0,0,1,14,0),qe(0,3,5,-1,0,6,10,0,0,1,18,0),qe(0,4,5,-2,0,7,10,1,0,2,16,1),qe(0,5,5,-3,0,8,10,1,0,3,14,2),qe(0,5,6,-3,0,9,12,1,0,3,16,2),qe(0,6,6,-3,0,10,14,1,0,4,18,3),qe(0,6,7,-4,0,11,15,1,0,4,20,3),qe(0,7,8,-4,0,12,17,2,0,5,22,4),qe(0,7,8,-4,0,13,19,2,0,5,24,4),qe(0,7,9,-4,0,14,21,2,0,5,26,4),qe(0,8,9,-5,0,15,22,2,0,6,28,5),qe(0,8,10,-5,0,16,24,2,0,6,30,5),qe(0,8,11,-5,0,17,26,2,0,6,32,5),qe(0,9,11,-5,0,18,28,2,0,7,34,6),qe(0,9,12,-6,0,19,29,2,0,7,36,6),qe(0,10,13,-6,0,20,31,3,0,8,38,7),qe(0,10,13,-6,0,21,33,3,0,8,40,7),qe(0,10,14,-6,0,22,35,3,0,8,42,7),qe(0,11,14,-7,0,23,36,3,0,9,44,8),qe(0,11,15,-7,0,24,38,3,0,9,46,8)],CM=BM,bM=["duration","easing","delay"],EM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},FM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Tx(e){return`${Math.round(e)}ms`}function IM(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function SM(e){const t=me({},EM,e.easing),n=me({},FM,e.duration);return me({getAutoHeightDuration:IM,create:(o=["all"],i={})=>{const{duration:a=n.standard,easing:A=t.easeInOut,delay:s=0}=i;return qn(i,bM),(Array.isArray(o)?o:[o]).map(u=>`${u} ${typeof a=="string"?a:Tx(a)} ${A} ${typeof s=="string"?s:Tx(s)}`).join(",")}},e,{easing:t,duration:n})}const UM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},QM=UM,TM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zF(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:i={}}=e,a=qn(e,TM);if(e.vars)throw new Error(Fu(18));const A=pM(r),s=QF(e);let u=io(s,{mixins:GN(s.breakpoints,n),palette:A,shadows:CM.slice(),typography:vM(A,i),transitions:SM(o),zIndex:me({},QM)});return u=io(u,a),u=t.reduce((l,c)=>io(l,c),u),u.unstable_sxConfig=me({},qu,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(c){return oy({sx:c,theme:this})},u}const kM=zF(),_M=kM;var Ju={},Ep={exports:{}},kx;function RM(){return kx||(kx=1,function(e){function t(n,r){if(n==null)return{};var o={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.includes(i))continue;o[i]=n[i]}return o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ep)),Ep.exports}const DM=Di(iD),NM=Di(aD),MM=Di(fD),PM=Di(gN),LM=Di(tN),HM=Di(AN);var es=HF;Object.defineProperty(Ju,"__esModule",{value:!0});var OM=Ju.default=e3;Ju.shouldForwardProp=Vc;Ju.systemDefaultTheme=void 0;var or=es(xF()),Mm=es(RM()),_x=$M(DM),jM=NM;es(MM);es(PM);var VM=es(LM),KM=es(HM);const WM=["ownerState"],GM=["variants"],zM=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $F(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return($F=function(r){return r?n:t})(e)}function $M(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=$F(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function XM(e){return Object.keys(e).length===0}function YM(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Vc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const qM=Ju.systemDefaultTheme=(0,VM.default)(),JM=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Pl({defaultTheme:e,theme:t,themeId:n}){return XM(t)?e:t[n]||t}function ZM(e){return e?(t,n)=>n[e]:null}function Kc(e,t){let{ownerState:n}=t,r=(0,Mm.default)(t,WM);const o=typeof e=="function"?e((0,or.default)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap(i=>Kc(i,(0,or.default)({ownerState:n},r)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:i=[]}=o;let A=(0,Mm.default)(o,GM);return i.forEach(s=>{let u=!0;typeof s.props=="function"?u=s.props((0,or.default)({ownerState:n},r,n)):Object.keys(s.props).forEach(l=>{(n==null?void 0:n[l])!==s.props[l]&&r[l]!==s.props[l]&&(u=!1)}),u&&(Array.isArray(A)||(A=[A]),A.push(typeof s.style=="function"?s.style((0,or.default)({ownerState:n},r,n)):s.style))}),A}return o}function e3(e={}){const{themeId:t,defaultTheme:n=qM,rootShouldForwardProp:r=Vc,slotShouldForwardProp:o=Vc}=e,i=a=>(0,KM.default)((0,or.default)({},a,{theme:Pl((0,or.default)({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,A={})=>{(0,_x.internal_processStyles)(a,B=>B.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:s,slot:u,skipVariantsResolver:l,skipSx:c,overridesResolver:d=ZM(JM(u))}=A,f=(0,Mm.default)(A,zM),h=l!==void 0?l:u&&u!=="Root"&&u!=="root"||!1,p=c||!1;let y,g=Vc;u==="Root"||u==="root"?g=r:u?g=o:YM(a)&&(g=void 0);const v=(0,_x.default)(a,(0,or.default)({shouldForwardProp:g,label:y},f)),w=B=>typeof B=="function"&&B.__emotion_real!==B||(0,jM.isPlainObject)(B)?C=>Kc(B,(0,or.default)({},C,{theme:Pl({theme:C.theme,defaultTheme:n,themeId:t})})):B,x=(B,...C)=>{let b=w(B);const E=C?C.map(w):[];s&&d&&E.push(T=>{const Q=Pl((0,or.default)({},T,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[s]||!Q.components[s].styleOverrides)return null;const N=Q.components[s].styleOverrides,M={};return Object.entries(N).forEach(([O,L])=>{M[O]=Kc(L,(0,or.default)({},T,{theme:Q}))}),d(T,M)}),s&&!h&&E.push(T=>{var Q;const N=Pl((0,or.default)({},T,{defaultTheme:n,themeId:t})),M=N==null||(Q=N.components)==null||(Q=Q[s])==null?void 0:Q.variants;return Kc({variants:M},(0,or.default)({},T,{theme:N}))}),p||E.push(i);const F=E.length-C.length;if(Array.isArray(B)&&F>0){const T=new Array(F).fill("");b=[...B,...T],b.raw=[...B.raw,...T]}const I=v(b,...E);return a.muiName&&(I.muiName=a.muiName),I};return v.withConfig&&(x.withConfig=v.withConfig),x}}function t3(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const n3=e=>t3(e)&&e!=="classes",XF=n3,r3=OM({themeId:Qm,defaultTheme:_M,rootShouldForwardProp:XF}),ts=r3,o3=["theme"];function i3(e){let{theme:t}=e,n=qn(e,o3);const r=t[Qm];return m.jsx(WN,me({},n,{themeId:r?Qm:void 0,theme:r||t}))}function dy(e){return KN(e)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Pm(e,t)}function a3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pm(e,t)}const Rx=kr.createContext(null);function A3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(e,t){var n=function(i){return t&&k.isValidElement(i)?t(i):i},r=Object.create(null);return e&&k.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function s3(e,t){e=e||{},t=t||{};function n(l){return l in t?t[l]:e[l]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var a,A={};for(var s in t){if(r[s])for(a=0;a<r[s].length;a++){var u=r[s][a];A[r[s][a]]=n(u)}A[s]=n(s)}for(a=0;a<o.length;a++)A[o[a]]=n(o[a]);return A}function oa(e,t,n){return n[t]!=null?n[t]:e.props[t]}function u3(e,t){return fy(e.children,function(n){return k.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:oa(n,"appear",e),enter:oa(n,"enter",e),exit:oa(n,"exit",e)})})}function l3(e,t,n){var r=fy(e.children),o=s3(t,r);return Object.keys(o).forEach(function(i){var a=o[i];if(k.isValidElement(a)){var A=i in t,s=i in r,u=t[i],l=k.isValidElement(u)&&!u.props.in;s&&(!A||l)?o[i]=k.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:oa(a,"exit",e),enter:oa(a,"enter",e)}):!s&&A&&!l?o[i]=k.cloneElement(a,{in:!1}):s&&A&&k.isValidElement(u)&&(o[i]=k.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:oa(a,"exit",e),enter:oa(a,"enter",e)}))}}),o}var c3=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},d3={component:"div",childFactory:function(t){return t}},hy=function(e){a3(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=i.handleExited.bind(A3(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var a=i.children,A=i.handleExited,s=i.firstRender;return{children:s?u3(o,A):l3(o,a,A),firstRender:!1}},n.handleExited=function(o,i){var a=fy(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(A){var s=me({},A.children);return delete s[o.key],{children:s}}))},n.render=function(){var o=this.props,i=o.component,a=o.childFactory,A=qn(o,["component","childFactory"]),s=this.state.contextValue,u=c3(this.state.children).map(a);return delete A.appear,delete A.enter,delete A.exit,i===null?kr.createElement(Rx.Provider,{value:s},u):kr.createElement(Rx.Provider,{value:s},kr.createElement(i,A,u))},t}(kr.Component);hy.propTypes={};hy.defaultProps=d3;const f3=hy;function h3(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:a,in:A,onExited:s,timeout:u}=e,[l,c]=k.useState(!1),d=ir(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:a,height:a,top:-(a/2)+i,left:-(a/2)+o},h=ir(n.child,l&&n.childLeaving,r&&n.childPulsate);return!A&&!l&&c(!0),k.useEffect(()=>{if(!A&&s!=null){const p=setTimeout(s,u);return()=>{clearTimeout(p)}}},[s,A,u]),m.jsx("span",{className:d,style:f,children:m.jsx("span",{className:h})})}const p3=ay("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ar=p3,g3=["center","classes","className"];let ch=e=>e,Dx,Nx,Mx,Px;const Lm=550,m3=80,v3=Gf(Dx||(Dx=ch`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),y3=Gf(Nx||(Nx=ch`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),w3=Gf(Mx||(Mx=ch`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),x3=ts("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),B3=ts(h3,{name:"MuiTouchRipple",slot:"Ripple"})(Px||(Px=ch`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ar.rippleVisible,v3,Lm,({theme:e})=>e.transitions.easing.easeInOut,ar.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ar.child,ar.childLeaving,y3,Lm,({theme:e})=>e.transitions.easing.easeInOut,ar.childPulsate,w3,({theme:e})=>e.transitions.easing.easeInOut),C3=k.forwardRef(function(t,n){const r=dy({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a}=r,A=qn(r,g3),[s,u]=k.useState([]),l=k.useRef(0),c=k.useRef(null);k.useEffect(()=>{c.current&&(c.current(),c.current=null)},[s]);const d=k.useRef(!1),f=EN(),h=k.useRef(null),p=k.useRef(null),y=k.useCallback(x=>{const{pulsate:B,rippleX:C,rippleY:b,rippleSize:E,cb:F}=x;u(I=>[...I,m.jsx(B3,{classes:{ripple:ir(i.ripple,ar.ripple),rippleVisible:ir(i.rippleVisible,ar.rippleVisible),ripplePulsate:ir(i.ripplePulsate,ar.ripplePulsate),child:ir(i.child,ar.child),childLeaving:ir(i.childLeaving,ar.childLeaving),childPulsate:ir(i.childPulsate,ar.childPulsate)},timeout:Lm,pulsate:B,rippleX:C,rippleY:b,rippleSize:E},l.current)]),l.current+=1,c.current=F},[i]),g=k.useCallback((x={},B={},C=()=>{})=>{const{pulsate:b=!1,center:E=o||B.pulsate,fakeElement:F=!1}=B;if((x==null?void 0:x.type)==="mousedown"&&d.current){d.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(d.current=!0);const I=F?null:p.current,T=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,N,M;if(E||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)Q=Math.round(T.width/2),N=Math.round(T.height/2);else{const{clientX:O,clientY:L}=x.touches&&x.touches.length>0?x.touches[0]:x;Q=Math.round(O-T.left),N=Math.round(L-T.top)}if(E)M=Math.sqrt((2*T.width**2+T.height**2)/3),M%2===0&&(M+=1);else{const O=Math.max(Math.abs((I?I.clientWidth:0)-Q),Q)*2+2,L=Math.max(Math.abs((I?I.clientHeight:0)-N),N)*2+2;M=Math.sqrt(O**2+L**2)}x!=null&&x.touches?h.current===null&&(h.current=()=>{y({pulsate:b,rippleX:Q,rippleY:N,rippleSize:M,cb:C})},f.start(m3,()=>{h.current&&(h.current(),h.current=null)})):y({pulsate:b,rippleX:Q,rippleY:N,rippleSize:M,cb:C})},[o,y,f]),v=k.useCallback(()=>{g({},{pulsate:!0})},[g]),w=k.useCallback((x,B)=>{if(f.clear(),(x==null?void 0:x.type)==="touchend"&&h.current){h.current(),h.current=null,f.start(0,()=>{w(x,B)});return}h.current=null,u(C=>C.length>0?C.slice(1):C),c.current=B},[f]);return k.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:w}),[v,g,w]),m.jsx(x3,me({className:ir(ar.root,i.root,a),ref:p},A,{children:m.jsx(f3,{component:null,exit:!0,children:s})}))}),b3=C3;function E3(e){return iy("MuiButtonBase",e)}const F3=ay("MuiButtonBase",["root","disabled","focusVisible"]),I3=F3,S3=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],U3=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=DF({root:["root",t&&"disabled",n&&"focusVisible"]},E3,o);return n&&r&&(a.root+=` ${r}`),a},Q3=ts("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${I3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),T3=k.forwardRef(function(t,n){const r=dy({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:A,component:s="button",disabled:u=!1,disableRipple:l=!1,disableTouchRipple:c=!1,focusRipple:d=!1,LinkComponent:f="a",onBlur:h,onClick:p,onContextMenu:y,onDragLeave:g,onFocus:v,onFocusVisible:w,onKeyDown:x,onKeyUp:B,onMouseDown:C,onMouseLeave:b,onMouseUp:E,onTouchEnd:F,onTouchMove:I,onTouchStart:T,tabIndex:Q=0,TouchRippleProps:N,touchRippleRef:M,type:O}=r,L=qn(r,S3),j=k.useRef(null),R=k.useRef(null),P=Bx(R,M),{isFocusVisibleRef:H,onFocus:W,onBlur:$,ref:Y}=_N(),[ee,ie]=k.useState(!1);u&&ee&&ie(!1),k.useImperativeHandle(o,()=>({focusVisible:()=>{ie(!0),j.current.focus()}}),[]);const[oe,fe]=k.useState(!1);k.useEffect(()=>{fe(!0)},[]);const Be=oe&&!l&&!u;k.useEffect(()=>{ee&&d&&!l&&oe&&R.current.pulsate()},[l,d,ee,oe]);function he(we,pl,Gh=c){return Nl(gl=>(pl&&pl(gl),!Gh&&R.current&&R.current[we](gl),!0))}const Te=he("start",C),pe=he("stop",y),Qe=he("stop",g),se=he("stop",E),He=he("stop",we=>{ee&&we.preventDefault(),b&&b(we)}),je=he("start",T),Me=he("stop",F),Xt=he("stop",I),vt=he("stop",we=>{$(we),H.current===!1&&ie(!1),h&&h(we)},!1),cn=Nl(we=>{j.current||(j.current=we.currentTarget),W(we),H.current===!0&&(ie(!0),w&&w(we)),v&&v(we)}),jr=()=>{const we=j.current;return s&&s!=="button"&&!(we.tagName==="A"&&we.href)},Rn=k.useRef(!1),Vr=Nl(we=>{d&&!Rn.current&&ee&&R.current&&we.key===" "&&(Rn.current=!0,R.current.stop(we,()=>{R.current.start(we)})),we.target===we.currentTarget&&jr()&&we.key===" "&&we.preventDefault(),x&&x(we),we.target===we.currentTarget&&jr()&&we.key==="Enter"&&!u&&(we.preventDefault(),p&&p(we))}),br=Nl(we=>{d&&we.key===" "&&R.current&&ee&&!we.defaultPrevented&&(Rn.current=!1,R.current.stop(we,()=>{R.current.pulsate(we)})),B&&B(we),p&&we.target===we.currentTarget&&jr()&&we.key===" "&&!we.defaultPrevented&&p(we)});let Er=s;Er==="button"&&(L.href||L.to)&&(Er=f);const dn={};Er==="button"?(dn.type=O===void 0?"button":O,dn.disabled=u):(!L.href&&!L.to&&(dn.role="button"),u&&(dn["aria-disabled"]=u));const is=Bx(n,Y,j),vo=me({},r,{centerRipple:i,component:s,disabled:u,disableRipple:l,disableTouchRipple:c,focusRipple:d,tabIndex:Q,focusVisible:ee}),Zn=U3(vo);return m.jsxs(Q3,me({as:Er,className:ir(Zn.root,A),ownerState:vo,onBlur:vt,onClick:p,onContextMenu:pe,onFocus:cn,onKeyDown:Vr,onKeyUp:br,onMouseDown:Te,onMouseLeave:He,onMouseUp:se,onDragLeave:Qe,onTouchEnd:Me,onTouchMove:Xt,onTouchStart:je,ref:is,tabIndex:u?-1:Q,type:O},dn,L,{children:[a,Be?m.jsx(b3,me({ref:P,center:i},N)):null]}))}),k3=T3;function _3(e){return iy("MuiButton",e)}const R3=ay("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ll=R3,D3=k.createContext({}),N3=D3,M3=k.createContext(void 0),P3=M3,L3=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],H3=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,A={root:["root",i,`${i}${xn(t)}`,`size${xn(o)}`,`${i}Size${xn(o)}`,`color${xn(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${xn(o)}`],endIcon:["icon","endIcon",`iconSize${xn(o)}`]},s=DF(A,_3,a);return me({},a,s)},YF=e=>me({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),O3=ts(k3,{shouldForwardProp:e=>XF(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${xn(n.color)}`],t[`size${xn(n.size)}`],t[`${n.variant}Size${xn(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return me({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":me({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ml(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ml(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ml(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":me({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Ll.focusVisible}`]:me({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Ll.disabled}`]:me({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ml(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ll.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ll.disabled}`]:{boxShadow:"none"}}),j3=ts("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${xn(n.size)}`]]}})(({ownerState:e})=>me({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},YF(e))),V3=ts("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${xn(n.size)}`]]}})(({ownerState:e})=>me({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},YF(e))),K3=k.forwardRef(function(t,n){const r=k.useContext(N3),o=k.useContext(P3),i=Fd(r,t),a=dy({props:i,name:"MuiButton"}),{children:A,color:s="primary",component:u="button",className:l,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:h,focusVisibleClassName:p,fullWidth:y=!1,size:g="medium",startIcon:v,type:w,variant:x="text"}=a,B=qn(a,L3),C=me({},a,{color:s,component:u,disabled:c,disableElevation:d,disableFocusRipple:f,fullWidth:y,size:g,type:w,variant:x}),b=H3(C),E=v&&m.jsx(j3,{className:b.startIcon,ownerState:C,children:v}),F=h&&m.jsx(V3,{className:b.endIcon,ownerState:C,children:h}),I=o||"";return m.jsxs(O3,me({ownerState:C,className:ir(r.className,b.root,l,I),component:u,disabled:c,focusRipple:!f,focusVisibleClassName:ir(b.focusVisible,p),ref:n,type:w},B,{classes:b,children:[E,A,F]}))}),Lx=K3,qF=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dh=k.createContext({}),fh=k.createContext(null),hh=typeof document<"u",py=hh?k.useLayoutEffect:k.useEffect,JF=k.createContext({strict:!1}),gy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W3="framerAppearId",ZF="data-"+gy(W3);function G3(e,t,n,r){const{visualElement:o}=k.useContext(dh),i=k.useContext(JF),a=k.useContext(fh),A=k.useContext(qF).reducedMotion,s=k.useRef();r=r||i.renderer,!s.current&&r&&(s.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:A}));const u=s.current;k.useInsertionEffect(()=>{u&&u.update(n,a)});const l=k.useRef(!!(n[ZF]&&!window.HandoffComplete));return py(()=>{u&&(u.render(),l.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!l.current&&u.animationState&&u.animationState.animateChanges(),l.current&&(l.current=!1,window.HandoffComplete=!0))}),u}function lA(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function z3(e,t,n){return k.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lA(n)&&(n.current=r))},[t])}function Qu(e){return typeof e=="string"||Array.isArray(e)}function ph(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const my=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vy=["initial",...my];function gh(e){return ph(e.animate)||vy.some(t=>Qu(e[t]))}function eI(e){return!!(gh(e)||e.variants)}function $3(e,t){if(gh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(r)?r:void 0}}return e.inherit!==!1?t:{}}function X3(e){const{initial:t,animate:n}=$3(e,k.useContext(dh));return k.useMemo(()=>({initial:t,animate:n}),[Hx(t),Hx(n)])}function Hx(e){return Array.isArray(e)?e.join(" "):e}const Ox={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tu={};for(const e in Ox)Tu[e]={isEnabled:t=>Ox[e].some(n=>!!t[n])};function Y3(e){for(const t in e)Tu[t]={...Tu[t],...e[t]}}const yy=k.createContext({}),tI=k.createContext({}),q3=Symbol.for("motionComponentSymbol");function J3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Y3(e);function i(A,s){let u;const l={...k.useContext(qF),...A,layoutId:Z3(A)},{isStatic:c}=l,d=X3(A),f=r(A,c);if(!c&&hh){d.visualElement=G3(o,f,l,t);const h=k.useContext(tI),p=k.useContext(JF).strict;d.visualElement&&(u=d.visualElement.loadFeatures(l,p,e,h))}return k.createElement(dh.Provider,{value:d},u&&d.visualElement?k.createElement(u,{visualElement:d.visualElement,...l}):null,n(o,A,z3(f,d.visualElement,s),f,c,d.visualElement))}const a=k.forwardRef(i);return a[q3]=o,a}function Z3({layoutId:e}){const t=k.useContext(yy).id;return t&&e!==void 0?t+"-"+e:e}function eP(e){function t(r,o={}){return J3(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const tP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(e){return typeof e!="string"||e.includes("-")?!1:!!(tP.indexOf(e)>-1||/[A-Z]/.test(e))}const Sd={};function nP(e){Object.assign(Sd,e)}const Zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ca=new Set(Zu);function nI(e,{layout:t,layoutId:n}){return Ca.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sd[e]||e==="opacity")}const Tn=e=>!!(e&&e.getVelocity),rP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oP=Zu.length;function iP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let a=0;a<oP;a++){const A=Zu[a];if(e[A]!==void 0){const s=rP[A]||A;i+=`${s}(${e[A]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const rI=e=>t=>typeof t=="string"&&t.startsWith(e),oI=rI("--"),Hm=rI("var(--"),aP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,AP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qi=(e,t,n)=>Math.min(Math.max(n,e),t),ba={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xs={...ba,transform:e=>Qi(0,1,e)},Hl={...ba,default:1},Ys=e=>Math.round(e*1e5)/1e5,mh=/(-)?([\d]*\.?[\d])+/g,iI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function el(e){return typeof e=="string"}const tl=e=>({test:t=>el(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yo=tl("deg"),ao=tl("%"),ge=tl("px"),uP=tl("vh"),lP=tl("vw"),jx={...ao,parse:e=>ao.parse(e)/100,transform:e=>ao.transform(e*100)},Vx={...ba,transform:Math.round},aI={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:Yo,rotateX:Yo,rotateY:Yo,rotateZ:Yo,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Yo,skewX:Yo,skewY:Yo,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Xs,originX:jx,originY:jx,originZ:ge,zIndex:Vx,fillOpacity:Xs,strokeOpacity:Xs,numOctaves:Vx};function xy(e,t,n,r){const{style:o,vars:i,transform:a,transformOrigin:A}=e;let s=!1,u=!1,l=!0;for(const c in t){const d=t[c];if(oI(c)){i[c]=d;continue}const f=aI[c],h=AP(d,f);if(Ca.has(c)){if(s=!0,a[c]=h,!l)continue;d!==(f.default||0)&&(l=!1)}else c.startsWith("origin")?(u=!0,A[c]=h):o[c]=h}if(t.transform||(s||r?o.transform=iP(e.transform,n,l,r):o.transform&&(o.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:f=0}=A;o.transformOrigin=`${c} ${d} ${f}`}}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AI(e,t,n){for(const r in t)!Tn(t[r])&&!nI(r,n)&&(e[r]=t[r])}function cP({transformTemplate:e},t,n){return k.useMemo(()=>{const r=By();return xy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function dP(e,t,n){const r=e.style||{},o={};return AI(o,r,e),Object.assign(o,cP(e,t,n)),e.transformValues?e.transformValues(o):o}function fP(e,t,n){const r={},o=dP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const hP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ud(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hP.has(e)}let sI=e=>!Ud(e);function pP(e){e&&(sI=t=>t.startsWith("on")?!Ud(t):e(t))}try{pP(require("@emotion/is-prop-valid").default)}catch{}function gP(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(sI(o)||n===!0&&Ud(o)||!t&&!Ud(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function Kx(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function mP(e,t,n){const r=Kx(t,e.x,e.width),o=Kx(n,e.y,e.height);return`${r} ${o}`}const vP={offset:"stroke-dashoffset",array:"stroke-dasharray"},yP={offset:"strokeDashoffset",array:"strokeDasharray"};function wP(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?vP:yP;e[i.offset]=ge.transform(-r);const a=ge.transform(t),A=ge.transform(n);e[i.array]=`${a} ${A}`}function Cy(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:a,pathSpacing:A=1,pathOffset:s=0,...u},l,c,d){if(xy(e,u,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:p}=e;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(o!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=mP(p,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&wP(f,a,A,s,!1)}const uI=()=>({...By(),attrs:{}}),by=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xP(e,t,n,r){const o=k.useMemo(()=>{const i=uI();return Cy(i,t,{enableHardwareAcceleration:!1},by(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};AI(i,e.style,e),o.style={...i,...o.style}}return o}function BP(e=!1){return(n,r,o,{latestValues:i},a)=>{const s=(wy(n)?xP:fP)(r,i,a,n),l={...gP(r,typeof n=="string",e),...s,ref:o},{children:c}=r,d=k.useMemo(()=>Tn(c)?c.get():c,[c]);return k.createElement(n,{...l,children:d})}}function lI(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const cI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dI(e,t,n,r){lI(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(cI.has(o)?o:gy(o),t.attrs[o])}function Ey(e,t){const{style:n}=e,r={};for(const o in n)(Tn(n[o])||t.style&&Tn(t.style[o])||nI(o,e))&&(r[o]=n[o]);return r}function fI(e,t){const n=Ey(e,t);for(const r in e)if(Tn(e[r])||Tn(t[r])){const o=Zu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Fy(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function hI(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qd=e=>Array.isArray(e),CP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bP=e=>Qd(e)?e[e.length-1]||0:e;function Wc(e){const t=Tn(e)?e.get():e;return CP(t)?t.toValue():t}function EP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const a={latestValues:FP(r,o,i,e),renderState:t()};return n&&(a.mount=A=>n(r,A,a)),a}const pI=e=>(t,n)=>{const r=k.useContext(dh),o=k.useContext(fh),i=()=>EP(e,t,r,o);return n?i():hI(i)};function FP(e,t,n,r){const o={},i=r(e,{});for(const d in i)o[d]=Wc(i[d]);let{initial:a,animate:A}=e;const s=gh(e),u=eI(e);t&&u&&!s&&e.inherit!==!1&&(a===void 0&&(a=t.initial),A===void 0&&(A=t.animate));let l=n?n.initial===!1:!1;l=l||a===!1;const c=l?A:a;return c&&typeof c!="boolean"&&!ph(c)&&(Array.isArray(c)?c:[c]).forEach(f=>{const h=Fy(e,f);if(!h)return;const{transitionEnd:p,transition:y,...g}=h;for(const v in g){let w=g[v];if(Array.isArray(w)){const x=l?w.length-1:0;w=w[x]}w!==null&&(o[v]=w)}for(const v in p)o[v]=p[v]}),o}const ct=e=>e;class Wx{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function IP(e){let t=new Wx,n=new Wx,r=0,o=!1,i=!1;const a=new WeakSet,A={schedule:(s,u=!1,l=!1)=>{const c=l&&o,d=c?t:n;return u&&a.add(s),d.add(s)&&c&&o&&(r=t.order.length),s},cancel:s=>{n.remove(s),a.delete(s)},process:s=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const l=t.order[u];l(s),a.has(l)&&(A.schedule(l),e())}o=!1,i&&(i=!1,A.process(s))}};return A}const Ol=["prepare","read","update","preRender","render","postRender"],SP=40;function UP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Ol.reduce((c,d)=>(c[d]=IP(()=>n=!0),c),{}),a=c=>i[c].process(o),A=()=>{const c=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(c-o.timestamp,SP),1),o.timestamp=c,o.isProcessing=!0,Ol.forEach(a),o.isProcessing=!1,n&&t&&(r=!1,e(A))},s=()=>{n=!0,r=!0,o.isProcessing||e(A)};return{schedule:Ol.reduce((c,d)=>{const f=i[d];return c[d]=(h,p=!1,y=!1)=>(n||s(),f.schedule(h,p,y)),c},{}),cancel:c=>Ol.forEach(d=>i[d].cancel(c)),state:o,steps:i}}const{schedule:Ge,cancel:Po,state:en,steps:Fp}=UP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ct,!0),QP={useVisualState:pI({scrapeMotionValuesFromProps:fI,createRenderState:uI,onMount:(e,t,{renderState:n,latestValues:r})=>{Ge.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ge.render(()=>{Cy(n,r,{enableHardwareAcceleration:!1},by(t.tagName),e.transformTemplate),dI(t,n)})}})},TP={useVisualState:pI({scrapeMotionValuesFromProps:Ey,createRenderState:By})};function kP(e,{forwardMotionProps:t=!1},n,r){return{...wy(e)?QP:TP,preloadedFeatures:n,useRender:BP(t),createVisualElement:r,Component:e}}function So(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const gI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function vh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _P=e=>t=>gI(t)&&e(t,vh(t));function Qo(e,t,n,r){return So(e,t,_P(n),r)}const RP=(e,t)=>n=>t(e(n)),xi=(...e)=>e.reduce(RP);function mI(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Gx=mI("dragHorizontal"),zx=mI("dragVertical");function vI(e){let t=!1;if(e==="y")t=zx();else if(e==="x")t=Gx();else{const n=Gx(),r=zx();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function yI(){const e=vI(!0);return e?(e(),!1):!0}class Li{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $x(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,a)=>{if(i.pointerType==="touch"||yI())return;const A=e.getProps();e.animationState&&A.whileHover&&e.animationState.setActive("whileHover",t),A[r]&&Ge.update(()=>A[r](i,a))};return Qo(e.current,n,o,{passive:!e.getProps()[r]})}class DP extends Li{mount(){this.unmount=xi($x(this.node,!0),$x(this.node,!1))}unmount(){}}class NP extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xi(So(this.node.current,"focus",()=>this.onFocus()),So(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wI=(e,t)=>t?e===t?!0:wI(e,t.parentElement):!1;function Ip(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,vh(n))}class MP extends Li{constructor(){super(...arguments),this.removeStartListeners=ct,this.removeEndListeners=ct,this.removeAccessibleListeners=ct,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Qo(window,"pointerup",(A,s)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:l,globalTapTarget:c}=this.node.getProps();Ge.update(()=>{!c&&!wI(this.node.current,A.target)?l&&l(A,s):u&&u(A,s)})},{passive:!(r.onTap||r.onPointerUp)}),a=Qo(window,"pointercancel",(A,s)=>this.cancelPress(A,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xi(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=A=>{A.key!=="Enter"||!this.checkPressEnd()||Ip("up",(s,u)=>{const{onTap:l}=this.node.getProps();l&&Ge.update(()=>l(s,u))})};this.removeEndListeners(),this.removeEndListeners=So(this.node.current,"keyup",a),Ip("down",(A,s)=>{this.startPress(A,s)})},n=So(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ip("cancel",(i,a)=>this.cancelPress(i,a))},o=So(this.node.current,"blur",r);this.removeAccessibleListeners=xi(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ge.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yI()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ge.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Qo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=So(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Om=new WeakMap,Sp=new WeakMap,PP=e=>{const t=Om.get(e.target);t&&t(e)},LP=e=>{e.forEach(PP)};function HP({root:e,...t}){const n=e||document;Sp.has(n)||Sp.set(n,{});const r=Sp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LP,{root:e,...t})),r[o]}function OP(e,t,n){const r=HP(t);return Om.set(e,n),r.observe(e),()=>{Om.delete(e),r.unobserve(e)}}const jP={some:0,all:1};class VP extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:jP[o]},A=s=>{const{isIntersecting:u}=s;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:c}=this.node.getProps(),d=u?l:c;d&&d(s)};return OP(this.node.current,a,A)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(KP(t,n))&&this.startObserver()}unmount(){}}function KP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const WP={inView:{Feature:VP},tap:{Feature:MP},focus:{Feature:NP},hover:{Feature:DP}};function xI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function zP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yh(e,t,n){const r=e.getProps();return Fy(r,t,n!==void 0?n:r.custom,GP(e),zP(e))}let $P=ct,Iy=ct;const Bi=e=>e*1e3,To=e=>e/1e3,XP={current:!1},BI=e=>Array.isArray(e)&&typeof e[0]=="number";function CI(e){return!!(!e||typeof e=="string"&&bI[e]||BI(e)||Array.isArray(e)&&e.every(CI))}const Ts=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,bI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ts([0,.65,.55,1]),circOut:Ts([.55,0,1,.45]),backIn:Ts([.31,.01,.66,-.59]),backOut:Ts([.33,1.53,.69,.99])};function EI(e){if(e)return BI(e)?Ts(e):Array.isArray(e)?e.map(EI):bI[e]}function YP(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:a="loop",ease:A,times:s}={}){const u={[t]:n};s&&(u.offset=s);const l=EI(A);return Array.isArray(l)&&(u.easing=l),e.animate(u,{delay:r,duration:o,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function qP(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const FI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,JP=1e-7,ZP=12;function eL(e,t,n,r,o){let i,a,A=0;do a=t+(n-t)/2,i=FI(a,r,o)-e,i>0?n=a:t=a;while(Math.abs(i)>JP&&++A<ZP);return a}function nl(e,t,n,r){if(e===t&&n===r)return ct;const o=i=>eL(i,0,1,e,n);return i=>i===0||i===1?i:FI(o(i),t,r)}const tL=nl(.42,0,1,1),nL=nl(0,0,.58,1),II=nl(.42,0,.58,1),rL=e=>Array.isArray(e)&&typeof e[0]!="number",SI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UI=e=>t=>1-e(1-t),Sy=e=>1-Math.sin(Math.acos(e)),QI=UI(Sy),oL=SI(Sy),TI=nl(.33,1.53,.69,.99),Uy=UI(TI),iL=SI(Uy),aL=e=>(e*=2)<1?.5*Uy(e):.5*(2-Math.pow(2,-10*(e-1))),AL={linear:ct,easeIn:tL,easeInOut:II,easeOut:nL,circIn:Sy,circInOut:oL,circOut:QI,backIn:Uy,backInOut:iL,backOut:TI,anticipate:aL},Xx=e=>{if(Array.isArray(e)){Iy(e.length===4);const[t,n,r,o]=e;return nl(t,n,r,o)}else if(typeof e=="string")return AL[e];return e},Qy=(e,t)=>n=>!!(el(n)&&sP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),kI=(e,t,n)=>r=>{if(!el(r))return r;const[o,i,a,A]=r.match(mh);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:A!==void 0?parseFloat(A):1}},sL=e=>Qi(0,255,e),Up={...ba,transform:e=>Math.round(sL(e))},ia={test:Qy("rgb","red"),parse:kI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Up.transform(e)+", "+Up.transform(t)+", "+Up.transform(n)+", "+Ys(Xs.transform(r))+")"};function uL(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const jm={test:Qy("#"),parse:uL,transform:ia.transform},cA={test:Qy("hsl","hue"),parse:kI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ao.transform(Ys(t))+", "+ao.transform(Ys(n))+", "+Ys(Xs.transform(r))+")"},hn={test:e=>ia.test(e)||jm.test(e)||cA.test(e),parse:e=>ia.test(e)?ia.parse(e):cA.test(e)?cA.parse(e):jm.parse(e),transform:e=>el(e)?e:e.hasOwnProperty("red")?ia.transform(e):cA.transform(e)},nt=(e,t,n)=>-n*e+n*t+e;function Qp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,a=0;if(!t)o=i=a=n;else{const A=n<.5?n*(1+t):n+t-n*t,s=2*n-A;o=Qp(s,A,e+1/3),i=Qp(s,A,e),a=Qp(s,A,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Tp=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cL=[jm,ia,cA],dL=e=>cL.find(t=>t.test(e));function Yx(e){const t=dL(e);let n=t.parse(e);return t===cA&&(n=lL(n)),n}const _I=(e,t)=>{const n=Yx(e),r=Yx(t),o={...n};return i=>(o.red=Tp(n.red,r.red,i),o.green=Tp(n.green,r.green,i),o.blue=Tp(n.blue,r.blue,i),o.alpha=nt(n.alpha,r.alpha,i),ia.transform(o))};function fL(e){var t,n;return isNaN(e)&&el(e)&&(((t=e.match(mh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(iI))===null||n===void 0?void 0:n.length)||0)>0}const RI={regex:aP,countKey:"Vars",token:"${v}",parse:ct},DI={regex:iI,countKey:"Colors",token:"${c}",parse:hn.parse},NI={regex:mh,countKey:"Numbers",token:"${n}",parse:ba.parse};function kp(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Td(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&kp(n,RI),kp(n,DI),kp(n,NI),n}function MI(e){return Td(e).values}function PI(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Td(e),i=t.length;return a=>{let A=o;for(let s=0;s<i;s++)s<r?A=A.replace(RI.token,a[s]):s<r+n?A=A.replace(DI.token,hn.transform(a[s])):A=A.replace(NI.token,Ys(a[s]));return A}}const hL=e=>typeof e=="number"?0:e;function pL(e){const t=MI(e);return PI(e)(t.map(hL))}const Ti={test:fL,parse:MI,createTransformer:PI,getAnimatableNone:pL},LI=(e,t)=>n=>`${n>0?t:e}`;function HI(e,t){return typeof e=="number"?n=>nt(e,t,n):hn.test(e)?_I(e,t):e.startsWith("var(")?LI(e,t):jI(e,t)}const OI=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,a)=>HI(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=o[a](i);return n}},gL=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=HI(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},jI=(e,t)=>{const n=Ti.createTransformer(t),r=Td(e),o=Td(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?xi(OI(r.values,o.values),n):LI(e,t)},ku=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},qx=(e,t)=>n=>nt(e,t,n);function mL(e){return typeof e=="number"?qx:typeof e=="string"?hn.test(e)?_I:jI:Array.isArray(e)?OI:typeof e=="object"?gL:qx}function vL(e,t,n){const r=[],o=n||mL(e[0]),i=e.length-1;for(let a=0;a<i;a++){let A=o(e[a],e[a+1]);if(t){const s=Array.isArray(t)?t[a]||ct:t;A=xi(s,A)}r.push(A)}return r}function VI(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Iy(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=vL(t,r,o),A=a.length,s=u=>{let l=0;if(A>1)for(;l<e.length-2&&!(u<e[l+1]);l++);const c=ku(e[l],e[l+1],u);return a[l](c)};return n?u=>s(Qi(e[0],e[i-1],u)):s}function yL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ku(0,t,r);e.push(nt(n,1,o))}}function wL(e){const t=[0];return yL(t,e.length-1),t}function xL(e,t){return e.map(n=>n*t)}function BL(e,t){return e.map(()=>t||II).splice(0,e.length-1)}function kd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=rL(r)?r.map(Xx):Xx(r),i={done:!1,value:t[0]},a=xL(n&&n.length===t.length?n:wL(t),e),A=VI(a,t,{ease:Array.isArray(o)?o:BL(t,o)});return{calculatedDuration:e,next:s=>(i.value=A(s),i.done=s>=e,i)}}function KI(e,t){return t?e*(1e3/t):0}const CL=5;function WI(e,t,n){const r=Math.max(t-CL,0);return KI(n-e(r),t-r)}const _p=.001,bL=.01,Jx=10,EL=.05,FL=1;function IL({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;$P(e<=Bi(Jx));let a=1-t;a=Qi(EL,FL,a),e=Qi(bL,Jx,To(e)),a<1?(o=u=>{const l=u*a,c=l*e,d=l-n,f=Vm(u,a),h=Math.exp(-c);return _p-d/f*h},i=u=>{const c=u*a*e,d=c*n+n,f=Math.pow(a,2)*Math.pow(u,2)*e,h=Math.exp(-c),p=Vm(Math.pow(u,2),a);return(-o(u)+_p>0?-1:1)*((d-f)*h)/p}):(o=u=>{const l=Math.exp(-u*e),c=(u-n)*e+1;return-_p+l*c},i=u=>{const l=Math.exp(-u*e),c=(n-u)*(e*e);return l*c});const A=5/e,s=UL(o,i,A);if(e=Bi(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(s,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const SL=12;function UL(e,t,n){let r=n;for(let o=1;o<SL;o++)r=r-e(r)/t(r);return r}function Vm(e,t){return e*Math.sqrt(1-t*t)}const QL=["duration","bounce"],TL=["stiffness","damping","mass"];function Zx(e,t){return t.some(n=>e[n]!==void 0)}function kL(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Zx(e,TL)&&Zx(e,QL)){const n=IL(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function GI({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],a={done:!1,value:o},{stiffness:A,damping:s,mass:u,duration:l,velocity:c,isResolvedFromDuration:d}=kL({...r,velocity:-To(r.velocity||0)}),f=c||0,h=s/(2*Math.sqrt(A*u)),p=i-o,y=To(Math.sqrt(A/u)),g=Math.abs(p)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let v;if(h<1){const w=Vm(y,h);v=x=>{const B=Math.exp(-h*y*x);return i-B*((f+h*y*p)/w*Math.sin(w*x)+p*Math.cos(w*x))}}else if(h===1)v=w=>i-Math.exp(-y*w)*(p+(f+y*p)*w);else{const w=y*Math.sqrt(h*h-1);v=x=>{const B=Math.exp(-h*y*x),C=Math.min(w*x,300);return i-B*((f+h*y*p)*Math.sinh(C)+w*p*Math.cosh(C))/w}}return{calculatedDuration:d&&l||null,next:w=>{const x=v(w);if(d)a.done=w>=l;else{let B=f;w!==0&&(h<1?B=WI(v,w,x):B=0);const C=Math.abs(B)<=n,b=Math.abs(i-x)<=t;a.done=C&&b}return a.value=a.done?i:x,a}}}function eB({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:A,max:s,restDelta:u=.5,restSpeed:l}){const c=e[0],d={done:!1,value:c},f=E=>A!==void 0&&E<A||s!==void 0&&E>s,h=E=>A===void 0?s:s===void 0||Math.abs(A-E)<Math.abs(s-E)?A:s;let p=n*t;const y=c+p,g=a===void 0?y:a(y);g!==y&&(p=g-c);const v=E=>-p*Math.exp(-E/r),w=E=>g+v(E),x=E=>{const F=v(E),I=w(E);d.done=Math.abs(F)<=u,d.value=d.done?g:I};let B,C;const b=E=>{f(d.value)&&(B=E,C=GI({keyframes:[d.value,h(d.value)],velocity:WI(w,E,d.value),damping:o,stiffness:i,restDelta:u,restSpeed:l}))};return b(0),{calculatedDuration:null,next:E=>{let F=!1;return!C&&B===void 0&&(F=!0,x(E),b(E)),B!==void 0&&E>B?C.next(E-B):(!F&&x(E),d)}}}const _L=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ge.update(t,!0),stop:()=>Po(t),now:()=>en.isProcessing?en.timestamp:performance.now()}},tB=2e4;function nB(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tB;)t+=n,r=e.next(t);return t>=tB?1/0:t}const RL={decay:eB,inertia:eB,tween:kd,keyframes:kd,spring:GI};function _d({autoplay:e=!0,delay:t=0,driver:n=_L,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:A="loop",onPlay:s,onStop:u,onComplete:l,onUpdate:c,...d}){let f=1,h=!1,p,y;const g=()=>{y=new Promise(W=>{p=W})};g();let v;const w=RL[o]||kd;let x;w!==kd&&typeof r[0]!="number"&&(x=VI([0,100],r,{clamp:!1}),r=[0,100]);const B=w({...d,keyframes:r});let C;A==="mirror"&&(C=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let b="idle",E=null,F=null,I=null;B.calculatedDuration===null&&i&&(B.calculatedDuration=nB(B));const{calculatedDuration:T}=B;let Q=1/0,N=1/0;T!==null&&(Q=T+a,N=Q*(i+1)-a);let M=0;const O=W=>{if(F===null)return;f>0&&(F=Math.min(F,W)),f<0&&(F=Math.min(W-N/f,F)),E!==null?M=E:M=Math.round(W-F)*f;const $=M-t*(f>=0?1:-1),Y=f>=0?$<0:$>N;M=Math.max($,0),b==="finished"&&E===null&&(M=N);let ee=M,ie=B;if(i){const he=Math.min(M,N)/Q;let Te=Math.floor(he),pe=he%1;!pe&&he>=1&&(pe=1),pe===1&&Te--,Te=Math.min(Te,i+1),!!(Te%2)&&(A==="reverse"?(pe=1-pe,a&&(pe-=a/Q)):A==="mirror"&&(ie=C)),ee=Qi(0,1,pe)*Q}const oe=Y?{done:!1,value:r[0]}:ie.next(ee);x&&(oe.value=x(oe.value));let{done:fe}=oe;!Y&&T!==null&&(fe=f>=0?M>=N:M<=0);const Be=E===null&&(b==="finished"||b==="running"&&fe);return c&&c(oe.value),Be&&R(),oe},L=()=>{v&&v.stop(),v=void 0},j=()=>{b="idle",L(),p(),g(),F=I=null},R=()=>{b="finished",l&&l(),L(),p()},P=()=>{if(h)return;v||(v=n(O));const W=v.now();s&&s(),E!==null?F=W-E:(!F||b==="finished")&&(F=W),b==="finished"&&g(),I=F,E=null,b="running",v.start()};e&&P();const H={then(W,$){return y.then(W,$)},get time(){return To(M)},set time(W){W=Bi(W),M=W,E!==null||!v||f===0?E=W:F=v.now()-W/f},get duration(){const W=B.calculatedDuration===null?nB(B):B.calculatedDuration;return To(W)},get speed(){return f},set speed(W){W===f||!v||(f=W,H.time=To(M))},get state(){return b},play:P,pause:()=>{b="paused",E=M},stop:()=>{h=!0,b!=="idle"&&(b="idle",u&&u(),j())},cancel:()=>{I!==null&&O(I),j()},complete:()=>{b="finished"},sample:W=>(F=0,O(W))};return H}function DL(e){let t;return()=>(t===void 0&&(t=e()),t)}const NL=DL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ML=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jl=10,PL=2e4,LL=(e,t)=>t.type==="spring"||e==="backgroundColor"||!CI(t.ease);function HL(e,t,{onUpdate:n,onComplete:r,...o}){if(!(NL()&&ML.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let a=!1,A,s,u=!1;const l=()=>{s=new Promise(w=>{A=w})};l();let{keyframes:c,duration:d=300,ease:f,times:h}=o;if(LL(t,o)){const w=_d({...o,repeat:0,delay:0});let x={done:!1,value:c[0]};const B=[];let C=0;for(;!x.done&&C<PL;)x=w.sample(C),B.push(x.value),C+=jl;h=void 0,c=B,d=C-jl,f="linear"}const p=YP(e.owner.current,t,c,{...o,duration:d,ease:f,times:h}),y=()=>{u=!1,p.cancel()},g=()=>{u=!0,Ge.update(y),A(),l()};return p.onfinish=()=>{u||(e.set(qP(c,o)),r&&r(),g())},{then(w,x){return s.then(w,x)},attachTimeline(w){return p.timeline=w,p.onfinish=null,ct},get time(){return To(p.currentTime||0)},set time(w){p.currentTime=Bi(w)},get speed(){return p.playbackRate},set speed(w){p.playbackRate=w},get duration(){return To(d)},play:()=>{a||(p.play(),Po(y))},pause:()=>p.pause(),stop:()=>{if(a=!0,p.playState==="idle")return;const{currentTime:w}=p;if(w){const x=_d({...o,autoplay:!1});e.setWithVelocity(x.sample(w-jl).value,x.sample(w).value,jl)}g()},complete:()=>{u||p.finish()},cancel:g}}function OL({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ct,pause:ct,stop:ct,then:i=>(i(),Promise.resolve()),cancel:ct,complete:ct});return t?_d({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const jL={type:"spring",stiffness:500,damping:25,restSpeed:10},VL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KL={type:"keyframes",duration:.8},WL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GL=(e,{keyframes:t})=>t.length>2?KL:Ca.has(e)?e.startsWith("scale")?VL(t[1]):jL:WL,Km=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ti.test(t)||t==="0")&&!t.startsWith("url(")),zL=new Set(["brightness","contrast","saturate","opacity"]);function $L(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(mh)||[];if(!r)return e;const o=n.replace(r,"");let i=zL.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const XL=/([a-z-]*)\(.*?\)/g,Wm={...Ti,getAnimatableNone:e=>{const t=e.match(XL);return t?t.map($L).join(" "):e}},YL={...aI,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Wm,WebkitFilter:Wm},Ty=e=>YL[e];function zI(e,t){let n=Ty(e);return n!==Wm&&(n=Ti),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $I=e=>/^0[^.\s]+$/.test(e);function qL(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$I(e)}function JL(e,t,n,r){const o=Km(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let A;const s=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),qL(i[u])&&s.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(A=i[u]);if(o&&s.length&&A)for(let u=0;u<s.length;u++){const l=s[u];i[l]=zI(t,A)}return i}function ZL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:A,from:s,elapsed:u,...l}){return!!Object.keys(l).length}function ky(e,t){return e[t]||e.default||e}const eH={skipAnimations:!1},_y=(e,t,n,r={})=>o=>{const i=ky(r,e)||{},a=i.delay||r.delay||0;let{elapsed:A=0}=r;A=A-Bi(a);const s=JL(t,e,n,i),u=s[0],l=s[s.length-1],c=Km(e,u),d=Km(e,l);let f={keyframes:s,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-A,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(ZL(i)||(f={...f,...GL(e,f)}),f.duration&&(f.duration=Bi(f.duration)),f.repeatDelay&&(f.repeatDelay=Bi(f.repeatDelay)),!c||!d||XP.current||i.type===!1||eH.skipAnimations)return OL(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=HL(t,e,f);if(h)return h}return _d(f)};function Rd(e){return!!(Tn(e)&&e.add)}const XI=e=>/^\-?\d*\.?\d+$/.test(e);function Ry(e,t){e.indexOf(t)===-1&&e.push(t)}function Dy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ny{constructor(){this.subscriptions=[]}add(t){return Ry(this.subscriptions,t),()=>Dy(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tH=e=>!isNaN(parseFloat(e));class nH{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=en;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=tH(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ny);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function OA(e,t){return new nH(e,t)}const YI=e=>t=>t.test(e),rH={test:e=>e==="auto",parse:e=>e},qI=[ba,ge,ao,Yo,lP,uP,rH],gs=e=>qI.find(YI(e)),oH=[...qI,hn,Ti],iH=e=>oH.find(YI(e));function aH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,OA(n))}function AH(e,t){const n=yh(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const A=bP(i[a]);aH(e,a,A)}}function sH(e,t,n){var r,o;const i=Object.keys(t).filter(A=>!e.hasValue(A)),a=i.length;if(a)for(let A=0;A<a;A++){const s=i[A],u=t[s];let l=null;Array.isArray(u)&&(l=u[0]),l===null&&(l=(o=(r=n[s])!==null&&r!==void 0?r:e.readValue(s))!==null&&o!==void 0?o:t[s]),l!=null&&(typeof l=="string"&&(XI(l)||$I(l))?l=parseFloat(l):!iH(l)&&Ti.test(u)&&(l=zI(s,u)),e.addValue(s,OA(l,{owner:e})),n[s]===void 0&&(n[s]=l),l!==null&&e.setBaseTarget(s,l))}}function uH(e,t){return t?(t[e]||t.default||t).from:void 0}function lH(e,t,n){const r={};for(const o in e){const i=uH(o,t);if(i!==void 0)r[o]=i;else{const a=n.getValue(o);a&&(r[o]=a.get())}}return r}function cH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dH(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function JI(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...A}=e.makeTargetAnimatable(t);const s=e.getValue("willChange");r&&(i=r);const u=[],l=o&&e.animationState&&e.animationState.getState()[o];for(const c in A){const d=e.getValue(c),f=A[c];if(!d||f===void 0||l&&cH(l,c))continue;const h={delay:n,elapsed:0,...ky(i||{},c)};if(window.HandoffAppearAnimations){const g=e.getProps()[ZF];if(g){const v=window.HandoffAppearAnimations(g,c,d,Ge);v!==null&&(h.elapsed=v,h.isHandoff=!0)}}let p=!h.isHandoff&&!dH(d,f);if(h.type==="spring"&&(d.getVelocity()||h.velocity)&&(p=!1),d.animation&&(p=!1),p)continue;d.start(_y(c,d,f,e.shouldReduceMotion&&Ca.has(c)?{type:!1}:h));const y=d.animation;Rd(s)&&(s.add(c),y.then(()=>s.remove(c))),u.push(y)}return a&&Promise.all(u).then(()=>{a&&AH(e,a)}),u}function Gm(e,t,n={}){const r=yh(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(JI(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(s=0)=>{const{delayChildren:u=0,staggerChildren:l,staggerDirection:c}=o;return fH(e,t,u+s,l,c,n)}:()=>Promise.resolve(),{when:A}=o;if(A){const[s,u]=A==="beforeChildren"?[i,a]:[a,i];return s().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function fH(e,t,n=0,r=0,o=1,i){const a=[],A=(e.variantChildren.size-1)*r,s=o===1?(u=0)=>u*r:(u=0)=>A-u*r;return Array.from(e.variantChildren).sort(hH).forEach((u,l)=>{u.notify("AnimationStart",t),a.push(Gm(u,t,{...i,delay:n+s(l)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function hH(e,t){return e.sortNodePosition(t)}function pH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>Gm(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=Gm(e,t,n);else{const o=typeof t=="function"?yh(e,t,n.custom):t;r=Promise.all(JI(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const gH=[...my].reverse(),mH=my.length;function vH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>pH(e,n,r)))}function yH(e){let t=vH(e);const n=xH();let r=!0;const o=(s,u)=>{const l=yh(e,u);if(l){const{transition:c,transitionEnd:d,...f}=l;s={...s,...f,...d}}return s};function i(s){t=s(e)}function a(s,u){const l=e.getProps(),c=e.getVariantContext(!0)||{},d=[],f=new Set;let h={},p=1/0;for(let g=0;g<mH;g++){const v=gH[g],w=n[v],x=l[v]!==void 0?l[v]:c[v],B=Qu(x),C=v===u?w.isActive:null;C===!1&&(p=g);let b=x===c[v]&&x!==l[v]&&B;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),w.protectedKeys={...h},!w.isActive&&C===null||!x&&!w.prevProp||ph(x)||typeof x=="boolean")continue;let F=wH(w.prevProp,x)||v===u&&w.isActive&&!b&&B||g>p&&B,I=!1;const T=Array.isArray(x)?x:[x];let Q=T.reduce(o,{});C===!1&&(Q={});const{prevResolvedValues:N={}}=w,M={...N,...Q},O=L=>{F=!0,f.has(L)&&(I=!0,f.delete(L)),w.needsAnimating[L]=!0};for(const L in M){const j=Q[L],R=N[L];if(h.hasOwnProperty(L))continue;let P=!1;Qd(j)&&Qd(R)?P=!xI(j,R):P=j!==R,P?j!==void 0?O(L):f.add(L):j!==void 0&&f.has(L)?O(L):w.protectedKeys[L]=!0}w.prevProp=x,w.prevResolvedValues=Q,w.isActive&&(h={...h,...Q}),r&&e.blockInitialAnimation&&(F=!1),F&&(!b||I)&&d.push(...T.map(L=>({animation:L,options:{type:v,...s}})))}if(f.size){const g={};f.forEach(v=>{const w=e.getBaseTarget(v);w!==void 0&&(g[v]=w)}),d.push({animation:g})}let y=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function A(s,u,l){var c;if(n[s].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(s,u)}),n[s].isActive=u;const d=a(l,s);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:A,setAnimateFunction:i,getState:()=>n}}function wH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xI(t,e):!1}function Vi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xH(){return{animate:Vi(!0),whileInView:Vi(),whileHover:Vi(),whileTap:Vi(),whileDrag:Vi(),whileFocus:Vi(),exit:Vi()}}class BH extends Li{constructor(t){super(t),t.animationState||(t.animationState=yH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ph(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let CH=0;class bH extends Li{constructor(){super(...arguments),this.id=CH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const EH={animation:{Feature:BH},exit:{Feature:bH}},rB=(e,t)=>Math.abs(e-t);function FH(e,t){const n=rB(e.x,t.x),r=rB(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZI{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Dp(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=FH(c.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:h}=c,{timestamp:p}=en;this.history.push({...h,timestamp:p});const{onStart:y,onMove:g}=this.handlers;d||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,d)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Rp(d,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(c,d)=>{this.end();const{onEnd:f,onSessionEnd:h,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Dp(c.type==="pointercancel"?this.lastMoveEventInfo:Rp(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,y),h&&h(c,y)},!gI(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const a=vh(t),A=Rp(a,this.transformPagePoint),{point:s}=A,{timestamp:u}=en;this.history=[{...s,timestamp:u}];const{onSessionStart:l}=n;l&&l(t,Dp(A,this.history)),this.removeListeners=xi(Qo(this.contextWindow,"pointermove",this.handlePointerMove),Qo(this.contextWindow,"pointerup",this.handlePointerUp),Qo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function Rp(e,t){return t?{point:t(e.point)}:e}function oB(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dp({point:e},t){return{point:e,delta:oB(e,eS(t)),offset:oB(e,IH(t)),velocity:SH(t,.1)}}function IH(e){return e[0]}function eS(e){return e[e.length-1]}function SH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=eS(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Bi(t)));)n--;if(!r)return{x:0,y:0};const i=To(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function $n(e){return e.max-e.min}function zm(e,t=0,n=.01){return Math.abs(e-t)<=n}function iB(e,t,n,r=.5){e.origin=r,e.originPoint=nt(t.min,t.max,e.origin),e.scale=$n(n)/$n(t),(zm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=nt(n.min,n.max,e.origin)-e.originPoint,(zm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qs(e,t,n,r){iB(e.x,t.x,n.x,r?r.originX:void 0),iB(e.y,t.y,n.y,r?r.originY:void 0)}function aB(e,t,n){e.min=n.min+t.min,e.max=e.min+$n(t)}function UH(e,t,n){aB(e.x,t.x,n.x),aB(e.y,t.y,n.y)}function AB(e,t,n){e.min=t.min-n.min,e.max=e.min+$n(t)}function Js(e,t,n){AB(e.x,t.x,n.x),AB(e.y,t.y,n.y)}function QH(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?nt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?nt(n,e,r.max):Math.min(e,n)),e}function sB(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function TH(e,{top:t,left:n,bottom:r,right:o}){return{x:sB(e.x,n,o),y:sB(e.y,t,r)}}function uB(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function kH(e,t){return{x:uB(e.x,t.x),y:uB(e.y,t.y)}}function _H(e,t){let n=.5;const r=$n(e),o=$n(t);return o>r?n=ku(t.min,t.max-r,e.min):r>o&&(n=ku(e.min,e.max-o,t.min)),Qi(0,1,n)}function RH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $m=.35;function DH(e=$m){return e===!1?e=0:e===!0&&(e=$m),{x:lB(e,"left","right"),y:lB(e,"top","bottom")}}function lB(e,t,n){return{min:cB(e,t),max:cB(e,n)}}function cB(e,t){return typeof e=="number"?e:e[t]||0}const dB=()=>({translate:0,scale:1,origin:0,originPoint:0}),dA=()=>({x:dB(),y:dB()}),fB=()=>({min:0,max:0}),yt=()=>({x:fB(),y:fB()});function nr(e){return[e("x"),e("y")]}function tS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function NH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Np(e){return e===void 0||e===1}function Xm({scale:e,scaleX:t,scaleY:n}){return!Np(e)||!Np(t)||!Np(n)}function $i(e){return Xm(e)||nS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function nS(e){return hB(e.x)||hB(e.y)}function hB(e){return e&&e!=="0%"}function Dd(e,t,n){const r=e-n,o=t*r;return n+o}function pB(e,t,n,r,o){return o!==void 0&&(e=Dd(e,o,r)),Dd(e,n,r)+t}function Ym(e,t=0,n=1,r,o){e.min=pB(e.min,t,n,r,o),e.max=pB(e.max,t,n,r,o)}function rS(e,{x:t,y:n}){Ym(e.x,t.translate,t.scale,t.originPoint),Ym(e.y,n.translate,n.scale,n.originPoint)}function PH(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,a;for(let A=0;A<o;A++){i=n[A],a=i.projectionDelta;const s=i.instance;s&&s.style&&s.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fA(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,rS(e,a)),r&&$i(i.latestValues)&&fA(e,i.latestValues))}t.x=gB(t.x),t.y=gB(t.y)}function gB(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ti(e,t){e.min=e.min+t,e.max=e.max+t}function mB(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,a=nt(e.min,e.max,i);Ym(e,t[n],t[r],a,t.scale)}const LH=["x","scaleX","originX"],HH=["y","scaleY","originY"];function fA(e,t){mB(e.x,t,LH),mB(e.y,t,HH)}function oS(e,t){return tS(MH(e.getBoundingClientRect(),t))}function OH(e,t,n){const r=oS(e,n),{scroll:o}=t;return o&&(ti(r.x,o.offset.x),ti(r.y,o.offset.y)),r}const iS=({current:e})=>e?e.ownerDocument.defaultView:null,jH=new WeakMap;class VH{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vh(l,"page").point)},i=(l,c)=>{const{drag:d,dragPropagation:f,onDragStart:h}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vI(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(y=>{let g=this.getAxisMotionValue(y).get()||0;if(ao.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(g=$n(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),h&&Ge.update(()=>h(l,c),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},a=(l,c)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:h,onDrag:p}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=c;if(f&&this.currentDirection===null){this.currentDirection=KH(y),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),p&&p(l,c)},A=(l,c)=>this.stop(l,c),s=()=>nr(l=>{var c;return this.getAnimationState(l)==="paused"&&((c=this.getAxisMotionValue(l).animation)===null||c===void 0?void 0:c.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZI(t,{onSessionStart:o,onStart:i,onMove:a,onSessionEnd:A,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Ge.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Vl(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=QH(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&lA(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=TH(o.layoutBox,n):this.constraints=!1,this.elastic=DH(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&nr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=RH(o.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lA(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=OH(r,o.root,this.visualElement.getTransformPagePoint());let a=kH(o.layout.layoutBox,i);if(n){const A=n(NH(a));this.hasMutatedConstraints=!!A,A&&(a=tS(A))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:A}=this.getProps(),s=this.constraints||{},u=nr(l=>{if(!Vl(l,n,this.currentDirection))return;let c=s&&s[l]||{};a&&(c={min:0,max:0});const d=o?200:1e6,f=o?40:1e7,h={type:"inertia",velocity:r?t[l]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(l,h)});return Promise.all(u).then(A)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(_y(t,r,0,n))}stopAnimation(){nr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){nr(n=>{const{drag:r}=this.getProps();if(!Vl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:a,max:A}=o.layout.layoutBox[n];i.set(t[n]-nt(a,A,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lA(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nr(a=>{const A=this.getAxisMotionValue(a);if(A){const s=A.get();o[a]=_H({min:s,max:s},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nr(a=>{if(!Vl(a,t,null))return;const A=this.getAxisMotionValue(a),{min:s,max:u}=this.constraints[a];A.set(nt(s,u,o[a]))})}addListeners(){if(!this.visualElement.current)return;jH.set(this.visualElement,this);const t=this.visualElement.current,n=Qo(t,"pointerdown",s=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(s)}),r=()=>{const{dragConstraints:s}=this.getProps();lA(s)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const a=So(window,"resize",()=>this.scalePositionWithinConstraints()),A=o.addEventListener("didUpdate",({delta:s,hasLayoutChanged:u})=>{this.isDragging&&u&&(nr(l=>{const c=this.getAxisMotionValue(l);c&&(this.originPoint[l]+=s[l].translate,c.set(c.get()+s[l].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),A&&A()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:a=$m,dragMomentum:A=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:a,dragMomentum:A}}}function Vl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function KH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WH extends Li{constructor(t){super(t),this.removeGroupControls=ct,this.removeListeners=ct,this.controls=new VH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const vB=e=>(t,n)=>{e&&Ge.update(()=>e(t,n))};class GH extends Li{constructor(){super(...arguments),this.removePointerDownListener=ct}onPointerDown(t){this.session=new ZI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:vB(t),onStart:vB(n),onMove:r,onEnd:(i,a)=>{delete this.session,o&&Ge.update(()=>o(i,a))}}}mount(){this.removePointerDownListener=Qo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zH(){const e=k.useContext(fh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=k.useId();return k.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yB(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ms={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=yB(e,t.target.x),r=yB(e,t.target.y);return`${n}% ${r}%`}},$H={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Ti.parse(e);if(o.length>5)return r;const i=Ti.createTransformer(e),a=typeof o[0]!="number"?1:0,A=n.x.scale*t.x,s=n.y.scale*t.y;o[0+a]/=A,o[1+a]/=s;const u=nt(A,s,.5);return typeof o[2+a]=="number"&&(o[2+a]/=u),typeof o[3+a]=="number"&&(o[3+a]/=u),i(o)}};class XH extends kr.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;nP(YH),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,o||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ge.postRender(()=>{const A=a.getStack();(!A||!A.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aS(e){const[t,n]=zH(),r=k.useContext(yy);return kr.createElement(XH,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(tI),isPresent:t,safeToRemove:n})}const YH={borderRadius:{...ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ms,borderTopRightRadius:ms,borderBottomLeftRadius:ms,borderBottomRightRadius:ms,boxShadow:$H},AS=["TopLeft","TopRight","BottomLeft","BottomRight"],qH=AS.length,wB=e=>typeof e=="string"?parseFloat(e):e,xB=e=>typeof e=="number"||ge.test(e);function JH(e,t,n,r,o,i){o?(e.opacity=nt(0,n.opacity!==void 0?n.opacity:1,ZH(r)),e.opacityExit=nt(t.opacity!==void 0?t.opacity:1,0,eO(r))):i&&(e.opacity=nt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<qH;a++){const A=`border${AS[a]}Radius`;let s=BB(t,A),u=BB(n,A);if(s===void 0&&u===void 0)continue;s||(s=0),u||(u=0),s===0||u===0||xB(s)===xB(u)?(e[A]=Math.max(nt(wB(s),wB(u),r),0),(ao.test(u)||ao.test(s))&&(e[A]+="%")):e[A]=u}(t.rotate||n.rotate)&&(e.rotate=nt(t.rotate||0,n.rotate||0,r))}function BB(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZH=sS(0,.5,QI),eO=sS(.5,.95,ct);function sS(e,t,n){return r=>r<e?0:r>t?1:n(ku(e,t,r))}function CB(e,t){e.min=t.min,e.max=t.max}function er(e,t){CB(e.x,t.x),CB(e.y,t.y)}function bB(e,t,n,r,o){return e-=t,e=Dd(e,1/n,r),o!==void 0&&(e=Dd(e,1/o,r)),e}function tO(e,t=0,n=1,r=.5,o,i=e,a=e){if(ao.test(t)&&(t=parseFloat(t),t=nt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let A=nt(i.min,i.max,r);e===i&&(A-=t),e.min=bB(e.min,t,n,A,o),e.max=bB(e.max,t,n,A,o)}function EB(e,t,[n,r,o],i,a){tO(e,t[n],t[r],t[o],t.scale,i,a)}const nO=["x","scaleX","originX"],rO=["y","scaleY","originY"];function FB(e,t,n,r){EB(e.x,t,nO,n?n.x:void 0,r?r.x:void 0),EB(e.y,t,rO,n?n.y:void 0,r?r.y:void 0)}function IB(e){return e.translate===0&&e.scale===1}function uS(e){return IB(e.x)&&IB(e.y)}function oO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function lS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function SB(e){return $n(e.x)/$n(e.y)}class iO{constructor(){this.members=[]}add(t){Ry(this.members,t),t.scheduleRender()}remove(t){if(Dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UB(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:s,rotateX:u,rotateY:l}=n;s&&(r+=`rotate(${s}deg) `),u&&(r+=`rotateX(${u}deg) `),l&&(r+=`rotateY(${l}deg) `)}const a=e.x.scale*t.x,A=e.y.scale*t.y;return(a!==1||A!==1)&&(r+=`scale(${a}, ${A})`),r||"none"}const aO=(e,t)=>e.depth-t.depth;class AO{constructor(){this.children=[],this.isDirty=!1}add(t){Ry(this.children,t),this.isDirty=!0}remove(t){Dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aO),this.isDirty=!1,this.children.forEach(t)}}function sO(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Po(r),e(i-t))};return Ge.read(r,!0),()=>Po(r)}function uO(e){window.MotionDebug&&window.MotionDebug.record(e)}function lO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function cO(e,t,n){const r=Tn(e)?e:OA(e);return r.start(_y("",r,t,n)),r.animation}const QB=["","X","Y","Z"],dO={visibility:"hidden"},TB=1e3;let fO=0;const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(a={},A=t==null?void 0:t()){this.id=fO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0,this.nodes.forEach(gO),this.nodes.forEach(xO),this.nodes.forEach(BO),this.nodes.forEach(mO),uO(Xi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=A?A.root||A:this,this.path=A?[...A.path,A]:[],this.parent=A,this.depth=A?A.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new AO)}addEventListener(a,A){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ny),this.eventHandlers.get(a).add(A)}notifyListeners(a,...A){const s=this.eventHandlers.get(a);s&&s.notify(...A)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,A=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lO(a),this.instance=a;const{layoutId:s,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),A&&(u||s)&&(this.isLayoutDirty=!0),e){let c;const d=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=sO(d,250),Gc.hasAnimatedSinceResize&&(Gc.hasAnimatedSinceResize=!1,this.nodes.forEach(_B))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&l&&(s||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||IO,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=l.getProps(),v=!this.targetLayout||!lS(this.targetLayout,h)||f,w=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,w);const x={...ky(p,"layout"),onPlay:y,onComplete:g};(l.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||_B(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CO),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const c=this.path[l];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:A,layout:s}=this.options;if(A===void 0&&!s)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kB);return}this.isUpdating||this.nodes.forEach(yO),this.isUpdating=!1,this.nodes.forEach(wO),this.nodes.forEach(hO),this.nodes.forEach(pO),this.clearAllSnapshots();const A=performance.now();en.delta=Qi(0,1e3/60,A-en.timestamp),en.timestamp=A,en.isProcessing=!0,Fp.update.process(en),Fp.preRender.process(en),Fp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vO),this.sharedNodes.forEach(bO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:A}=this.options;A&&A.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let A=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(A=!1),A&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const a=this.isLayoutDirty||this.shouldResetTransform,A=this.projectionDelta&&!uS(this.projectionDelta),s=this.getTransformTemplate(),u=s?s(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;a&&(A||$i(this.latestValues)||l)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const A=this.measurePageBox();let s=this.removeElementScroll(A);return a&&(s=this.removeTransform(s)),SO(s),{animationId:this.root.animationId,measuredBox:A,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return yt();const A=a.measureViewportBox(),{scroll:s}=this.root;return s&&(ti(A.x,s.offset.x),ti(A.y,s.offset.y)),A}removeElementScroll(a){const A=yt();er(A,a);for(let s=0;s<this.path.length;s++){const u=this.path[s],{scroll:l,options:c}=u;if(u!==this.root&&l&&c.layoutScroll){if(l.isRoot){er(A,a);const{scroll:d}=this.root;d&&(ti(A.x,-d.offset.x),ti(A.y,-d.offset.y))}ti(A.x,l.offset.x),ti(A.y,l.offset.y)}}return A}applyTransform(a,A=!1){const s=yt();er(s,a);for(let u=0;u<this.path.length;u++){const l=this.path[u];!A&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fA(s,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),$i(l.latestValues)&&fA(s,l.latestValues)}return $i(this.latestValues)&&fA(s,this.latestValues),s}removeTransform(a){const A=yt();er(A,a);for(let s=0;s<this.path.length;s++){const u=this.path[s];if(!u.instance||!$i(u.latestValues))continue;Xm(u.latestValues)&&u.updateSnapshot();const l=yt(),c=u.measurePageBox();er(l,c),FB(A,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return $i(this.latestValues)&&FB(A,this.latestValues),A}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var A;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==s;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Js(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),rS(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Js(this.relativeTargetOrigin,this.target,f.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xm(this.parent.latestValues)||nS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const A=this.getLead(),s=!!this.resumingFrom||this!==A;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===en.timestamp&&(u=!1),u)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;er(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;PH(this.layoutCorrected,this.treeScale,this.path,s),A.layout&&!A.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(A.target=A.layout.layoutBox);const{target:h}=A;if(!h){this.projectionTransform&&(this.projectionDelta=dA(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=dA(),this.projectionDeltaWithTransform=dA());const p=this.projectionTransform;qs(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=UB(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const A=this.getStack();A&&A.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,A=!1){const s=this.snapshot,u=s?s.latestValues:{},l={...this.latestValues},c=dA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!A;const d=yt(),f=s?s.source:void 0,h=this.layout?this.layout.source:void 0,p=f!==h,y=this.getStack(),g=!y||y.members.length<=1,v=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(FO));this.animationProgress=0;let w;this.mixTargetDelta=x=>{const B=x/1e3;RB(c.x,a.x,B),RB(c.y,a.y,B),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Js(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EO(this.relativeTarget,this.relativeTargetOrigin,d,B),w&&oO(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=yt()),er(w,this.relativeTarget)),p&&(this.animationValues=l,JH(l,u,this.latestValues,B,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Gc.hasAnimatedSinceResize=!0,this.currentAnimation=cO(0,TB,{...a,onUpdate:A=>{this.mixTargetDelta(A),a.onUpdate&&a.onUpdate(A)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:A,target:s,layout:u,latestValues:l}=a;if(!(!A||!s||!u)){if(this!==a&&this.layout&&u&&dS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){s=this.target||yt();const c=$n(this.layout.layoutBox.x);s.x.min=a.target.x.min,s.x.max=s.x.min+c;const d=$n(this.layout.layoutBox.y);s.y.min=a.target.y.min,s.y.max=s.y.min+d}er(A,s),fA(A,l),qs(this.projectionDeltaWithTransform,this.layoutCorrected,A,l)}}registerSharedNode(a,A){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iO),this.sharedNodes.get(a).add(A);const u=A.options.initialPromotionConfig;A.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(A):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:A}=this.options;return A?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:A}=this.options;return A?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:A,preserveFollowOpacity:s}={}){const u=this.getStack();u&&u.promote(this,s),a&&(this.projectionDelta=void 0,this.needsReset=!0),A&&this.setOptions({transition:A})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let A=!1;const{latestValues:s}=a;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(A=!0),!A)return;const u={};for(let l=0;l<QB.length;l++){const c="rotate"+QB[l];s[c]&&(u[c]=s[c],a.setStaticValue(c,0))}a.render();for(const l in u)a.setStaticValue(l,u[l]);a.scheduleRender()}getProjectionStyles(a){var A,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dO;const u={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Wc(a==null?void 0:a.pointerEvents)||"",u.transform=l?l(this.latestValues,""):"none",u;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Wc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=UB(this.projectionDeltaWithTransform,this.treeScale,d),l&&(u.transform=l(d,u.transform));const{x:f,y:h}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?u.opacity=c===this?(s=(A=d.opacity)!==null&&A!==void 0?A:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Sd){if(d[p]===void 0)continue;const{correct:y,applyTo:g}=Sd[p],v=u.transform==="none"?d[p]:y(d[p],c);if(g){const w=g.length;for(let x=0;x<w;x++)u[g[x]]=v}else u[p]=v}return this.options.layoutId&&(u.pointerEvents=c===this?Wc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var A;return(A=a.currentAnimation)===null||A===void 0?void 0:A.stop()}),this.root.nodes.forEach(kB),this.root.sharedNodes.clear()}}}function hO(e){e.updateLayout()}function pO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?nr(c=>{const d=a?n.measuredBox[c]:n.layoutBox[c],f=$n(d);d.min=r[c].min,d.max=d.min+f}):dS(i,n.layoutBox,r)&&nr(c=>{const d=a?n.measuredBox[c]:n.layoutBox[c],f=$n(r[c]);d.max=d.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+f)});const A=dA();qs(A,r,n.layoutBox);const s=dA();a?qs(s,e.applyTransform(o,!0),n.measuredBox):qs(s,r,n.layoutBox);const u=!uS(A);let l=!1;if(!e.resumeFrom){const c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:d,layout:f}=c;if(d&&f){const h=yt();Js(h,n.layoutBox,d.layoutBox);const p=yt();Js(p,r,f.layoutBox),lS(h,p)||(l=!0),c.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=h,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:s,layoutDelta:A,hasLayoutChanged:u,hasRelativeTargetChanged:l})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function gO(e){Xi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vO(e){e.clearSnapshot()}function kB(e){e.clearMeasurements()}function yO(e){e.isLayoutDirty=!1}function wO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _B(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xO(e){e.resolveTargetDelta()}function BO(e){e.calcProjection()}function CO(e){e.resetRotation()}function bO(e){e.removeLeadSnapshot()}function RB(e,t,n){e.translate=nt(t.translate,0,n),e.scale=nt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function DB(e,t,n,r){e.min=nt(t.min,n.min,r),e.max=nt(t.max,n.max,r)}function EO(e,t,n,r){DB(e.x,t.x,n.x,r),DB(e.y,t.y,n.y,r)}function FO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const IO={duration:.45,ease:[.4,0,.1,1]},NB=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),MB=NB("applewebkit/")&&!NB("chrome/")?Math.round:ct;function PB(e){e.min=MB(e.min),e.max=MB(e.max)}function SO(e){PB(e.x),PB(e.y)}function dS(e,t,n){return e==="position"||e==="preserve-aspect"&&!zm(SB(t),SB(n),.2)}const UO=cS({attachResizeListener:(e,t)=>So(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},fS=cS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mp.current){const e=new UO({});e.mount(window),e.setOptions({layoutScroll:!0}),Mp.current=e}return Mp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QO={pan:{Feature:GH},drag:{Feature:WH,ProjectionNode:fS,MeasureLayout:aS}},TO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kO(e){const t=TO.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function qm(e,t,n=1){const[r,o]=kO(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return XI(a)?parseFloat(a):a}else return Hm(o)?qm(o,t,n+1):o}function _O(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!Hm(i))return;const a=qm(i,r);a&&o.set(a)});for(const o in t){const i=t[o];if(!Hm(i))continue;const a=qm(i,r);a&&(t[o]=a,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const RO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hS=e=>RO.has(e),DO=e=>Object.keys(e).some(hS),LB=e=>e===ba||e===ge,HB=(e,t)=>parseFloat(e.split(", ")[t]),OB=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return HB(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?HB(i[1],e):0}},NO=new Set(["x","y","z"]),MO=Zu.filter(e=>!NO.has(e));function PO(e){const t=[];return MO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const jA={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:OB(4,13),y:OB(5,14)};jA.translateX=jA.x;jA.translateY=jA.y;const LO=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:a}=i,A={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{A[u]=jA[u](r,i)}),t.render();const s=t.measureViewportBox();return n.forEach(u=>{const l=t.getValue(u);l&&l.jump(A[u]),e[u]=jA[u](s,i)}),e},HO=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(hS);let i=[],a=!1;const A=[];if(o.forEach(s=>{const u=e.getValue(s);if(!e.hasValue(s))return;let l=n[s],c=gs(l);const d=t[s];let f;if(Qd(d)){const h=d.length,p=d[0]===null?1:0;l=d[p],c=gs(l);for(let y=p;y<h&&d[y]!==null;y++)f?Iy(gs(d[y])===f):f=gs(d[y])}else f=gs(d);if(c!==f)if(LB(c)&&LB(f)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof d=="string"?t[s]=parseFloat(d):Array.isArray(d)&&f===ge&&(t[s]=d.map(parseFloat))}else c!=null&&c.transform&&(f!=null&&f.transform)&&(l===0||d===0)?l===0?u.set(f.transform(l)):t[s]=c.transform(d):(a||(i=PO(e),a=!0),A.push(s),r[s]=r[s]!==void 0?r[s]:t[s],u.jump(d))}),A.length){const s=A.indexOf("height")>=0?window.pageYOffset:null,u=LO(t,e,A);return i.length&&i.forEach(([l,c])=>{e.getValue(l).set(c)}),e.render(),hh&&s!==null&&window.scrollTo({top:s}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function OO(e,t,n,r){return DO(t)?HO(e,t,n,r):{target:t,transitionEnd:r}}const jO=(e,t,n,r)=>{const o=_O(e,t,r);return t=o.target,r=o.transitionEnd,OO(e,t,n,r)},Jm={current:null},pS={current:!1};function VO(){if(pS.current=!0,!!hh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jm.current=e.matches;e.addListener(t),t()}else Jm.current=!1}function KO(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],a=n[o];if(Tn(i))e.addValue(o,i),Rd(r)&&r.add(o);else if(Tn(a))e.addValue(o,OA(i,{owner:e})),Rd(r)&&r.remove(o);else if(a!==i)if(e.hasValue(o)){const A=e.getValue(o);!A.hasAnimated&&A.set(i)}else{const A=e.getStaticValue(o);e.addValue(o,OA(A!==void 0?A:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const jB=new WeakMap,gS=Object.keys(Tu),WO=gS.length,VB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GO=vy.length;class zO{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ge.render(this.render,!1,!0);const{latestValues:A,renderState:s}=i;this.latestValues=A,this.baseTarget={...A},this.initialValues=n.initial?{...A}:{},this.renderState=s,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.isControllingVariants=gh(n),this.isVariantNode=eI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...l}=this.scrapeMotionValuesFromProps(n,{});for(const c in l){const d=l[c];A[c]!==void 0&&Tn(d)&&(d.set(A[c],!1),Rd(u)&&u.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,jB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pS.current||VO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jB.delete(this.current),this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ca.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let a,A;for(let s=0;s<WO;s++){const u=gS[s],{isEnabled:l,Feature:c,ProjectionNode:d,MeasureLayout:f}=Tu[u];d&&(a=d),l(n)&&(!this.features[u]&&c&&(this.features[u]=new c(this)),f&&(A=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:s,layout:u,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:s,layout:u,alwaysMeasureLayout:!!l||c&&lA(c),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}return A}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VB.length;r++){const o=VB[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=KO(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<GO;r++){const o=vy[r],i=this.props[o];(Qu(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=OA(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Fy(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Tn(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ny),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class mS extends zO{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let a=lH(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),a&&(a=o(a))),i){sH(this,r,a);const A=jO(this,r,a,n);n=A.transitionEnd,r=A.target}return{transition:t,transitionEnd:n,...r}}}function $O(e){return window.getComputedStyle(e)}class XO extends mS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ca.has(n)){const r=Ty(n);return r&&r.default||0}else{const r=$O(t),o=(oI(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oS(t,n)}build(t,n,r,o){xy(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ey(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){lI(t,n,r,o)}}class YO extends mS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ca.has(n)){const r=Ty(n);return r&&r.default||0}return n=cI.has(n)?n:gy(n),t.getAttribute(n)}measureInstanceViewportBox(){return yt()}scrapeMotionValuesFromProps(t,n){return fI(t,n)}build(t,n,r,o){Cy(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){dI(t,n,r,o)}mount(t){this.isSVGTag=by(t.tagName),super.mount(t)}}const qO=(e,t)=>wy(e)?new YO(t,{enableHardwareAcceleration:!1}):new XO(t,{enableHardwareAcceleration:!0}),JO={layout:{ProjectionNode:fS,MeasureLayout:aS}},ZO={...EH,...WP,...QO,...JO},Z=eP((e,t)=>kP(e,t,ZO,qO));function vS(){const e=k.useRef(!1);return py(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function e5(){const e=vS(),[t,n]=k.useState(0),r=k.useCallback(()=>{e.current&&n(t+1)},[t]);return[k.useCallback(()=>Ge.postRender(r),[r]),t]}class t5 extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n5({children:e,isPresent:t}){const n=k.useId(),r=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:i,height:a,top:A,left:s}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${A}px !important;
            left: ${s}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),k.createElement(t5,{isPresent:t,childRef:r,sizeRef:o},k.cloneElement(e,{ref:r}))}const Pp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:a})=>{const A=hI(r5),s=k.useId(),u=k.useMemo(()=>({id:s,initial:t,isPresent:n,custom:o,onExitComplete:l=>{A.set(l,!0);for(const c of A.values())if(!c)return;r&&r()},register:l=>(A.set(l,!1),()=>A.delete(l))}),i?void 0:[n]);return k.useMemo(()=>{A.forEach((l,c)=>A.set(c,!1))},[n]),k.useEffect(()=>{!n&&!A.size&&r&&r()},[n]),a==="popLayout"&&(e=k.createElement(n5,{isPresent:n},e)),k.createElement(fh.Provider,{value:u},e)};function r5(){return new Map}function o5(e){return k.useEffect(()=>()=>e(),[])}const Yi=e=>e.key||"";function i5(e,t){e.forEach(n=>{const r=Yi(n);t.set(r,n)})}function a5(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const CA=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const A=k.useContext(yy).forceRender||e5()[0],s=vS(),u=a5(e);let l=u;const c=k.useRef(new Map).current,d=k.useRef(l),f=k.useRef(new Map).current,h=k.useRef(!0);if(py(()=>{h.current=!1,i5(u,f),d.current=l}),o5(()=>{h.current=!0,f.clear(),c.clear()}),h.current)return k.createElement(k.Fragment,null,l.map(v=>k.createElement(Pp,{key:Yi(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},v)));l=[...l];const p=d.current.map(Yi),y=u.map(Yi),g=p.length;for(let v=0;v<g;v++){const w=p[v];y.indexOf(w)===-1&&!c.has(w)&&c.set(w,void 0)}return a==="wait"&&c.size&&(l=[]),c.forEach((v,w)=>{if(y.indexOf(w)!==-1)return;const x=f.get(w);if(!x)return;const B=p.indexOf(w);let C=v;if(!C){const b=()=>{c.delete(w);const E=Array.from(f.keys()).filter(F=>!y.includes(F));if(E.forEach(F=>f.delete(F)),d.current=u.filter(F=>{const I=Yi(F);return I===w||E.includes(I)}),!c.size){if(s.current===!1)return;A(),r&&r()}};C=k.createElement(Pp,{key:Yi(x),isPresent:!1,onExitComplete:b,custom:t,presenceAffectsLayout:i,mode:a},x),c.set(w,C)}l.splice(B,0,C)}),l=l.map(v=>{const w=v.key;return c.has(w)?v:k.createElement(Pp,{key:Yi(v),isPresent:!0,presenceAffectsLayout:i,mode:a},v)}),k.createElement(k.Fragment,null,c.size?l:l.map(v=>k.cloneElement(v)))},A5=({text:e,label:t,className:n=""})=>{const[r,o]=k.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(a){console.error("Failed to copy text:",a)}};return m.jsxs("button",{onClick:i,className:`inline-flex items-center gap-2 px-3 py-1 rounded-md 
        bg-gray-100 hover:bg-gray-200 
        dark:bg-gray-700 dark:hover:bg-gray-600 
        transition-colors ${n}`,children:[m.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t||e}),r?m.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):m.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})]})},yS=k.createContext(void 0),s5=({children:e})=>{const[t,n]=k.useState(()=>{const o=localStorage.getItem("theme");return o?o==="dark":!0});k.useEffect(()=>{const o=document.documentElement;t?(o.classList.remove("light"),o.classList.add("dark")):(o.classList.remove("dark"),o.classList.add("light")),localStorage.setItem("theme",t?"dark":"light")},[t]);const r=()=>n(!t);return m.jsx(yS.Provider,{value:{isDark:t,toggleTheme:r},children:e})},wS=()=>{const e=k.useContext(yS);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},u5=({checked:e,onChange:t})=>m.jsx("button",{onClick:t,className:`
        relative w-12 h-7 rounded-full p-1 transition-colors duration-200
        ${e?"bg-primary":"bg-[#FFD700]"}
      `,"aria-label":"Toggle theme",children:m.jsx(Z.div,{initial:!1,animate:{x:e?"20px":"0px"},transition:{type:"spring",stiffness:500,damping:30},className:"w-5 h-5 rounded-full bg-white shadow-sm"})}),xS=()=>{const{isDark:e,toggleTheme:t}=wS();return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsx(Z.svg,{className:"w-4 h-4 text-muted-foreground",fill:"currentColor",viewBox:"0 0 20 20",initial:{rotate:0},animate:{rotate:e?360:0},transition:{duration:.5,ease:"easeInOut"},children:m.jsx("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"})}),m.jsx(u5,{checked:e,onChange:t}),m.jsx(Z.svg,{className:"w-4 h-4 text-muted-foreground",fill:"currentColor",viewBox:"0 0 20 20",initial:{rotate:0},animate:{rotate:e?0:-360},transition:{duration:.5,ease:"easeInOut"},children:m.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})]}),m.jsx("button",{onClick:t,className:"md:hidden p-2 rounded-lg text-muted-foreground hover:text-foreground transition-colors","aria-label":"Toggle theme",children:m.jsx(Z.div,{initial:{rotate:0},animate:{rotate:e?180:0},transition:{duration:.5},children:e?m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"})})})})]})},BS=k.createContext(void 0),Kl="selectedProfile",l5=({children:e})=>{const[t,n]=k.useState(()=>{const o=localStorage.getItem(Kl);return o?JSON.parse(o):null});k.useEffect(()=>{t?localStorage.setItem(Kl,JSON.stringify(t)):localStorage.removeItem(Kl)},[t]);const r=()=>{n(null),localStorage.removeItem(Kl)};return k.useEffect(()=>{let o=null;const i=a=>{a.preventDefault(),o&&document.body.contains(o)&&document.body.removeChild(o);const A=document.createElement("div");o=A,A.className="fixed bg-white dark:bg-card border border-border rounded-lg shadow-lg py-1 z-[100]";const s=window.innerWidth,u=window.innerHeight;let l=a.clientX,c=a.clientY+window.scrollY;document.body.appendChild(A);const d=A.offsetWidth,f=A.offsetHeight;l+d>s&&(l=s-d-10),c+f>window.scrollY+u&&(c=window.scrollY+u-f-10),A.style.left=`${l}px`,A.style.top=`${c}px`;const h=document.createElement("button");h.className="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",h.textContent="Reset Profile",h.onclick=()=>{r(),document.body.contains(A)&&document.body.removeChild(A)},A.appendChild(h);const p=y=>{A.contains(y.target)||(document.body.contains(A)&&document.body.removeChild(A),document.removeEventListener("click",p))};setTimeout(()=>{document.addEventListener("click",p)})};return document.addEventListener("contextmenu",i),()=>{document.removeEventListener("contextmenu",i),o&&document.body.contains(o)&&document.body.removeChild(o)}},[]),m.jsx(BS.Provider,{value:{currentProfile:t,setCurrentProfile:n,resetProfile:r},children:e})},Pr=()=>{const e=k.useContext(BS);if(!e)throw new Error("useProfile must be used within a ProfileProvider");return e},c5=[{id:"1",name:"Happy",color:"#D97706",emoji:""},{id:"2",name:"Sad",color:"#3B82F6",emoji:""},{id:"3",name:"Angry",color:"#EF4444",emoji:""},{id:"4",name:"Fearful",color:"#8B5CF6",emoji:""},{id:"5",name:"Disgusted",color:"#10B981",emoji:""},{id:"6",name:"Surprised",color:"#EC4899",emoji:""}],d5=()=>{const{currentProfile:e,setCurrentProfile:t}=Pr(),[n,r]=k.useState(!1);return m.jsx("header",{className:"bg-card/80 backdrop-blur-xl border-b border-border sticky top-0 z-50",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-0",children:[m.jsx("img",{src:"./Untitled-1.png",alt:"Pelios Logo",className:"w-10 h-10 md:w-14 md:h-14 object-contain"}),m.jsx("div",{className:"flex items-end -ml-2",children:m.jsxs("h1",{className:"text-2xl md:text-4xl font-black tracking-normal bg-gradient-to-r from-[#4F46E5] to-[#7C3AED] bg-clip-text text-transparent font-display",children:["PELIOS",m.jsx("span",{className:"text-xs font-medium text-blue-400 ml-1 mb-1",children:"Beta"})]})})]}),m.jsxs("div",{className:"flex items-center space-x-2 md:space-x-6",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[m.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Contract:"}),m.jsx(A5,{text:"Updating..."})]}),m.jsx("div",{className:"border border-border rounded-lg",children:m.jsx("a",{href:"https://x.com/peliosgg",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-muted-foreground hover:text-foreground transition-colors block","aria-label":"Follow on X (Twitter)",children:m.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})}),m.jsx(xS,{}),e&&m.jsxs("div",{className:"relative",children:[m.jsxs(Z.button,{onClick:()=>r(!n),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-white/5 transition-colors relative",style:{color:e.color},whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(Z.div,{className:"absolute inset-0 rounded-lg",style:{border:`1px solid ${e.color}40`,backgroundColor:`${e.color}10`},layoutId:"profileBox"}),m.jsx("span",{className:"relative z-10 text-2xl",children:e.emoji}),m.jsx("span",{className:"relative z-10 font-medium hidden md:block",children:e.name}),m.jsx("svg",{className:`relative z-10 w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx(CA,{children:n&&m.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-56 bg-white/80 dark:bg-card/80 backdrop-blur-xl border border-border rounded-lg shadow-lg overflow-hidden",children:m.jsxs("div",{className:"py-2",children:[c5.map(o=>m.jsxs(Z.button,{onClick:()=>{t(o),r(!1)},className:"w-full px-4 py-2 flex items-center gap-3 hover:bg-white/5 transition-colors",whileHover:{x:4},children:[m.jsx("span",{className:"text-2xl",children:o.emoji}),m.jsx("span",{className:"font-medium",style:{color:o.color},children:o.name})]},o.id)),m.jsx("div",{className:"h-px bg-border my-2"}),m.jsxs(Z.button,{onClick:()=>{t(null),r(!1)},className:"w-full px-4 py-2 flex items-center gap-3 hover:bg-white/5 transition-colors text-red-400",whileHover:{x:4},children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),m.jsx("span",{className:"font-medium",children:"Reset Profile"})]})]})})})]})]})]})})})};var CS={exports:{}};(function(e,t){(function(r,o){e.exports=o(k)})(sT,function(n){return function(r){var o={};function i(a){if(o[a])return o[a].exports;var A=o[a]={i:a,l:!1,exports:{}};return r[a].call(A.exports,A,A.exports,i),A.l=!0,A.exports}return i.m=r,i.c=o,i.d=function(a,A,s){i.o(a,A)||Object.defineProperty(a,A,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,A){if(A&1&&(a=i(a)),A&8||A&4&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),A&2&&typeof a!="string")for(var u in a)i.d(s,u,(function(l){return a[l]}).bind(null,u));return s},i.n=function(a){var A=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(A,"a",A),A},i.o=function(a,A){return Object.prototype.hasOwnProperty.call(a,A)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,o,i){i.r(o);var a=i("react"),A=function(){var d=function(f,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var g in y)y.hasOwnProperty(g)&&(p[g]=y[g])},d(f,h)};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),s=function(){return s=Object.assign||function(d){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},s.apply(this,arguments)},u=function(d,f){var h={};for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&f.indexOf(p)<0&&(h[p]=d[p]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(d);y<p.length;y++)f.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(d,p[y])&&(h[p[y]]=d[p[y]]);return h};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return h?new Promise(function(p,y){h.call(navigator,f,p,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function l(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var c=function(d){A(f,d);function f(h){var p=d.call(this,h)||this;return p.canvas=null,p.ctx=null,p.requestUserMediaId=0,p.unmounted=!1,p.state={hasUserMedia:!1},p}return f.prototype.componentDidMount=function(){var h=this,p=h.state,y=h.props;if(this.unmounted=!1,!l()){y.onUserMediaError("getUserMedia not supported");return}p.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},f.prototype.componentDidUpdate=function(h){var p=this.props;if(!l()){p.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(h.audioConstraints)!==JSON.stringify(p.audioConstraints),g=JSON.stringify(h.videoConstraints)!==JSON.stringify(p.videoConstraints),v=h.minScreenshotWidth!==p.minScreenshotWidth,w=h.minScreenshotHeight!==p.minScreenshotHeight;(g||v||w)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},f.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},f.stopMediaStream=function(h){h&&(h.getVideoTracks&&h.getAudioTracks?(h.getVideoTracks().map(function(p){h.removeTrack(p),p.stop()}),h.getAudioTracks().map(function(p){h.removeTrack(p),p.stop()})):h.stop())},f.prototype.stopAndCleanup=function(){var h=this.state;h.hasUserMedia&&(f.stopMediaStream(this.stream),h.src&&window.URL.revokeObjectURL(h.src))},f.prototype.getScreenshot=function(h){var p=this,y=p.state,g=p.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(h);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},f.prototype.getCanvas=function(h){var p=this,y=p.state,g=p.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var x=v/w;v=g.minScreenshotWidth||this.video.clientWidth,w=v/x,g.minScreenshotHeight&&w<g.minScreenshotHeight&&(w=g.minScreenshotHeight,v=w*x)}this.canvas=document.createElement("canvas"),this.canvas.width=(h==null?void 0:h.width)||v,this.canvas.height=(h==null?void 0:h.height)||w,this.ctx=this.canvas.getContext("2d")}var B=this,C=B.ctx,b=B.canvas;return C&&b&&(b.width=(h==null?void 0:h.width)||b.width,b.height=(h==null?void 0:h.height)||b.height,g.mirrored&&(C.translate(b.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=g.imageSmoothing,C.drawImage(this.video,0,0,(h==null?void 0:h.width)||b.width,(h==null?void 0:h.height)||b.height),g.mirrored&&(C.scale(-1,1),C.translate(-b.width,0))),b},f.prototype.requestUserMedia=function(){var h=this,p=this.props,y=function(w,x){var B={video:typeof x<"u"?x:!0};p.audio&&(B.audio=typeof w<"u"?w:!0),h.requestUserMediaId++;var C=h.requestUserMediaId;navigator.mediaDevices.getUserMedia(B).then(function(b){h.unmounted||C!==h.requestUserMediaId?f.stopMediaStream(b):h.handleUserMedia(null,b)}).catch(function(b){h.handleUserMedia(b)})};if("mediaDevices"in navigator)y(p.audioConstraints,p.videoConstraints);else{var g=function(w){return{optional:[{sourceId:w}]}},v=function(w){var x=w.deviceId;return typeof x=="string"?x:Array.isArray(x)&&x.length>0?x[0]:typeof x=="object"&&x.ideal?x.ideal:null};MediaStreamTrack.getSources(function(w){var x=null,B=null;w.forEach(function(E){E.kind==="audio"?x=E.id:E.kind==="video"&&(B=E.id)});var C=v(p.audioConstraints);C&&(x=C);var b=v(p.videoConstraints);b&&(B=b),y(g(x),g(B))})}},f.prototype.handleUserMedia=function(h,p){var y=this.props;if(h||!p){this.setState({hasUserMedia:!1}),y.onUserMediaError(h);return}this.stream=p;try{this.video&&(this.video.srcObject=p),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(p)})}y.onUserMedia(p)},f.prototype.render=function(){var h=this,p=this,y=p.state,g=p.props,v=g.audio;g.forceScreenshotSourceSize;var w=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var x=g.mirrored,B=g.style,C=B===void 0?{}:B,b=g.children,E=u(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=x?s(s({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,I={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",s({autoPlay:!0,disablePictureInPicture:w,src:y.src,muted:!v,playsInline:!0,ref:function(T){h.video=T},style:F},E)),b&&b(I))},f.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},f}(a.Component);o.default=c},react:function(r,o){r.exports=n}}).default})})(CS);var f5=CS.exports;const h5=Wb(f5);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var bS=function(e,t){return(bS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(e,t)};function Lr(e,t){function n(){this.constructor=e}bS(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ae(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(u){try{s(r.next(u))}catch(l){i(l)}}function A(u){try{s(r.throw(u))}catch(l){i(l)}}function s(u){u.done?o(u.value):new n(function(l){l(u.value)}).then(a,A)}s((r=r.apply(e,t||[])).next())})}function Ae(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function A(s){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){a=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(l[0]===6&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(c){l=[6,c],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([s,u])}}}var p5=function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},e.prototype.registerFlag=function(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){var o=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+o+"."),this.set(t,o)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,o=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var a=[],A=1;A<arguments.length;A++)a[A-1]=arguments[A];return g5(r,a[0],a[1]),a.join("=")}),r);"tfjsflags"in o&&o.tfjsflags.split(",").forEach(function(i){var a=i.split(":"),A=a[0],s=a[1];t.urlFlags[A]=function(u,l){if((l=l.toLowerCase())==="true"||l==="false")return l==="true";if(""+ +l===l)return+l;throw new Error("Could not parse value flag value "+l+" for flag "+u+".")}(A,s)})}},e}();function g5(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function G(){return ES}var ES=null,Nd=new Map,Zm=new Map;function FS(e,t){var n=SS(e,t);return Nd.get(n)}function m5(e){return Zm.get(e)}function KB(e){for(var t=Nd.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],A=i[1];a.split("_")[0]===e&&n.push(A)}return n}function IS(e){var t=e.kernelName,n=e.backendName,r=SS(t,n);if(Nd.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");Nd.set(r,e)}function v5(e){var t=e.kernelName;Zm.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Zm.set(t,e)}function SS(e,t){return t+"_"+e}function ev(e,t,n){return Math.max(e,Math.min(t,n))}function US(e){return e%2==0?e:e+1}function y5(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function U(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Ne(e,t,n){n===void 0&&(n=""),U(Mt(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function ns(e){U(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function VA(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=!1),t==null&&(t=[]),Array.isArray(e)||Ao(e)&&!n)for(var r=0;r<e.length;++r)VA(e[r],t,n);else t.push(e);return t}function ue(e){if(e.length===0)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Mt(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dt(e){return e%1==0}function w5(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function tv(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function bA(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function WB(e,t,n){return t===void 0&&(t=function(r){return 0}),new Promise(function(r,o){var i=0,a=function(){if(e())r();else{i++;var A=t(i);n!=null&&i>=n?o():setTimeout(a,A)}};a()})}function x5(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(e[o]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(n===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function kt(e,t){var n=t.length;return U((e=e==null?t.map(function(r,o){return o}):[].concat(e)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),U(e.every(function(r){return dt(r)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(r){return r<0?n+r:r})}function Zi(e,t){for(var n=[],r=[],o=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||o?null:kt(t,e).sort(),a=0,A=0;A<e.length;++A){if(i!=null){if(i[a]===A&&e[A]!==1)throw new Error("Can't squeeze axis "+A+" since its dim '"+e[A]+"' is not 1");(i[a]==null||i[a]>A)&&e[A]===1&&(n.push(e[A]),r.push(A)),i[a]<=A&&a++}e[A]!==1&&(n.push(e[A]),r.push(A))}return{newShape:n,keptDims:r}}function _u(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function Md(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);n=new Array(t)}return n}function B5(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function C5(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function b5(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function Ao(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function QS(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function E5(e){if(e==null)return 0;var t=0;return e.forEach(function(n){return t+=n.length}),t}function My(e){return typeof e=="string"||e instanceof String}function F5(e){return typeof e=="boolean"}function I5(e){return typeof e=="number"}function rl(e){return Array.isArray(e)?rl(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":I5(e)?"float32":My(e)?"string":F5(e)?"bool":"float32"}function nv(e){return!!(e&&e.constructor&&e.call&&e.apply)}function rv(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function so(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function TS(e,t,n){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=VA(e)),n&&B5(e,t),function(i,a){return i instanceof Float32Array&&a==="float32"||i instanceof Int32Array&&a==="int32"||i instanceof Uint8Array&&a==="bool"}(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)Math.round(e[o])!==0&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function GB(e,t){if(e.length===0)return t[0];var n=e.reduce(function(r,o){return r*o});if(n===0)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function r(o,i,a){var A=new Array;if(i.length===1)for(var s=i[0],u=0;u<s;u++)A[u]=a[o+u];else{s=i[0];var l=i.slice(1),c=l.reduce(function(d,f){return d*f});for(u=0;u<s;u++)A[u]=r(o+u*c,l,a)}return A}(0,e,t)}function kS(e,t){for(var n=ol(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ol(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function qr(){return G().platform.now()}function _S(e){e.forEach(function(t){U(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function S5(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",G().platform.encode(e,t)}function Pd(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",G().platform.decode(e,t)}function zB(e,t,n){if(t===0)return 0;if(t===1)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function U5(e,t,n){if(t===0)return[];if(t===1)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}var Q5=function(){function e(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new T5)}return e.prototype.profileKernel=function(t,n,r){var o,i=this,a=this.backendTimer.time(function(){o=r()});return o.forEach(function(A){A.data().then(function(s){(function(u,l,c){if(l!=="float32")return!1;for(var d=0;d<u.length;d++){var f=u[d];if(isNaN(f)||!isFinite(f))return console.warn("Found "+f+" in the result of '"+c+"'"),!0}})(s,A.dtype,t),a.then(function(u){var l="";u.getExtraProfileInfo!=null&&(l=u.getExtraProfileInfo()),i.logger.logKernelProfile(t,A,s,u.kernelMs,n,l)})})}),o},e}(),T5=function(){function e(){}return e.prototype.logKernelProfile=function(t,n,r,o,i,a){var A=typeof o=="number"?bA(o+"ms",9):o.error,s=bA(t,25),u=n.rank,l=n.size,c=bA(n.shape.toString(),14),d="";for(var f in i){var h=i[f].shape||n.shape,p=h.length;d+=f+": "+p+"D "+(p>0?h:"")+" "}console.log("%c"+s+"	%c"+A+"	%c"+u+"D "+c+"	%c"+l+"	%c"+d+"	%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),$B=20,vs=3,Lp=7;function k5(e,t,n,r){var o=so(t),i=function(u,l,c,d){var f=ue(l),h=d[d.length-1],p=new Array(h).fill(0),y=l.length,g=c==="complex64"?ws(u):u;if(y>1)for(var v=0;v<f/h;v++)for(var w=v*h,x=0;x<h;x++)p[x]=Math.max(p[x],ys(g[w+x],0,c).length);return p}(e,t,n,o),a=t.length,A=function u(l,c,d,f,h,p){p===void 0&&(p=!0);var y=d==="complex64"?2:1,g=c[0],v=c.length;if(v===0)return d==="complex64"?[ys(ws(l)[0],0,d)]:d==="bool"?[RS(l[0])]:[l[0].toString()];if(v===1){if(g>$B){var w=vs*y,x=Array.from(l.slice(0,w)),B=Array.from(l.slice((g-vs)*y,g*y));return d==="complex64"&&(x=ws(x),B=ws(B)),["["+x.map(function(O,L){return ys(O,h[L],d)}).join(", ")+", ..., "+B.map(function(O,L){return ys(O,h[g-vs+L],d)}).join(", ")+"]"]}return["["+(d==="complex64"?ws(l):Array.from(l)).map(function(O,L){return ys(O,h[L],d)}).join(", ")+"]"]}var C=c.slice(1),b=f.slice(1),E=f[0]*y,F=[];if(g>$B){for(var I=0;I<vs;I++){var T=(Q=I*E)+E;F.push.apply(F,u(l.slice(Q,T),C,d,b,h,!1))}for(F.push("..."),I=g-vs;I<g;I++)T=(Q=I*E)+E,F.push.apply(F,u(l.slice(Q,T),C,d,b,h,I===g-1))}else for(I=0;I<g;I++){var Q;T=(Q=I*E)+E,F.push.apply(F,u(l.slice(Q,T),C,d,b,h,I===g-1))}var N=v===2?",":"";for(F[0]="["+F[0]+N,I=1;I<F.length-1;I++)F[I]=" "+F[I]+N;var M=`,
`;for(I=2;I<v;I++)M+=`
`;return F[F.length-1]=" "+F[F.length-1]+"]"+(p?"":M),F}(e,t,n,o,i),s=["Tensor"];return r&&(s.push("  dtype: "+n),s.push("  rank: "+a),s.push("  shape: ["+t+"]"),s.push("  values:")),s.push(A.map(function(u){return"    "+u}).join(`
`)),s.join(`
`)}function ys(e,t,n){return bA(Array.isArray(e)?parseFloat(e[0].toFixed(Lp))+" + "+parseFloat(e[1].toFixed(Lp))+"j":My(e)?"'"+e+"'":n==="bool"?RS(e):parseFloat(e.toFixed(Lp)).toString(),t)}function RS(e){return e===0?"false":"true"}function ws(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Ru=function(){function e(t,n,r){var o=this;if(this.dtype=n,this.shape=t.slice(),this.size=ue(t),r!=null){var i=r.length;U(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+o.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Md(n,this.size),this.strides=so(t)}return e.prototype.set=function(t){for(var n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.length===0&&(r=[0]),U(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var i=this.locToIndex(r);this.values[i]=t},e.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.length===0&&(t=[0]);for(var r=0,o=0,i=t;o<i.length;o++){var a=i[o];if(a<0||a>=this.shape[r]){var A="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(A)}r++}for(var s=t[t.length-1],u=0;u<t.length-1;++u)s+=this.strides[u]*t[u];return this.values[s]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Zr().makeTensor(this.values,this.shape,this.dtype)},e}(),Zr=null,K=null,DS=null,tt=function(){function e(t,n,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ue(t),this.strides=so(t),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),U(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,n){return this.throwIfDisposed(),this.reshape([t,n])},e.prototype.as3D=function(t,n,r){return this.throwIfDisposed(),this.reshape([t,n,r])},e.prototype.as4D=function(t,n,r,o){return this.throwIfDisposed(),this.reshape([t,n,r,o])},e.prototype.as5D=function(t,n,r,o,i){return this.throwIfDisposed(),this.reshape([t,n,r,o,i])},e.prototype.asType=function(t){return this.throwIfDisposed(),K.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return ae(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,K.buffer(this.shape,this.dtype,t)]}})})},e.prototype.bufferSync=function(){return K.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return ae(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,GB(this.shape,t)]}})})},e.prototype.arraySync=function(){return GB(this.shape,this.dataSync())},e.prototype.data=function(){return ae(this,void 0,void 0,function(){var t,n;return Ae(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),t=Zr().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:n=r.sent();try{return[2,n.map(function(o){return Pd(o)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,t]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var t=Zr().readSync(this.dataId);if(this.dtype==="string")try{return t.map(function(n){return Pd(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return ae(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Zr().read(this.dataId)];case 1:return t=n.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(Zr().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),K.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),K.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),K.expandDims(this,t)},e.prototype.cumsum=function(t,n,r){return t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1),K.cumsum(this,t,n,r)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),K.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),K.clone(this)},e.prototype.oneHot=function(t,n,r){return this.throwIfDisposed(),K.oneHot(this,t,n,r)},e.prototype.toString=function(t){return t===void 0&&(t=!1),k5(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),K.tile(this,t)},e.prototype.gather=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),K.gather(this,t,n)},e.prototype.matMul=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),K.matMul(this,t,n,r)},e.prototype.dot=function(t){return this.throwIfDisposed(),K.dot(this,t)},e.prototype.norm=function(t,n,r){return t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),K.norm(this,t,n,r)},e.prototype.slice=function(t,n){return this.throwIfDisposed(),K.slice(this,t,n)},e.prototype.reverse=function(t){return this.throwIfDisposed(),K.reverse(this,t)},e.prototype.concat=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),K.concat([this].concat(t),n)},e.prototype.split=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),K.split(this,t,n)},e.prototype.stack=function(t,n){return n===void 0&&(n=0),K.stack([this,t],n)},e.prototype.unstack=function(t){return t===void 0&&(t=0),K.unstack(this,t)},e.prototype.pad=function(t,n){return n===void 0&&(n=0),K.pad(this,t,n)},e.prototype.batchNormalization=function(t,n,r,o,i){return r===void 0&&(r=.001),DS("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,n,i,o,r)},e.prototype.batchNorm=function(t,n,r,o,i){return i===void 0&&(i=.001),this.throwIfDisposed(),K.batchNorm(this,t,n,r,o,i)},e.prototype.all=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.all(this,t,n)},e.prototype.any=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.any(this,t,n)},e.prototype.logSumExp=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.logSumExp(this,t,n)},e.prototype.sum=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.sum(this,t,n)},e.prototype.prod=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.prod(this,t,n)},e.prototype.mean=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.mean(this,t,n)},e.prototype.min=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.min(this,t,n)},e.prototype.max=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),K.max(this,t,n)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),K.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),K.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),K.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),K.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),K.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),K.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),K.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),K.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),K.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),K.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),K.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),K.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),K.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),K.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),K.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),K.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),K.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),K.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),K.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),K.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),K.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),K.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),K.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),K.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),K.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),K.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),K.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),K.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),K.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),K.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),K.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),K.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),K.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),K.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),K.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),K.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),K.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),K.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),K.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),K.logicalXor(this,t)},e.prototype.where=function(t,n){return this.throwIfDisposed(),K.where(t,this,n)},e.prototype.neg=function(){return this.throwIfDisposed(),K.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),K.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),K.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),K.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),K.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),K.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),K.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),K.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),K.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),K.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),K.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),K.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),K.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),K.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),K.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),K.abs(this)},e.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),K.clipByValue(this,t,n)},e.prototype.relu=function(){return this.throwIfDisposed(),K.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),K.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),K.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),K.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),K.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),K.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),K.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),K.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),K.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),K.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),K.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),K.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),K.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),K.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),K.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),K.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),K.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),K.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),K.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),K.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),K.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),K.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),K.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),K.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),K.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),K.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),K.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),K.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),K.image.resizeBilinear(this,t,n)},e.prototype.resizeNearestNeighbor=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),K.image.resizeNearestNeighbor(this,t,n)},e.prototype.conv1d=function(t,n,r,o,i,a){return o===void 0&&(o="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),K.conv1d(this,t,n,r,o,i,a)},e.prototype.conv2d=function(t,n,r,o,i,a){return o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),K.conv2d(this,t,n,r,o,i,a)},e.prototype.conv2dTranspose=function(t,n,r,o,i){return this.throwIfDisposed(),K.conv2dTranspose(this,t,n,r,o,i)},e.prototype.depthwiseConv2D=function(t,n,r,o,i,a){return o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),K.depthwiseConv2d(this,t,n,r,o,i,a)},e.prototype.separableConv2d=function(t,n,r,o,i,a){return i===void 0&&(i=[1,1]),a===void 0&&(a="NHWC"),this.throwIfDisposed(),K.separableConv2d(this,t,n,r,o,i,a)},e.prototype.avgPool=function(t,n,r,o){return this.throwIfDisposed(),K.avgPool(this,t,n,r,o)},e.prototype.maxPool=function(t,n,r,o){return this.throwIfDisposed(),K.maxPool(this,t,n,r,o)},e.prototype.localResponseNormalization=function(t,n,r,o){return t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5),K.localResponseNormalization(this,t,n,r,o)},e.prototype.pool=function(t,n,r,o,i){return this.throwIfDisposed(),K.pool(this,t,n,r,o,i)},e.prototype.variable=function(t,n,r){return t===void 0&&(t=!0),this.throwIfDisposed(),Zr().makeVariable(this,t,n,r)},e.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),K.unsortedSegmentSum(this,t,n)},e.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),K.batchToSpaceND(this,t,n)},e.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),K.spaceToBatchND(this,t,n)},e.prototype.topk=function(t,n){return t===void 0&&(t=1),n===void 0&&(n=!0),this.throwIfDisposed(),K.topk(this,t,n)},e.prototype.stridedSlice=function(t,n,r,o,i,a,A,s){return o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0),A===void 0&&(A=0),s===void 0&&(s=0),this.throwIfDisposed(),K.stridedSlice(this,t,n,r,o,i,a,A,s)},e.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),K.depthToSpace(this,t,n)},e.prototype.fft=function(){return this.throwIfDisposed(),K.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),K.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),K.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),K.spectral.irfft(this)},e}();Object.defineProperty(tt,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var XB,ov,iv,av,Av,KA=function(e){function t(n,r,o,i){var a=e.call(this,n.shape,n.dtype,n.dataId,i)||this;return a.trainable=r,a.name=o,a}return Lr(t,e),t.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Mt(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Zr().disposeTensor(this),this.dataId=n.dataId,Zr().incRef(this,null)},t.prototype.dispose=function(){Zr().disposeVariable(this),this.isDisposedInternal=!0},t}(tt);Object.defineProperty(KA,Symbol.hasInstance,{value:function(e){return e instanceof tt&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(XB||(XB={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ov||(ov={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(iv||(iv={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(av||(av={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Av||(Av={}));var _5={float32:av,int32:ov,bool:iv,complex64:Av};function Vt(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return _5[e][t]}function Hp(e){return Vt(e,"int32")}function at(e,t){if(e.dtype===t.dtype)return[e,t];var n=Vt(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function R5(e,t){U(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function NS(e){var t=[];return function n(r,o,i){if(r!=null){if(r instanceof tt)return void o.push(r);if(a=r,!(!Array.isArray(a)&&typeof a!="object")){var a,A=r;for(var s in A){var u=A[s];i.has(u)||(i.add(u),n(u,o,i))}}}}(e,t,new Set),t}var Op,YB=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e}(),D5=function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new YB}return e.prototype.ready=function(){return ae(this,void 0,void 0,function(){var t,n,r;return Ae(this,function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),n=0,o.label=1;case 1:return n<t.length?(r=t[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return o.sent()?[4,this.setBackend(r)]:[3,4];case 3:return o.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,n,r){return r===void 0&&(r=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:r},!0)},e.prototype.setBackend=function(t){return ae(this,void 0,void 0,function(){var n,r,o;return Ae(this,function(i){switch(i.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return o=i.sent(),[3,3];case 2:o=r,i.label=3;case 3:if(!o)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Q5(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var t=this;KB(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(t.backendInstance)})},e.prototype.disposeRegisteredKernels=function(t){var n=this;KB(t).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[t])})},e.prototype.initializeBackend=function(t){var n=this,r=this.registryFactory[t];if(r==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var o=r.factory();if(Promise.resolve(o)===o){var i=++this.pendingBackendInitId,a=o.then(function(A){return!(i<n.pendingBackendInitId)&&(n.registry[t]=A,n.pendingBackendInit=null,!0)}).catch(function(A){return!(i<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(A.stack||A.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[t]=o,{success:!0,asyncInit:!1}}catch(A){return console.warn("Initialization of backend "+t+" failed"),console.warn(A.stack||A.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return t.registryFactory[r].priority-t.registryFactory[n].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var r=t[n],o=this.initializeBackend(r),i=o.success,a=o.asyncInit;if(a||i)return{name:r,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,n){var r=this.state.tensorInfo.get(n),o=r.backend,i=this.readSync(n);o.disposeData(n),r.backend=t,t.move(n,i,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,n){var r,o=this,i=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return o.startScope(i)},function(){return o.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},e.prototype.scopedRun=function(t,n,r){t();try{var o=r();return n(),o}catch(i){throw n(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),r={x:t};return this.addTapeNode(this.state.activeScope.name,r,[n],function(o){return{x:function(){return o.toFloat()}}},[]),n},e.prototype.runKernel=function(t,n,r,o,i){return this.runKernelFunc(null,n,null,t,r,o,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,n,r){var o=this.backend.numDataIds(),i=0;r.forEach(function(s){i+=s.dtype==="complex64"?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],A=o-n-i-a;if(A>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+A+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,n,r,o,i,a,A){var s,u=this;a===void 0&&(a=[]),A===void 0&&(A=[]);var l=[],c=this.isTapeOn();o==null&&(o=this.state.activeScope!=null?this.state.activeScope.name:"");var d,f=function(v){c&&(l=v.map(function(w){return u.keep(u.clone(w))}))},h=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var y,g=FS(o,this.backendName);return d=g!=null?function(){var v=u.backend.numDataIds();y=g.kernelFunc({inputs:n,attrs:i,backend:u.backend});var w=Array.isArray(y)?y:[y];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(o,v,w);var x=w.map(function(C){var b=C.dataId,E=C.shape,F=C.dtype;return u.makeTensorFromDataId(b,E,F)}),B=x.filter(function(C,b){return A[b]});return f((a||[]).slice().concat(B)),x}:function(){var v=u.backend.numDataIds();y=u.tidy(function(){return t(u.backend,f)});var w=Array.isArray(y)?y:[y];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(o,v,w),w},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(o,n,function(){return d()}):d()}),c&&this.addTapeNode(o,n,s,r,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(v){return n[v].shape}),outputShapes:s.map(function(v){return v.shape})}),Array.isArray(y)?s:s[0]},e.prototype.makeTensor=function(t,n,r,o){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;var i=t;r==="string"&&My(t[0])&&(i=t.map(function(l){return S5(l)}));var a=o.write(i,n,r),A=new tt(n,r,a,this.nextTensorId());if(this.incRef(A,o),r==="string"){var s=this.state.tensorInfo.get(a),u=E5(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return A},e.prototype.makeTensorFromDataId=function(t,n,r,o){var i=new tt(n,r=r||"float32",t,this.nextTensorId());return this.incRef(i,o),i},e.prototype.makeVariable=function(t,n,r,o){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),o!=null&&o!==t.dtype&&(t=t.asType(o));var i=new KA(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(t,n){var r=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var o=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(o=t.size*QS(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:o,refCount:0}),this.state.numBytes+=o}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof KA||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return ae(this,void 0,void 0,function(){var n,r;return Ae(this,function(o){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,n,r,o,i){var a=this,A={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},s=m5(t);s!=null&&(o=s.gradFunc),o!=null&&(A.gradient=function(u){return u=u.map(function(l,c){if(l==null){var d=r[c],f=ol(d.size,d.dtype);return a.makeTensor(f,d.shape,d.dtype)}return l}),o(u.length>1?u:u[0],i)}),this.state.activeTape.push(A)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},e.prototype.endScope=function(t){for(var n=this,r=NS(t),o=new Set(r.map(function(s){return s.id})),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||o.has(a.id)||a.dispose()}var A=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(s){s.kept||s.scopeId!==A.id||n.track(s)})},e.prototype.gradients=function(t,n,r,o){var i=this;if(o===void 0&&(o=!1),U(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var a=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});U(a instanceof tt,function(){return"The result y returned by f() must be a tensor."});var A=function(s,u,l){for(var c={},d={},f=0;f<u.length;f++)c[u[f].id]=!0;for(f=0;f<s.length;f++){var h=(C=s[f]).inputs;for(var p in h){for(var y=h[p],g=!1,v=0;v<u.length;v++)if(c[y.id]){C.outputs.forEach(function(I){return c[I.id]=!0}),g=!0,d[C.id]=!0;break}if(g)break}}var w={};w[l.id]=!0;var x={};for(f=s.length-1;f>=0;f--)for(h=(C=s[f]).inputs,v=0;v<C.outputs.length;v++)if(w[C.outputs[v].id]){for(var p in h)w[h[p].id]=!0,x[C.id]=!0;break}var B=[];for(f=0;f<s.length;f++){var C;if(d[(C=s[f]).id]&&x[C.id]){var b={};for(var p in C.inputs){var E=C.inputs[p];c[E.id]&&(b[p]=E)}var F=Object.assign({},C);F.inputs=b,F.outputs=C.outputs,B.push(F)}}return B}(this.state.activeTape,n,a);if(!o&&A.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var s,u,l={};l[a.id]=r??(s=a.shape,u=kS(ue(s),"float32"),D.makeTensor(u,s,"float32")),function(d,f,h){for(var p=function(g){var v=f[g],w=[];if(v.outputs.forEach(function(b){var E=d[b.id];E!=null?w.push(E):w.push(null)}),v.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+v.kernelName+".");var x=v.gradient(w),B=function(b){if(!(b in x))throw new Error("Cannot backprop through input "+b+". Available gradients found: "+Object.keys(x)+".");var E=h(function(){return x[b]()});if(E.dtype!=="float32")throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input "+b+" must have 'float32' dtype, but has '"+E.dtype+"'");var F=v.inputs[b];if(!Mt(E.shape,F.shape))throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input '"+b+"' has shape '"+E.shape+"', which does not match the shape of the input '"+F.shape+"'");if(d[F.id]==null)d[F.id]=E;else{var I=d[F.id];d[F.id]=I.add(E),I.dispose()}};for(var C in v.inputs)B(C)},y=f.length-1;y>=0;y--)p(y)}(l,A,function(d){return i.tidy(d)});var c=n.map(function(d){return l[d.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(d){for(var f=0,h=d.saved;f<h.length;f++)h[f].dispose()}),i.state.activeTape=null),{value:a,grads:c}})},e.prototype.customGrad=function(t){var n=this;return U(nv(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];U(o.every(function(A){return A instanceof tt}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return o.forEach(function(A,s){a[s]=A}),n.runKernelFunc(function(A,s){return U((r=t.apply(void 0,o.concat([s]))).value instanceof tt,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),U(nv(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},a,function(A,s){var u=r.gradFunc(A,s),l=Array.isArray(u)?u:[u];U(l.length===o.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),U(l.every(function(d){return d instanceof tt}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var c={};return l.forEach(function(d,f){c[f]=function(){return d}}),c})}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return ae(this,void 0,void 0,function(){var n,r;return Ae(this,function(o){switch(o.label){case 0:return n=qr(),[4,this.backend.time(t)];case 1:return(r=o.sent()).wallMs=qr()-n,[2,r]}})})},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new YB,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),D=function(){var e=function(){if(Op==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}Op=n}return Op}();if(e._tfengine==null){var t=new p5(e);e._tfengine=new D5(t)}return function(n){ES=n}(e._tfengine.ENV),Zr=function(){return e._tfengine},e._tfengine}();function MS(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var yo=G();yo.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),yo.registerFlag("IS_BROWSER",function(){return MS()}),yo.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),yo.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),yo.registerFlag("PROD",function(){return!1}),yo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return yo.getBool("DEBUG")}),yo.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),yo.registerFlag("IS_TEST",function(){return!1});var Du,On,Pn,qi={},jp={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function N5(e,t){qi[e]=t}function co(e){e in qi||(qi[e]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(o){if(typeof OffscreenCanvas<"u"&&o===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(o){o.preventDefault(),delete qi[n]},!1),n===1?r.getContext("webgl",jp)||r.getContext("experimental-webgl",jp):r.getContext("webgl2",jp)}(e));var t=qi[e];return t.isContextLost()?(delete qi[e],co(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),qi[e])}function wh(e,t){return[t,e]}function Zs(e){var t=ue(e);return tv(Math.ceil(t/4))}function il(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Py(e,t){var n,r,o,i,a,A,s,u,l,c=e;return G().getNumber("WEBGL_VERSION")===2?(n=c.R32F,r=c.R16F,o=c.RGBA16F,i=c.RGBA32F,a=c.RED,A=4,s=1,u=c.HALF_FLOAT,l=c.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=c.RGBA,a=e.RGBA,A=4,s=4,u=t!=null?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:A,defaultNumChannels:s,textureTypeHalfFloat:u,textureTypeFloat:l}}function le(e,t,n){var r=n();return t&&function(o){var i=o.getError();if(i!==o.NO_ERROR)throw new Error("WebGL Error: "+H5(o,i))}(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(Du||(Du={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(On||(On={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Pn||(Pn={}));var M5=596e-10,P5=65504;function L5(e){return!!(G().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||M5<Math.abs(e)&&Math.abs(e)<P5)}function H5(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function Wl(e,t,n){return Oo(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function O5(e,t,n){var r=Oo(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(le(e,t,function(){return e.shaderSource(r,n)}),le(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function j5(e,t,n){var r=Oo(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(le(e,t,function(){return e.shaderSource(r,n)}),le(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw function(o,i){var a=V5.exec(i);if(a==null)return console.log("Couldn't parse line number in error: "+i),void console.log(o);for(var A=+a[1],s=o.split(`
`),u=s.length.toString().length+2,l=s.map(function(y,g){return bA((g+1).toString(),u)+y}),c=0,d=0;d<l.length;d++)c=Math.max(l[d].length,c);var f=l.slice(0,A-1),h=l.slice(A-1,A),p=l.slice(A);console.log(f.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+bA(h[0],c),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join(`
`))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Vp,Kp,V5=/ERROR: [0-9]+:([0-9]+):/g;function K5(e,t){return Oo(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function W5(e,t,n){if(le(e,t,function(){return e.linkProgram(n)}),e.getProgramParameter(n,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function Wp(e,t,n){if(le(e,t,function(){return e.validateProgram(n)}),e.getProgramParameter(n,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function G5(e,t,n){var r=Oo(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return le(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),le(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function z5(e,t,n){var r=Oo(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return le(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),le(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function $5(e,t){return Oo(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function X5(e,t){var n=G().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function Y5(e,t){return Oo(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function qB(e,t,n,r,o,i,a,A){var s=e.getAttribLocation(n,r);return s!==-1&&(le(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,o)}),le(e,t,function(){return e.vertexAttribPointer(s,i,e.FLOAT,!1,a,A)}),le(e,t,function(){return e.enableVertexAttribArray(s)}),!0)}function q5(e,t,n,r){nj(e,r),le(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function J5(e,t,n,r){return Oo(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function Z5(e,t,n){return e.getUniformLocation(t,n)}function ej(e,t,n,r,o,i){le(e,t,function(){return q5(e,t,r,i)}),le(e,t,function(){return e.uniform1i(o,i)})}function Gp(e,t,n,r){le(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),le(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function JB(e,t,n){le(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),le(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function Gl(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+tj(e,t))}function tj(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Oo(e,t,n,r){var o=le(e,t,function(){return n()});if(o==null)throw new Error(r);return o}function nj(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function Ld(e,t){return t===void 0&&(t=2),ue(e.slice(0,e.length-t))}function Hd(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function zp(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[Ld(e)].concat(Hd(e))),t}function rj(e,t){var n;t===void 0&&(t=!1);var r=G().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,(e=e.map(function(u,l){return l>=e.length-2?US(e[l]):e[l]})).length===1&&(e=[2,e[0]])),e.length!==2){var o=Zi(e);e=o.newShape}var i=ue(e);if(e.length<=1&&i<=r)return[1,i];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=Ld(e),A=2,s=2;return e.length&&(A=(n=Hd(e))[0],s=n[1]),tv(i=a*(A/2)*(s/2)).map(function(u){return 2*u})}return tv(i)}function zl(e){return e%2==0}function $l(e,t){if(Mt(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||zl(n)&&zl(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&zl(e[0])&&zl(t[0])}function oj(e){if(Vp==null){var t=co(e);Vp=t.getParameter(t.MAX_TEXTURE_SIZE)}return Vp}function ij(e){if(Kp==null){var t=co(e);Kp=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Kp)}function aj(e){if(e===0)return 0;var t=co(e);return hr(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:hr(t,"EXT_disjoint_timer_query")?1:0}function hr(e,t){return e.getExtension(t)!=null}function ZB(e){try{if(co(e)!=null)return!0}catch{return!1}return!1}function Aj(e){if(e===0)return!1;var t=co(e);if(e===1){if(!hr(t,"OES_texture_float"))return!1}else if(!hr(t,"EXT_color_buffer_float"))return!1;return sv(t)}function sj(e){if(e===0)return!1;var t=co(e);if(e!==1){if(hr(t,"EXT_color_buffer_float"))return sv(t);if(hr(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(r,o){var i=Py(r,o),a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var A=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,A),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0);var s=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(a),r.deleteFramebuffer(A),s}(t,n)}return!1}return!!hr(t,"OES_texture_float")&&!!hr(t,"WEBGL_color_buffer_float")&&sv(t)}function sv(e){var t=Py(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function uj(e){return e===2&&co(e).fenceSync!=null}var ve=G();function PS(e){G().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function ne(e,t){return D.tidy(e,t)}function Un(e){NS(e).forEach(function(t){return t.dispose()})}function lj(e){return D.keep(e)}function Od(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];G().getBool("IS_TEST")||console.warn.apply(console,e)}function Hi(e,t){var n=e;if(Ao(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Ao(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&G().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function o(i,a,A){if(A=A||[],!Array.isArray(i)&&!Ao(i))return void U(a.length===0,function(){return"Element arr["+A.join("][")+"] is a primitive, but should be an array/TypedArray of "+a[0]+" elements"});U(a.length>0,function(){return"Element arr["+A.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),U(i.length===a[0],function(){return"Element arr["+A.join("][")+"] should have "+a[0]+" elements, but has "+i.length+" elements"});for(var s=a.slice(1),u=0;u<i.length;++u)o(i[u],s,A.concat(u))}(e,r,[]),r}function eC(e,t,n,r){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function S(e,t,n,r){if(r===void 0&&(r="numeric"),e instanceof tt)return eC(r,e.dtype,t,n),e;var o=rl(e);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),eC(r,o,t,n),e==null||!Ao(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=Hi(e,o);Ao(e)||Array.isArray(e)||(e=[e]);var A=o!=="string"?TS(e,o,G().getBool("DEBUG")):VA(e,[],!0);return D.makeTensor(A,a,o)}function jd(e,t,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(o,i){return S(o,t+"["+i+"]",n)},r)}function LS(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function cj(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,A=0;A<r;A++)n.indexOf(A)===-1?o.push(e[i++]):o.push(t[a++]);return o}function tn(e,t){for(var n=[],r=e.length,o=0;o<r;o++)t.indexOf(o)===-1&&n.push(e[o]);return[n,t.map(function(i){return e[i]})]}function kn(e,t){return cj(e,t.map(function(n){return 1}),t)}function Mn(e,t,n){U(LS(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function fo(e,t){if(LS(e,t))return null;for(var n=[],r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(function(o){return n.push(o)}),n}function Ly(e){return e.map(function(t,n){return[n,t]}).sort(function(t,n){return t[1]-n[1]}).map(function(t){return t[0]})}function ho(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function dj(e,t){var n=e[0].length;e.forEach(function(o,i){U(o.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+n+")"})}),U(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(o,i){for(var a=0;a<n;a++)U(a===t||o[a]===r[a],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+o+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function WA(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function _(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];D.startScope(n);try{var A=r.apply(void 0,i);return A instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),D.endScope(A),A}catch(s){throw D.endScope(null),s}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}ve.registerFlag("HAS_WEBGL",function(){return ve.getNumber("WEBGL_VERSION")>0}),ve.registerFlag("WEBGL_VERSION",function(){return ZB(2)?2:ZB(1)?1:0}),ve.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return ve.get("WEBGL_VERSION")===2}),ve.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),ve.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),ve.registerFlag("WEBGL_PACK",function(){return ve.getBool("HAS_WEBGL")}),ve.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_CLIP",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),ve.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_PACK_REDUCE",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_LAZILY_UNPACK",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_CONV_IM2COL",function(){return ve.getBool("WEBGL_PACK")}),ve.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return oj(ve.getNumber("WEBGL_VERSION"))}),ve.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return ij(ve.getNumber("WEBGL_VERSION"))}),ve.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=ve.getNumber("WEBGL_VERSION");return e===0?0:aj(e)}),ve.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return ve.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),ve.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Aj(ve.getNumber("WEBGL_VERSION"))}),ve.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!ve.getBool("WEBGL_FORCE_F16_TEXTURES")&&ve.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),ve.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return sj(ve.getNumber("WEBGL_VERSION"))}),ve.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return uj(ve.getNumber("WEBGL_VERSION"))}),ve.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return ve.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),DS=PS;var Ot=_({complex_:function(e,t){var n=S(e,"real","complex"),r=S(t,"imag","complex");return Ne(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),D.runKernelFunc(function(o){return o.complex(n,r)},{$real:n,$imag:r})}}),dr=_({real_:function(e){var t=S(e,"input","real");return D.runKernelFunc(function(n){return n.real(t)},{$input:t})}}),eo=_({imag_:function(e){var t=S(e,"input","imag");return D.runKernelFunc(function(n){return n.imag(t)},{$input:t})}});function Wt(e,t,n){return Oi(e,t,Hi(e,n),n)}function Oi(e,t,n,r){if(r==null&&(r=rl(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ao(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){_S(t);var o=ue(t),i=ue(n);U(o===i,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i});for(var a=0;a<n.length;++a){var A=n[a],s=a!==n.length-1||A!==ue(t.slice(a));U(n[a]===t[a]||!s,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return Ao(e)||Array.isArray(e)||(e=[e]),t=t||n,e=r!=="string"?TS(e,r,G().getBool("DEBUG")):VA(e,[],!0),D.makeTensor(e,t,r)}function q(e,t){if((Ao(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Ao(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Oi(e,[],[],t)}function Ct(e,t){ns(e);var n=Hi(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Oi(e,null,n,t)}function Ci(e,t,n){if(ns(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Hi(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Oi(e,t,r,n)}function Hy(e,t,n){if(ns(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Hi(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Oi(e,t,r,n)}function Bn(e,t,n){if(ns(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Hi(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Oi(e,t,r,n)}function fj(e,t,n){if(ns(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Hi(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Oi(e,t,r,n)}function hj(e,t,n){if(ns(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Hi(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Oi(e,t=t||r,r,n)}function pj(e,t,n,r){return t===void 0&&(t=!0),D.makeVariable(e,t,n,r)}function rs(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=rs(e,"float32"),r=Xe(e,"float32");return Ot(n,r)}var o=kS(ue(e),t);return D.makeTensor(o,e,t)}function Xe(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=Xe(e,"float32"),r=Xe(e,"float32");return Ot(n,r)}var o=ol(ue(e),t);return D.makeTensor(o,e,t)}function uo(e,t,n){return D.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function gj(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return D.runKernelFunc(function(r){return r.linspace(e,t,n)},{})}function Vd(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Xe([0],r);var o=ol(Math.abs(Math.ceil((t-e)/n)),r);t<e&&n===1&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return Ct(o,r)}var HS=_({onesLike_:function(e){var t=S(e,"x","onesLike");if(t.dtype==="complex64"){var n=HS(dr(t)),r=Se(eo(t));return Ot(n,r)}return D.runKernelFunc(function(o){return o.onesLike(t)},{$x:t},function(o,i){return{$x:function(){return Se(o)}}})}}),Se=_({zerosLike_:function(e){var t=S(e,"x","zerosLike");return D.runKernelFunc(function(n){return n.zerosLike(t)},{$x:t},function(n,r){return{$x:function(){return Se(n)}}})}}),St=_({concat_:function(e,t){t===void 0&&(t=0),U(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=jd(e,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(A){if(A.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+A.dtype+". ")}),t=kt(t,n[0].shape)[0];var r=WA(n.map(function(A){return A.shape}),t);if(ue(r)===0)return Wt([],r);if((n=n.filter(function(A){return A.size>0})).length===1)return n[0];var o=n.map(function(A){return A.shape});dj(o,t);var i=n,a={axis:t};return D.runKernelFunc(function(A){return A.concat(n,t)},i,function(A){var s=o.map(function(u){return u[t]});return Oy(A,s,t).map(function(u){return function(){return u}})},"Concat",a)}}),mj=_({concat1d_:function(e){return St(e,0)}}),vj=_({concat2d_:function(e,t){return St(e,t)}}),yj=_({concat3d_:function(e,t){return St(e,t)}}),wj=_({concat4d_:function(e,t){return St(e,t)}}),Oy=_({split_:function(e,t,n){n===void 0&&(n=0);var r,o=S(e,"x","split");return n=kt(n,o.shape)[0],typeof t=="number"?(U(o.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(o.shape[n]/t)):(U(o.shape[n]===t.reduce(function(i,a){return i+a}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),D.runKernelFunc(function(i){return i.split(o,r,n)},{$x:o},function(i){return{$x:function(){return St(i,n)}}})}});function Ea(e,t){return e(t={exports:{}},t.exports),t.exports}var xj=Ea(function(e){(function(t,n,r){function o(A){var s,u=this,l=(s=4022871197,function(c){c=c.toString();for(var d=0;d<c.length;d++){var f=.02519603282416938*(s+=c.charCodeAt(d));f-=s=f>>>0,s=(f*=s)>>>0,s+=4294967296*(f-=s)}return 23283064365386963e-26*(s>>>0)});u.next=function(){var c=2091639*u.s0+23283064365386963e-26*u.c;return u.s0=u.s1,u.s1=u.s2,u.s2=c-(u.c=0|c)},u.c=1,u.s0=l(" "),u.s1=l(" "),u.s2=l(" "),u.s0-=l(A),u.s0<0&&(u.s0+=1),u.s1-=l(A),u.s1<0&&(u.s1+=1),u.s2-=l(A),u.s2<0&&(u.s2+=1),l=null}function i(A,s){return s.c=A.c,s.s0=A.s0,s.s1=A.s1,s.s2=A.s2,s}function a(A,s){var u=new o(A),l=s&&s.state,c=u.next;return c.int32=function(){return 4294967296*u.next()|0},c.double=function(){return c()+11102230246251565e-32*(2097152*c()|0)},c.quick=c,l&&(typeof l=="object"&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(0,e,!1)}),Bj=Ea(function(e){(function(t,n,r){function o(A){var s=this,u="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var c=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^c^c>>>8},A===(0|A)?s.x=A:u+=A;for(var l=0;l<u.length+64;l++)s.x^=0|u.charCodeAt(l),s.next()}function i(A,s){return s.x=A.x,s.y=A.y,s.z=A.z,s.w=A.w,s}function a(A,s){var u=new o(A),l=s&&s.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},c.int32=u.next,c.quick=c,l&&(typeof l=="object"&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(0,e,!1)}),Cj=Ea(function(e){(function(t,n,r){function o(A){var s=this,u="";s.next=function(){var c=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^c^c<<1)|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,A===(0|A)?s.x=A:u+=A;for(var l=0;l<u.length+64;l++)s.x^=0|u.charCodeAt(l),l==u.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function i(A,s){return s.x=A.x,s.y=A.y,s.z=A.z,s.w=A.w,s.v=A.v,s.d=A.d,s}function a(A,s){var u=new o(A),l=s&&s.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},c.int32=u.next,c.quick=c,l&&(typeof l=="object"&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(0,e,!1)}),bj=Ea(function(e){(function(t,n,r){function o(A){var s=this;s.next=function(){var u,l,c=s.x,d=s.i;return u=c[d],l=(u^=u>>>7)^u<<24,l^=(u=c[d+1&7])^u>>>10,l^=(u=c[d+3&7])^u>>>3,l^=(u=c[d+4&7])^u<<7,u=c[d+7&7],l^=(u^=u<<13)^u<<9,c[d]=l,s.i=d+1&7,l},function(u,l){var c,d=[];if(l===(0|l))d[0]=l;else for(l=""+l,c=0;c<l.length;++c)d[7&c]=d[7&c]<<15^l.charCodeAt(c)+d[c+1&7]<<13;for(;d.length<8;)d.push(0);for(c=0;c<8&&d[c]===0;++c);for(c==8?d[7]=-1:d[c],u.x=d,u.i=0,c=256;c>0;--c)u.next()}(s,A)}function i(A,s){return s.x=A.x.slice(),s.i=A.i,s}function a(A,s){A==null&&(A=+new Date);var u=new o(A),l=s&&s.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},c.int32=u.next,c.quick=c,l&&(l.x&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(0,e,!1)}),Ej=Ea(function(e){(function(t,n,r){function o(A){var s=this;s.next=function(){var u,l,c=s.w,d=s.X,f=s.i;return s.w=c=c+1640531527|0,l=d[f+34&127],u=d[f=f+1&127],l^=l<<13,u^=u<<17,l^=l>>>15,u^=u>>>12,l=d[f]=l^u,s.i=f,l+(c^c>>>16)|0},function(u,l){var c,d,f,h,p,y=[],g=128;for(l===(0|l)?(d=l,l=null):(l+="\0",d=0,g=Math.max(g,l.length)),f=0,h=-32;h<g;++h)l&&(d^=l.charCodeAt((h+32)%l.length)),h===0&&(p=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,h>=0&&(p=p+1640531527|0,f=(c=y[127&h]^=d+p)==0?f+1:0);for(f>=128&&(y[127&(l&&l.length||0)]=-1),f=127,h=512;h>0;--h)d=y[f+34&127],c=y[f=f+1&127],d^=d<<13,c^=c<<17,d^=d>>>15,c^=c>>>12,y[f]=d^c;u.w=p,u.X=y,u.i=f}(s,A)}function i(A,s){return s.i=A.i,s.w=A.w,s.X=A.X.slice(),s}function a(A,s){A==null&&(A=+new Date);var u=new o(A),l=s&&s.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},c.int32=u.next,c.quick=c,l&&(l.X&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(0,e,!1)}),Fj=Ea(function(e){(function(t,n,r){function o(A){var s=this,u="";s.next=function(){var c=s.b,d=s.c,f=s.d,h=s.a;return c=c<<25^c>>>7^d,d=d-f|0,f=f<<24^f>>>8^h,h=h-c|0,s.b=c=c<<20^c>>>12^d,s.c=d=d-f|0,s.d=f<<16^d>>>16^h,s.a=h-c|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,A===Math.floor(A)?(s.a=A/4294967296|0,s.b=0|A):u+=A;for(var l=0;l<u.length+20;l++)s.b^=0|u.charCodeAt(l),s.next()}function i(A,s){return s.a=A.a,s.b=A.b,s.c=A.c,s.d=A.d,s}function a(A,s){var u=new o(A),l=s&&s.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},c.int32=u.next,c.quick=c,l&&(typeof l=="object"&&i(l,u),c.state=function(){return i(u,{})}),c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(0,e,!1)}),Ji=Ea(function(e){(function(t,n){var r,o=this,i=256,a=6,A="random",s=n.pow(i,a),u=n.pow(2,52),l=2*u,c=i-1;function d(g,v,w){var x=[],B=p(function E(F,I){var T,Q=[],N=typeof F;if(I&&N=="object")for(T in F)try{Q.push(E(F[T],I-1))}catch{}return Q.length?Q:N=="string"?F:F+"\0"}((v=v==1?{entropy:!0}:v||{}).entropy?[g,y(t)]:g??function(){try{var E;return r&&(E=r.randomBytes)?E=E(i):(E=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(E)),y(E)}catch{var F=o.navigator,I=F&&F.plugins;return[+new Date,o,I,o.screen,y(t)]}}(),3),x),C=new f(x),b=function(){for(var E=C.g(a),F=s,I=0;E<u;)E=(E+I)*i,F*=i,I=C.g(1);for(;E>=l;)E/=2,F/=2,I>>>=1;return(E+I)/F};return b.int32=function(){return 0|C.g(4)},b.quick=function(){return C.g(4)/4294967296},b.double=b,p(y(C.S),t),(v.pass||w||function(E,F,I,T){return T&&(T.S&&h(T,C),E.state=function(){return h(C,{})}),I?(n[A]=E,F):E})(b,B,"global"in v?v.global:this==n,v.state)}function f(g){var v,w=g.length,x=this,B=0,C=x.i=x.j=0,b=x.S=[];for(w||(g=[w++]);B<i;)b[B]=B++;for(B=0;B<i;B++)b[B]=b[C=c&C+g[B%w]+(v=b[B])],b[C]=v;(x.g=function(E){for(var F,I=0,T=x.i,Q=x.j,N=x.S;E--;)F=N[T=c&T+1],I=I*i+N[c&(N[T]=N[Q=c&Q+F])+(N[Q]=F)];return x.i=T,x.j=Q,I})(i)}function h(g,v){return v.i=g.i,v.j=g.j,v.S=g.S.slice(),v}function p(g,v){for(var w,x=g+"",B=0;B<x.length;)v[c&B]=c&(w^=19*v[c&B])+x.charCodeAt(B++);return y(v)}function y(g){return String.fromCharCode.apply(0,g)}if(n["seed"+A]=d,p(n.random(),t),e.exports){e.exports=d;try{r=require("crypto")}catch{}}})([],Math)});Ji.alea=xj,Ji.xor128=Bj,Ji.xorwow=Cj,Ji.xorshift7=bj,Ji.xor4096=Ej,Ji.tychei=Fj;var xh=Ji.alea,jy=function(){function e(t,n,r,o,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=xh(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,r,o=!1;!o;){var i=void 0,a=void 0,A=void 0;do A=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a;while(A>=1||A===0);var s=Math.sqrt(-2*Math.log(A)/A);n=this.mean+this.stdDev*i*s,r=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(n)||(o=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e}(),Ij=function(){function e(t,n,r,o){this.alpha=t,this.beta=1/n,this.dtype=r;var i=o||Math.random();this.randu=xh(i.toString()),this.randn=new jy(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,n,r,o,i,a;;){do o=this.randn.nextValue(),a=1+this.c*o;while(a<=0);if(a*=a*a,n=1-.331*(t=o*o)*t,r=.5*t+this.d*(1-a+Math.log(a)),(i=this.randu())<n||Math.log(i)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e}(),Sj=function(){function e(t,n,r,o){var i=this;if(t===void 0&&(t=0),n===void 0&&(n=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=t,this.range=n-t,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=xh(o)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function xe(e,t,n){return t===void 0&&(t="float32"),t=t||"float32",_S(e),new Ru(e,t,n)}function Uj(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var OS=_({batchToSpaceND_:function(e,t,n){var r=S(e,"x","batchToSpaceND"),o=t.reduce(function(i,a){return i*a});return U(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),U(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),U(r.shape[0]%o==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o}),D.runKernelFunc(function(i){return i.batchToSpaceND(r,t,n)},{$x:r},function(i){return{$x:function(){return i.spaceToBatchND(t,n)}}})}}),Qj=_({broadcastTo_:function(e,t){var n=S(e,"broadcastTo","x"),r=n.shape;if(t.some(function(s){return!(s>0)||s%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(n.shape[a]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var A=i.map(function(s,u){return s>1?u:-1}).filter(function(s){return s>=0});return A.length===0?n.clone():D.runKernelFunc(function(s){return s.tile(n,i)},{input:n},function(s){return{input:function(){return s.sum(A,!0)}}})}}),Tj=_({cast_:function(e,t){var n=S(e,"x","cast");if(!C5(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:t};return D.runKernelFunc(function(o){return o.cast(n,t)},{x:n},function(o){return{x:function(){return o.clone()}}},"Cast",r)}}),kj=_({clone_:function(e){var t=S(e,"x","clone",null);return D.runKernelFunc(function(){return D.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(n){return{$x:function(){return n.toFloat()}}})}}),_j=_({cumsum_:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var o=S(e,"x","cumsum"),i=fo([t|=0],o.rank),a=o;i!=null&&(a=o.transpose(i));var A=ho(1,o.rank)[0],s=D.runKernelFunc(function(u){return u.cumsum(a,A,n,r)},{permutedX:a},function(u){return{permutedX:function(){return u.cumsum(t,n,!r)}}});return i!=null&&(s=s.transpose(i)),s}}),Rj=_({depthToSpace_:function(e,t,n){n===void 0&&(n="NHWC");var r=S(e,"x","depthToSpace"),o=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],a=n==="NHWC"?r.shape[3]:r.shape[1];return U(o*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+t+`  for depthToSpace with input shape
      `+r.shape}),U(i*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+` for depthToSpace with input shape
          `+r.shape}),U(a%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape}),D.runKernelFunc(function(A){return A.depthToSpace(r,t,n)},{$x:r})}}),lr=_({expandDims_:function(e,t){t===void 0&&(t=0);var n=S(e,"x","expandDims",null);U(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(U(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),_r(n,r)}}),jS=_({eye_:function(e,t,n,r){r===void 0&&(r="float32"),t==null&&(t=e);for(var o=xe([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var A=o.toTensor().as2D(e,t);if(n==null)return A;if(n.length===1)return EA(lr(A,0),[n[0],1,1]);if(n.length===2)return EA(lr(lr(A,0),0),[n[0],n[1],1,1]);if(n.length===3)return EA(lr(lr(lr(A,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Dj=_({multinomial_:function(e,t,n,r){r===void 0&&(r=!1);var o=S(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var A=a===1?o.as2D(1,-1):o,s=D.runKernelFunc(function(u){return u.multinomial(A,r,t,n)},{logits2D:A});return a===1?s.as1D():s}}),uv=_({oneHot_:function(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=S(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),D.runKernelFunc(function(a){return a.oneHot(o,t,n,r)},{$indices:o},function(a){return{$indices:function(){return Xe(o.shape,"float32")}}}).reshape(i)}}),Fa=_({pad_:function(e,t,n){n===void 0&&(n=0);var r=S(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return D.runKernelFunc(function(i){return i.pad(r,t,n)},{x:r},function(i){var a=t.map(function(A){return A[0]});return{x:function(){return i.slice(a,r.shape)}}},"PadV2",o)}}),Nj=_({pad1d_:function(e,t,n){return n===void 0&&(n=0),U(t.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Fa(e,[t],n)}}),Mj=_({pad2d_:function(e,t,n){return n===void 0&&(n=0),U(t.length===2&&t[0].length===2&&t[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Fa(e,t,n)}}),Pj=_({pad3d_:function(e,t,n){return n===void 0&&(n=0),U(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Fa(e,t,n)}}),Lj=_({pad4d_:function(e,t,n){return n===void 0&&(n=0),U(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Fa(e,t,n)}}),Hj=_({rand_:function(e,t,n){var r=ue(e),o=null;if(n==null||n==="float32")o=new Float32Array(r);else if(n==="int32")o=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return D.makeTensor(o,e,n)}}),Oj=_({randomNormal_:function(e,t,n,r,o){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new jy(t,n,r,!1,o),a=xe(e,r),A=0;A<a.values.length;A++)a.values[A]=i.nextValue();return a.toTensor()}}),jj=_({randomGamma_:function(e,t,n,r,o){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var i=new Ij(t,n,r,o),a=xe(e,r),A=0;A<a.values.length;A++)a.values[A]=i.nextValue();return a.toTensor()}}),VS=_({randomUniform_:function(e,t,n,r,o){t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var i=xe(e,r),a=new Sj(t,n,null,o),A=0;A<i.values.length;A++)i.values[A]=a.nextValue();return i.toTensor()}}),_r=_({reshape_:function(e,t){var n=S(e,"x","reshape",null);t=x5(t,n.size),U(n.size===ue(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return D.runKernelFunc(function(o){return o.reshape(n,t)},{x:n},function(o){return{x:function(){return o.reshape(n.shape)}}},"Reshape",r)}}),KS=_({spaceToBatchND_:function(e,t,n){var r=S(e,"x","spaceToBatchND");return U(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),U(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),U(r.shape.reduce(function(o,i,a){return a>0&&a<=t.length?o&&(i+n[a-1][0]+n[a-1][1])%t[a-1]==0:o},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),D.runKernelFunc(function(o){return o.spaceToBatchND(r,t,n)},{$x:r},function(o){return{$x:function(){return o.batchToSpaceND(t,n)}}})}}),WS=_({squeeze_:function(e,t){var n=S(e,"x","squeeze");return _r(n,Zi(n.shape,t).newShape)}}),Gn=_({stack_:function(e,t){t===void 0&&(t=0);var n=jd(e,"tensors","stack");if(U(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;U(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(A){Ne(o,A.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(A){U(i===A.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=n.map(function(A){return A.expandDims(t)});return St(a,t)}}),EA=_({tile_:function(e,t){var n=S(e,"x","tile",null);U(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],o={reps:t};return D.runKernelFunc(function(i,a){var A=i.tile(n,t);return a([n]),A},{x:n},function(i,a){var A=a[0];return{x:function(){var s=Se(A);if(A.rank===1)for(var u=0;u<t[0];++u)s=s.add(i.slice([u*A.shape[0]],[A.shape[0]]));else if(A.rank===2)for(u=0;u<t[0];++u)for(var l=0;l<t[1];++l)s=s.add(i.slice([u*A.shape[0],l*A.shape[1]],[A.shape[0],A.shape[1]]));else if(A.rank===3)for(u=0;u<t[0];++u)for(l=0;l<t[1];++l)for(var c=0;c<t[2];++c)s=s.add(i.slice([u*A.shape[0],l*A.shape[1],c*A.shape[2]],[A.shape[0],A.shape[1],A.shape[2]]));else{if(A.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+A.rank+" tensors yet.");for(u=0;u<t[0];++u)for(l=0;l<t[1];++l)for(c=0;c<t[2];++c)for(var d=0;d<t[3];++d)s=s.add(i.slice([u*A.shape[0],l*A.shape[1],c*A.shape[2],d*A.shape[3]],[A.shape[0],A.shape[1],A.shape[2],A.shape[3]]))}return s}}},"Tile",o,r)}}),Vj=_({truncatedNormal_:function(e,t,n,r,o){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new jy(t,n,r,!0,o),a=xe(e,r),A=0;A<a.values.length;A++)a.values[A]=i.nextValue();return a.toTensor()}}),Ut=_({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var n=S(e,"x","unstack");U(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return D.runKernelFunc(function(o){return o.unstack(n,t)},{x:n},function(o){return{x:function(){return Gn(o,t)}}},"Unpack",r)}}),Kj=function(e,t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l,c;return Ae(this,function(d){switch(d.label){case 0:return n=S(e,"x","setdiff1d"),r=S(t,"y","setdiff1d"),U(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),U(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),U(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return o=d.sent(),[4,r.data()];case 2:for(i=d.sent(),a=new Set(i),A=0,l=0;l<o.length;l++)a.has(o[l])||A++;for(s=new Ru([A],n.dtype),u=new Ru([A],"int32"),l=0,c=0;l<o.length;l++)a.has(o[l])||(s.values[c]=o[l],u.values[c]=l,c++);return[2,[s.toTensor(),u.toTensor()]]}})})};function Kd(e,t,n,r){r===void 0&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function Wd(e,t,n){n===void 0&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function Gd(e,t,n,r){r===void 0&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function GS(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function zS(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function $S(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,A=n.slice();A.pop();var s=1;for(i=r;i<e.rank;++i)s*=a[i],A.push(a[i]);var u=so(e.shape).map(function(l){return l/s}).concat([1]).slice(0,r);return[A,o,s,u]}var XS=30;function $p(e){return e<=XS?e:rv(e,Math.floor(Math.sqrt(e)))}function Wj(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function Gj(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Wj(n,t,e)}function zd(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,A=o;A<i;++A)a*=n[A];var s=o<1?1:o;return{sliceRank:o,numUpdates:ue(t.shape)/s,sliceSize:a,strides:so(n.slice(0,o)).concat([1]),outputSize:ue(n)}}function zj(e,t,n){U(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),U(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(i){U(t[i]+n[i]<=e.shape[i],function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(t[i]+n[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"})},o=0;o<e.rank;++o)r(o)}function tC(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Vy(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function $j(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||i==null)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var A=r[o];return i<0&&(i+=A),i=ev(0,i,A-1)}function Xj(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||i==null)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var A=r[o];return i<0&&(i+=A),i=a>0?ev(0,i,A):ev(-1,i,A-1)}function YS(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function qS(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Yj(e,t){U(nv(e),function(){return"The f passed in variableGrads(f) must be a function"}),U(t==null||Array.isArray(t)&&t.every(function(l){return l instanceof KA}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=t!=null;if(!n)for(var r in t=[],D.registeredVariables)t.push(D.registeredVariables[r]);var o=n?t.filter(function(l){return!l.trainable}):null,i=t.length;U((t=t.filter(function(l){return l.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var a=D.gradients(e,t,null,!0),A=a.value,s=a.grads;U(s.some(function(l){return l!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),U(A.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+A.rank+" tensor"});var u={};return t.forEach(function(l,c){s[c]!=null&&(u[l.name]=s[c])}),o!=null&&o.forEach(function(l){return u[l.name]=null}),{value:A,grads:u}}function Bh(e){return D.customGrad(e)}var jo=_({softmax_:function(e,t){t===void 0&&(t=-1);var n=S(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return D.runKernelFunc(function(r,o){var i=r.softmax(n,t);return o([i]),i},{logits:n},function(r,o){var i=o[0],a=r.mul(i);return{logits:function(){return a.sub(a.sum([t],!0).mul(i))}}},"Softmax",{dim:t},[],[!0])}}),qj=_({logSoftmax_:function(e,t){t===void 0&&(t=-1);var n=S(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Bh(function(r,o){var i=r.max(t,!0),a=r.sub(i),A=a.toFloat().sub(a.exp().sum(t,!0).log());return o([A]),{value:A,gradFunc:function(s,u){var l=u[0].exp();return s.sub(s.sum(t,!0).mul(l))}}})(n)}}),JS=function(){function e(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),ZS=function(){function e(){}return e.prototype.time=function(t){return V("time")},e.prototype.read=function(t){return V("read")},e.prototype.readSync=function(t){return V("readSync")},e.prototype.numDataIds=function(){return V("numDataIds")},e.prototype.disposeData=function(t){return V("disposeData")},e.prototype.write=function(t,n,r){return V("write")},e.prototype.move=function(t,n,r,o){return V("move")},e.prototype.memory=function(){return V("memory")},e.prototype.floatPrecision=function(){return V("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,n,r,o){return V("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,V("fusedBatchMatMul")},e.prototype.slice=function(t,n,r){return V("slice")},e.prototype.stridedSlice=function(t,n,r,o){return V("stridedSlice")},e.prototype.unstack=function(t,n){return V("unstack")},e.prototype.reverse=function(t,n){return V("reverse")},e.prototype.concat=function(t,n){return V("concat")},e.prototype.neg=function(t){return V("neg")},e.prototype.add=function(t,n){return V("add")},e.prototype.addN=function(t){return V("addN")},e.prototype.subtract=function(t,n){return V("subtract")},e.prototype.multiply=function(t,n){return V("multiply")},e.prototype.realDivide=function(t,n){return V("realDivide")},e.prototype.floorDiv=function(t,n){return V("floorDiv")},e.prototype.sum=function(t,n){return V("sum")},e.prototype.prod=function(t,n){return V("prod")},e.prototype.unsortedSegmentSum=function(t,n,r){return V("unsortedSegmentSum")},e.prototype.argMin=function(t,n){return V("argMin")},e.prototype.argMax=function(t,n){return V("argMax")},e.prototype.equal=function(t,n){return V("equal")},e.prototype.notEqual=function(t,n){return V("notEqual")},e.prototype.less=function(t,n){return V("less")},e.prototype.lessEqual=function(t,n){return V("lessEqual")},e.prototype.greater=function(t,n){return V("greater")},e.prototype.greaterEqual=function(t,n){return V("greaterEqual")},e.prototype.logicalNot=function(t){return V("logicalNot")},e.prototype.logicalAnd=function(t,n){return V("logicalAnd")},e.prototype.logicalOr=function(t,n){return V("logicalOr")},e.prototype.where=function(t){return V("where")},e.prototype.select=function(t,n,r){return V("select")},e.prototype.topk=function(t,n,r){return V("topk")},e.prototype.min=function(t,n){return V("min")},e.prototype.minimum=function(t,n){return V("minimum")},e.prototype.mod=function(t,n){return V("mod")},e.prototype.max=function(t,n){return V("max")},e.prototype.maximum=function(t,n){return V("maximum")},e.prototype.all=function(t,n){return V("all")},e.prototype.any=function(t,n){return V("any")},e.prototype.squaredDifference=function(t,n){return V("squaredDifference")},e.prototype.ceil=function(t){return V("ceil")},e.prototype.floor=function(t){return V("floor")},e.prototype.round=function(t){return V("round")},e.prototype.sign=function(t){return V("sign")},e.prototype.isNaN=function(t){return V("isNaN")},e.prototype.isInf=function(t){return V("isInf")},e.prototype.isFinite=function(t){return V("isFinite")},e.prototype.pow=function(t,n){return V("pow")},e.prototype.exp=function(t){return V("exp")},e.prototype.expm1=function(t){return V("expm1")},e.prototype.softmax=function(t,n){return V("softmax")},e.prototype.log=function(t){return V("log")},e.prototype.log1p=function(t){return V("log1p")},e.prototype.sqrt=function(t){return V("sqrt")},e.prototype.rsqrt=function(t){return V("rsqrt")},e.prototype.square=function(t){return V("square")},e.prototype.reciprocal=function(t){return V("reciprocal")},e.prototype.relu=function(t){return V("relu")},e.prototype.relu6=function(t){return V("relu6")},e.prototype.prelu=function(t,n){return V("prelu")},e.prototype.elu=function(t){return V("elu")},e.prototype.eluDer=function(t,n){return V("eluDer")},e.prototype.selu=function(t){return V("selu")},e.prototype.int=function(t){return V("int")},e.prototype.clip=function(t,n,r){return V("clip")},e.prototype.abs=function(t){return V("abs")},e.prototype.complexAbs=function(t){return V("complexAbs")},e.prototype.sigmoid=function(t){return V("sigmoid")},e.prototype.softplus=function(t){return V("softplus")},e.prototype.sin=function(t){return V("sin")},e.prototype.cos=function(t){return V("cos")},e.prototype.tan=function(t){return V("tan")},e.prototype.asin=function(t){return V("asin")},e.prototype.acos=function(t){return V("acos")},e.prototype.atan=function(t){return V("atan")},e.prototype.atan2=function(t,n){return V("atan2")},e.prototype.sinh=function(t){return V("sinh")},e.prototype.cosh=function(t){return V("cosh")},e.prototype.tanh=function(t){return V("tanh")},e.prototype.asinh=function(t){return V("asinh")},e.prototype.acosh=function(t){return V("acosh")},e.prototype.atanh=function(t){return V("atanh")},e.prototype.erf=function(t){return V("erf")},e.prototype.step=function(t,n){return V("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,V("fusedConv2d")},e.prototype.conv2d=function(t,n,r){return V("conv2d")},e.prototype.conv2dDerInput=function(t,n,r){return V("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,n,r){return V("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,V("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,n,r){return V("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,n,r){return V("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,n,r){return V("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,n,r){return V("conv3d")},e.prototype.conv3dDerInput=function(t,n,r){return V("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,n,r){return V("conv3dDerFilter")},e.prototype.maxPool=function(t,n){return V("maxPool")},e.prototype.maxPoolBackprop=function(t,n,r,o){return V("maxPoolBackprop")},e.prototype.avgPool=function(t,n){return V("avgPool")},e.prototype.avgPoolBackprop=function(t,n,r){return V("avgPoolBackprop")},e.prototype.avgPool3d=function(t,n){return V("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,n,r){return V("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,n){return V("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,n,r,o){return V("maxPool3dBackprop")},e.prototype.reshape=function(t,n){return V("reshape")},e.prototype.cast=function(t,n){return V("cast")},e.prototype.tile=function(t,n){return V("tile")},e.prototype.pad=function(t,n,r){return V("pad")},e.prototype.transpose=function(t,n){return V("transpose")},e.prototype.gather=function(t,n,r){return V("gather")},e.prototype.gatherND=function(t,n){return V("gatherND")},e.prototype.scatterND=function(t,n,r){return V("scatterND")},e.prototype.batchToSpaceND=function(t,n,r){return V("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,n,r){return V("spaceToBatchND")},e.prototype.resizeBilinear=function(t,n,r,o){return V("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,n,r){return V("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,n,r,o){return V("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,n,r){return V("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,n,r,o,i,a){return V("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,n,r,o,i){return V("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,n,r,o,i,a,A){return V("LRNGrad")},e.prototype.multinomial=function(t,n,r,o){return V("multinomial")},e.prototype.oneHot=function(t,n,r,o){return V("oneHot")},e.prototype.cumsum=function(t,n,r,o){return V("cumsum")},e.prototype.nonMaxSuppression=function(t,n,r,o,i){return V("nonMaxSuppression")},e.prototype.fft=function(t){return V("fft")},e.prototype.ifft=function(t){return V("ifft")},e.prototype.complex=function(t,n){return V("complex")},e.prototype.real=function(t){return V("real")},e.prototype.imag=function(t){return V("imag")},e.prototype.cropAndResize=function(t,n,r,o,i,a){return V("cropAndResize")},e.prototype.depthToSpace=function(t,n,r){return V("depthToSpace")},e.prototype.split=function(t,n,r){return V("split")},e.prototype.sparseToDense=function(t,n,r,o){return V("sparseToDense")},e.prototype.diag=function(t){return V("diag")},e.prototype.fill=function(t,n,r){return V("fill")},e.prototype.onesLike=function(t){return V("onesLike")},e.prototype.zerosLike=function(t){return V("zerosLike")},e.prototype.linspace=function(t,n,r){return V("linspace")},e.prototype.dispose=function(){return V("dispose")},e}();function V(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function si(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&a===1&&r.unshift(i)}return r}function Qt(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(o==null||o===1&&a>1)&&n.unshift(i)}return n}function Ee(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];i==null&&(i=1);var a=t[t.length-o-1];if(a==null&&(a=1),i===1)n.unshift(a);else if(a===1)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function Nu(e,t,n,r,o,i,a){a===void 0&&(a="channelsLast");var A,s=Yd(t),u=s[0],l=s[1];if(a==="channelsLast")A=[u,l,e[3],e[3]];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);A=[u,l,e[1],e[1]]}return Ia(e,A,n,r,o,i,!1,a)}function $d(e,t,n,r,o,i,a){a===void 0&&(a="NDHWC");var A,s,u=lv(t),l=u[0],c=u[1],d=u[2];if(a==="NDHWC")s="channelsLast",A=[l,c,d,e[4],e[4]];else{if(a!=="NCDHW")throw new Error("Unknown dataFormat "+a);s="channelsFirst",A=[l,c,d,e[1],e[1]]}return Xd(e,A,n,r,o,!1,s,i)}function Ia(e,t,n,r,o,i,a,A){a===void 0&&(a=!1),A===void 0&&(A="channelsLast");var s=[-1,-1,-1,-1],u=s[0],l=s[1],c=s[2],d=s[3];if(A==="channelsLast")u=e[0],l=e[1],c=e[2],d=e[3];else{if(A!=="channelsFirst")throw new Error("Unknown dataFormat "+A);u=e[0],d=e[1],l=e[2],c=e[3]}var f,h=t[0],p=t[1],y=t[3],g=Yd(n),v=g[0],w=g[1],x=Yd(r),B=x[0],C=x[1],b=FA(h,B),E=FA(p,C),F=function(M,O,L,j,R,P,H,W){var $,Y,ee;if(typeof M=="number"){$={top:M,bottom:M,left:M,right:M,type:M===0?"VALID":"NUMBER"};var ie=function(pe,Qe,se,He,je){He==null&&(He=eU(pe,Qe,se));var Me=pe[0],Xt=pe[1],vt=eu((Me-Qe+2*He)/se+1,je);U(dt(vt),function(){return"The output # of rows ("+vt+") must be an integer. Change the stride and/or zero pad parameters"});var cn=eu((Xt-Qe+2*He)/se+1,je);return U(dt(cn),function(){return"The output # of columns ("+cn+") must be an integer. Change the stride and/or zero pad parameters"}),[vt,cn]}([O,L],P,j,M,W);Y=ie[0],ee=ie[1]}else if(M==="same"){Y=Math.ceil(O/j),ee=Math.ceil(L/R);var oe=Math.max(0,(Y-1)*j+P-O),fe=Math.max(0,(ee-1)*R+H-L),Be=Math.floor(oe/2),he=oe-Be,Te=Math.floor(fe/2);$={top:Be,bottom:he,left:Te,right:fe-Te,type:"SAME"}}else{if(M!=="valid")throw Error("Unknown padding parameter: "+M);$={top:0,bottom:0,left:0,right:0,type:"VALID"},Y=Math.ceil((O-P+1)/j),ee=Math.ceil((L-H+1)/R)}return{padInfo:$,outHeight:Y,outWidth:ee}}(o,l,c,v,w,b,E,i),I=F.padInfo,T=F.outHeight,Q=F.outWidth,N=a?y*d:y;return A==="channelsFirst"?f=[u,N,T,Q]:A==="channelsLast"&&(f=[u,T,Q,N]),{batchSize:u,dataFormat:A,inHeight:l,inWidth:c,inChannels:d,outHeight:T,outWidth:Q,outChannels:N,padInfo:I,strideHeight:v,strideWidth:w,filterHeight:h,filterWidth:p,effectiveFilterHeight:b,effectiveFilterWidth:E,dilationHeight:B,dilationWidth:C,inShape:e,outShape:f,filterShape:t}}function Xd(e,t,n,r,o,i,a,A){i===void 0&&(i=!1),a===void 0&&(a="channelsLast");var s=[-1,-1,-1,-1,-1],u=s[0],l=s[1],c=s[2],d=s[3],f=s[4];if(a==="channelsLast")u=e[0],l=e[1],c=e[2],d=e[3],f=e[4];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);u=e[0],f=e[1],l=e[2],c=e[3],d=e[4]}var h,p=t[0],y=t[1],g=t[2],v=t[4],w=lv(n),x=w[0],B=w[1],C=w[2],b=lv(r),E=b[0],F=b[1],I=b[2],T=FA(p,E),Q=FA(y,F),N=FA(g,I),M=function(H,W,$,Y,ee,ie,oe,fe,Be,he,Te){var pe,Qe,se,He;if(typeof H=="number"){pe={top:H,bottom:H,left:H,right:H,front:H,back:H,type:H===0?"VALID":"NUMBER"};var je=function(Er,dn,is,vo,Zn,we){Zn==null&&(Zn=eU(Er,dn,vo));var pl=Er[0],Gh=Er[1],gl=Er[2],ml=eu((pl-dn+2*Zn)/vo+1,we);U(dt(ml),function(){return"The output # of depths ("+ml+") must be an integer. Change the stride and/or zero pad parameters"});var zh=eu((Gh-dn+2*Zn)/vo+1,we);U(dt(zh),function(){return"The output # of rows ("+zh+") must be an integer. Change the stride and/or zero pad parameters"});var $h=eu((gl-dn+2*Zn)/vo+1,we);return U(dt($h),function(){return"The output # of columns ("+$h+") must be an integer. Change the stride and/or zero pad parameters"}),[ml,zh,$h,is]}([W,$,Y,1],fe,1,ee,H,Te);Qe=je[0],se=je[1],He=je[2]}else if(H==="same"){Qe=Math.ceil(W/ee),se=Math.ceil($/ie),He=Math.ceil(Y/oe);var Me=(Qe-1)*ee+fe-W,Xt=(se-1)*ie+Be-$,vt=(He-1)*oe+he-Y,cn=Math.floor(Me/2),jr=Me-cn,Rn=Math.floor(Xt/2),Vr=Xt-Rn,br=Math.floor(vt/2);pe={top:Rn,bottom:Vr,left:br,right:vt-br,front:cn,back:jr,type:"SAME"}}else{if(H!=="valid")throw Error("Unknown padding parameter: "+H);pe={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Qe=Math.ceil((W-fe+1)/ee),se=Math.ceil(($-Be+1)/ie),He=Math.ceil((Y-he+1)/oe)}return{padInfo:pe,outDepth:Qe,outHeight:se,outWidth:He}}(o,l,c,d,x,B,C,T,Q,N,A),O=M.padInfo,L=M.outDepth,j=M.outHeight,R=M.outWidth,P=i?v*f:v;return a==="channelsFirst"?h=[u,P,L,j,R]:a==="channelsLast"&&(h=[u,L,j,R,P]),{batchSize:u,dataFormat:a,inDepth:l,inHeight:c,inWidth:d,inChannels:f,outDepth:L,outHeight:j,outWidth:R,outChannels:P,padInfo:O,strideDepth:x,strideHeight:B,strideWidth:C,filterDepth:p,filterHeight:y,filterWidth:g,effectiveFilterDepth:T,effectiveFilterHeight:Q,effectiveFilterWidth:N,dilationDepth:E,dilationHeight:F,dilationWidth:I,inShape:e,outShape:h,filterShape:t}}function eU(e,t,n,r){r===void 0&&(r=1);var o=FA(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Yd(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function lv(e){return typeof e=="number"?[e,e,e]:e}function FA(e,t){return t<=1?e:e+(e-1)*(t-1)}function eu(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function GA(e){var t=Yd(e),n=t[0],r=t[1],o=t[2];return n===1&&r===1&&o===1}function _n(e,t){return GA(e)||GA(t)}function Ky(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function tU(e,t,n){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var r=Xe(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!b5(e.dtype,t))return D.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if(t==="int32")return n.int(e);if(t==="bool"){var A=q(0,e.dtype);return i=n.notEqual(e,A),A.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function cv(e,t){return D.makeTensorFromDataId(e.dataId,t,e.dtype)}function nU(e,t,n){var r=(t-e)/(n-1),o=ol(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return Ct(o,"float32")}function dv(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function nC(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Jj(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Zj(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function eV(e,t,n){var r=function(i,a,A){return function(s,u,l){for(var c=0,d=s.length,f=0,h=!1;c<d;){var p=l(u,s[f=c+(d-c>>>1)]);p>0?c=f+1:(d=f,h=!p)}return h?c:-c-1}(i,a,A||tV)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function tV(e,t){return e>t?1:e<t?-1:0}function Wy(e,t,n,r,o){return rU(e,t,n,r,o,0).selectedIndices}function Gy(e,t,n,r,o,i){var a=rU(e,t,n,r,o,i);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function rU(e,t,n,r,o,i,a,A){A===void 0&&(A=!1);for(var s=Array.from(t).map(function(x,B){return{score:x,boxIndex:B,suppressBeginIndex:0}}).filter(function(x){return x.score>o}).sort(rC),u=i>0?-.5/i:0,l=[],c=[];l.length<n&&s.length>0;){var d=s.pop(),f=d.score,h=d.boxIndex,p=d.suppressBeginIndex;if(f<o)break;for(var y=!1,g=l.length-1;g>=p;--g){var v=nV(e,h,l[g]);if(v>=r){y=!0;break}if(d.score=d.score*rV(r,u,v),d.score<=o)break}d.suppressBeginIndex=l.length,y||(d.score===f?(l.push(h),c.push(d.score)):d.score>o&&eV(s,d,rC))}var w=l.length;return A&&(l.fill(0,w),c.fill(0,w)),{selectedIndices:Ct(l,"int32"),selectedScores:Ct(c,"float32"),numValidOutputs:q(w,"int32")}}function nV(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),A=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),c=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),f=(A-i)*(s-a),h=(c-u)*(d-l);if(f<=0||h<=0)return 0;var p=Math.max(i,u),y=Math.max(a,l),g=Math.min(A,c),v=Math.min(s,d),w=Math.max(g-p,0)*Math.max(v-y,0);return w/(f+h-w)}function rV(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function rC(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function oU(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map(function(i){o[n]=i;var a=e.slice(r,o);return r[n]+=i,a})}function iU(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=xe(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),A=0;A<a.length;A++)a[A]=i[A]%e.shape[A];var s=e.locToIndex(a);o.values[r]=e.values[s]}return o.toTensor()}function aU(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],A=a[0],s=a[1],u=_u(n,A*r),l=_u("int32",A*r),c=0;c<A;c++){for(var d=c*s,f=e.subarray(d,d+s),h=[],p=0;p<f.length;p++)h.push({value:f[p],index:p});h.sort(function(x,B){return B.value-x.value});var y=c*r,g=u.subarray(y,y+r),v=l.subarray(y,y+r);for(p=0;p<r;p++)g[p]=h[p].value,v[p]=h[p].index}var w=t.slice();return w[w.length-1]=r,[Wt(u,w,n),Wt(l,w,"int32")]}function zy(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=xe(e,"int32"),i=xe([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),A=r*e.length;i.values.set(a,A)}return i.toTensor()}var oV=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(o,i){return"T"+i});var n=[];this.variableNames.forEach(function(o){n.push("float v"+o+" = get"+o+"AtOutCoords();")});var r=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},iV=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(o,i){return"T"+i});var n=[];this.variableNames.forEach(function(o){n.push("vec4 v"+o+" = get"+o+"AtOutCoords();")});var r=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},aV=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var A=t==="max"?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+s+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+A+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function AU(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(n){return e+"."+n})}function Cn(e,t){return t===1?[e]:AU(e,t)}function an(){var e,t,n,r,o,i,a,A,s,u;return G().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",A=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,s="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",A=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,s=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:A,defineSpecialInf:s,defineRound:u}}function aa(e,t,n){n===void 0&&(n="index");var r=so(t);return r.map(function(o,i){return"int "+e[i]+" = "+n+" / "+o+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+o:"index -= "+e[i]+" * "+o)+";"}).join("")}function $y(e){var t=so(e).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var sU=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function AV(e,t,n,r){var o=[];e.forEach(function(f){var h=ue(f.shapeInfo.logicalShape);f.shapeInfo.isUniform?o.push("uniform float "+f.name+(h>1?"["+h+"]":"")+";"):(o.push("uniform sampler2D "+f.name+";"),o.push("uniform int offset"+f.name+";"))});var i,a,A=o.join(`
`),s=e.map(function(f){return function(h,p,y){y===void 0&&(y=!1);var g="";g+=y?uU(h):Ga(h);var v=h.shapeInfo.logicalShape,w=p.logicalShape;return v.length<=w.length&&(g+=y?function(x,B){var C,b=x.name,E=b.charAt(0).toUpperCase()+b.slice(1),F="get"+E+"AtOutCoords",I=x.shapeInfo.logicalShape.length,T=B.logicalShape.length,Q=si(x.shapeInfo.logicalShape,B.logicalShape),N=ze(T),M=T-I,O=["x","y","z","w","u","v"];C=I===0?"":T<2&&Q.length>=1?"coords = 0;":Q.map(function($){return"coords."+O[$+M]+" = 0;"}).join(`
`);var L="";L=T<2&&I>0?"coords":x.shapeInfo.logicalShape.map(function($,Y){return"coords."+O[Y+M]}).join(", ");var j="return outputValue;",R=ue(x.shapeInfo.logicalShape)===1,P=ue(B.logicalShape)===1;if(I!==1||R||P){if(R&&!P)j=T===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(Q.length){var H=I-2,W=I-1;Q.indexOf(H)>-1&&Q.indexOf(W)>-1?j="return vec4(outputValue.x);":Q.indexOf(H)>-1?j="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":Q.indexOf(W)>-1&&(j="return vec4(outputValue.xx, outputValue.zz);")}}else j=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+F+`() {
      `+N+` coords = getOutputCoords();
      `+C+`
      vec4 outputValue = get`+E+"("+L+`);
      `+j+`
    }
  `}(h,p):function(x,B){var C=x.name,b=C.charAt(0).toUpperCase()+C.slice(1),E="get"+b+"AtOutCoords",F=B.texShape,I=x.shapeInfo.texShape,T=x.shapeInfo.logicalShape.length,Q=B.logicalShape.length;if(!x.shapeInfo.isUniform&&T===Q&&x.shapeInfo.flatOffset==null&&Mt(I,F))return`
      float `+E+`() {
        return sampleTexture(`+C+`, resultUV);
      }
    `;var N,M=ze(Q),O=si(x.shapeInfo.logicalShape,B.logicalShape),L=Q-T,j=["x","y","z","w","u","v"];N=T===0?"":Q<2&&O.length>=1?"coords = 0;":O.map(function(P){return"coords."+j[P+L]+" = 0;"}).join(`
`);var R="";return R=Q<2&&T>0?"coords":x.shapeInfo.logicalShape.map(function(P,H){return"coords."+j[H+L]}).join(", "),`
    float `+E+`() {
      `+M+` coords = getOutputCoords();
      `+N+`
      return get`+b+"("+R+`);
    }
  `}(h,p)),g}(f,t,r)}).join(`
`),u=t.texShape,l=an(),c=function(f){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+f.texture2D+`(textureSampler, uv).r;
    }
  `}(l),d=function(f){return f.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+f.varyingFs+` vec2 resultUV;
    `+f.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+f.defineSpecialNaN+`
    `+f.defineSpecialInf+`
    `+f.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+sV+`
    `+uV+`
    `+lV+`
  `}(l);return t.isPacked?(i=function(f,h){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(x,B){var C=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)];return C[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+C[1]+`.0);
      }
    `:C[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+C[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));
      return 2 * (resTexRC.x * `+C[1]+` + resTexRC.y);
    }
  `}(0,h);case 2:return function(x,B){var C=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)];if(Mt(x,B))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+C[0]+", "+C[1]+`));
      }
    `;var b=Math.ceil(x[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));

      int index = resTexRC.x * `+C[1]+` + resTexRC.y;
      int r = 2 * (index / `+b+`);
      int c = imod(index, `+b+`) * 2;

      return ivec2(r, c);
    }
  `}(f,h);case 3:return p=f,y=h,g=[Math.ceil(y[0]/2),Math.ceil(y[1]/2)],v=Math.ceil(p[2]/2),w=v*Math.ceil(p[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;

      int b = index / `+w+`;
      index -= b * `+w+`;

      int r = 2 * (index / `+v+`);
      int c = imod(index, `+v+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(x,B){for(var C=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)],b=Math.ceil(x[x.length-1]/2),E=b*Math.ceil(x[x.length-2]/2),F=E,I="",T="b, r, c",Q=2;Q<x.length-1;Q++)F*=x[x.length-Q-1],I=`
      int b`+Q+" = index / "+F+`;
      index -= b`+Q+" * "+F+`;
    `+I,T="b"+Q+", "+T;return`
    ivec`+x.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));
      int index = resTexRC.x * `+C[1]+` + resTexRC.y;

      `+I+`

      int b = index / `+E+`;
      index -= b * `+E+`;

      int r = 2 * (index / `+b+`);
      int c = imod(index, `+b+`) * 2;

      return ivec`+x.length+"("+T+`);
    }
  `}(f,h)}var p,y,g,v,w}(t.logicalShape,u),a=function(f){return`
    void setOutput(vec4 val) {
      `+f.output+` = val;
    }
  `}(l)):(i=function(f,h){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(g,v){return v[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+v[1]+`.0);
      }
    `:v[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+v[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+v[0]+", "+v[1]+`));
      return resTexRC.x * `+v[1]+` + resTexRC.y;
    }
  `}(0,h);case 2:return function(g,v){return Mt(g,v)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+v[0]+", "+v[1]+`));
      }
    `:g[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+v[0]+", "+v[1]+`));
        int index = resTexRC.x * `+v[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:g[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+v[0]+", "+v[1]+`));
        int index = resTexRC.x * `+v[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+v[0]+", "+v[1]+`));
      int index = resTexRC.x * `+v[1]+` + resTexRC.y;
      int r = index / `+g[1]+`;
      int c = index - r * `+g[1]+`;
      return ivec2(r, c);
    }
  `}(f,h);case 3:return p=h,y=aa(["r","c","d"],f),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+p[0]+", "+p[1]+`));
      int index = resTexRC.x * `+p[1]+` + resTexRC.y;
      `+y+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(g,v){var w=aa(["r","c","d","d2"],g);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+v[0]+", "+v[1]+`));
      int index = resTexRC.x * `+v[1]+` + resTexRC.y;
      `+w+`
      return ivec4(r, c, d, d2);
    }
  `}(f,h);case 5:return function(g,v){var w=aa(["r","c","d","d2","d3"],g);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+v[0]+`,
                             `+v[1]+`));

      int index = resTexRC.x * `+v[1]+` + resTexRC.y;

      `+w+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(f,h);case 6:return function(g,v){var w=aa(["r","c","d","d2","d3","d4"],g);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+v[0]+", "+v[1]+`));
      int index = resTexRC.x * `+v[1]+` + resTexRC.y;

      `+w+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(f,h);default:throw new Error(f.length+"-D output sampling is not yet supported")}var p,y}(t.logicalShape,u),a=function(f){return`
    void setOutput(float val) {
      `+f.output+` = vec4(val, 0, 0, 0);
    }
  `}(l)),r&&(d+=cV),[d,c,a,A,i,s,n].join(`
`)}function Ga(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+o+"() {return "+r+";}";var i=n.shapeInfo.texShape,a=i[0],A=i[1];if(a===1&&A===1)return`
      float `+o+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var s=n.shapeInfo.texShape,u=s[0],l=s[1],c=Ki(r);return`
    float `+o+`() {
      vec2 uv = uvFromFlat(`+u+", "+l+", "+c+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 1:return function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+o+`(int index) {
        `+Na(n)+`
      }
    `;var i=n.shapeInfo.texShape,a=i[0],A=i[1];if(A===1&&a===1)return`
      float `+o+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var s=Ki(r);return A===1?`
      float `+o+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+s+") + 0.5) / "+a+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:a===1?`
      float `+o+`(int index) {
        vec2 uv = vec2((float(index + `+s+") + 0.5) / "+A+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+o+`(int index) {
      vec2 uv = uvFromFlat(`+a+", "+A+", index + "+s+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 2:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=n.shapeInfo.texShape;if(a!=null&&Mt(r,a)){var A=a[0],s=a[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+s+".0, "+A+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `}var u=Zi(r),l=u.newShape,c=u.keptDims,d=l;if(d.length<r.length){var f=za(n,d);return`
      `+Ga(f)+`
      float `+i+`(int row, int col) {
        return `+i+"("+$a(["row","col"],c)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+Na(n)+`
      }
    `;var h=a[0],p=a[1],y=Ki(o);return p===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+h+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `:h===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+p+`.0, 0.5);
      return sampleTexture(`+o+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+y+`;
    vec2 uv = uvFromFlat(`+h+", "+p+`, index);
    return sampleTexture(`+o+`, uv);
  }
`}(e);case 3:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=r[1]*r[2],A=r[2],s=Zi(r),u=s.newShape,l=s.keptDims,c=u;if(c.length<r.length){var d=za(n,c);return`
        `+Ga(d)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+$a(["row","col","depth"],l)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+a+", "+A+`, 1)));
        `+Na(n)+`
      }
    `;var f=n.shapeInfo.texShape,h=f[0],p=f[1],y=n.shapeInfo.flatOffset;if(p===a&&y==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+A+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+p+".0, "+h+`.0);
          return sampleTexture(`+o+`, uv);
        }
      `;if(p===A&&y==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+p+".0, "+h+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `;var g=Ki(o);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+a+" + col * "+A+" + depth + "+g+`;
        vec2 uv = uvFromFlat(`+h+", "+p+`, index);
        return sampleTexture(`+o+`, uv);
      }
  `}(e);case 4:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=r[3],A=r[2]*a,s=r[1]*A,u=Zi(r),l=u.newShape,c=u.keptDims;if(l.length<r.length){var d=za(n,l);return`
      `+Ga(d)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+$a(["row","col","depth","depth2"],c)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+s+", "+A+", "+a+`, 1)));
        `+Na(n)+`
      }
    `;var f=n.shapeInfo.flatOffset,h=n.shapeInfo.texShape,p=h[0],y=h[1];if(y===s&&f==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+A+", "+a+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+y+".0, "+p+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(y===a&&f==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+y+".0, "+p+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var g=Ki(o);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+s+" + col * "+A+` +
          depth * `+a+` + depth2;
      vec2 uv = uvFromFlat(`+p+", "+y+", index + "+g+`);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);case 5:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=r[4],A=r[3]*a,s=r[2]*A,u=r[1]*s,l=Zi(r),c=l.newShape,d=l.keptDims;if(c.length<r.length){var f=za(n,c);return`
      `+Ga(f)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+$a(["row","col","depth","depth2","depth3"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+u+", "+s+", "+A+", "+a+`)) +
          depth3;
        `+Na(n)+`
      }
    `;var h=n.shapeInfo.flatOffset,p=n.shapeInfo.texShape,y=p[0],g=p[1];if(g===u&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+s+", "+A+", "+a+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+g+".0, "+y+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(g===a&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+g+".0, "+y+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var v=Ki(o);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+" + depth * "+A+` +
          depth2 * `+a+" + depth3 + "+v+`;
      vec2 uv = uvFromFlat(`+y+", "+g+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);case 6:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=Zi(r),A=a.newShape,s=a.keptDims;if(A.length<r.length){var u=za(n,A);return`
      `+Ga(u)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+$a(["row","col","depth","depth2","depth3","depth4"],s)+`);
      }
    `}var l=r[5],c=r[4]*l,d=r[3]*c,f=r[2]*d,h=r[1]*f;if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+h+", "+f+", "+d+", "+c+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+l+`, 1)));
        `+Na(n)+`
      }
    `;var p=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,g=y[0],v=y[1];if(v===h&&p==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+f+", "+d+", "+c+", "+l+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+v+".0, "+g+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(v===l&&p==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+v+".0, "+g+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var w=Ki(o);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+h+" + col * "+f+" + depth * "+d+` +
          depth2 * `+c+" + depth3 * "+l+" + depth4 + "+w+`;
      vec2 uv = uvFromFlat(`+g+", "+v+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function uU(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=an(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return function(o){var i=o.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),A=o.shapeInfo.texShape,s=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)],u=an();return`
    vec4 `+a+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+s[0]+", "+s[1]+`, index);
      return `+u.texture2D+"("+i+`, uv);
    }
  `}(e);case 2:return function(o){var i=o.shapeInfo.logicalShape,a=o.name,A="get"+a.charAt(0).toUpperCase()+a.slice(1),s=o.shapeInfo.texShape,u=s[0],l=s[1],c=an();if(s!=null&&Mt(i,s))return`
      vec4 `+A+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+l+".0, "+u+`.0);

        return `+c.texture2D+"("+a+`, uv);
      }
    `;var d=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],f=Math.ceil(i[1]/2);return`
    vec4 `+A+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+f+", "+d[0]+", "+d[1]+`, row, col);
      return `+c.texture2D+"("+a+`, uv);
    }
  `}(e);case 3:return function(o){var i=o.shapeInfo.logicalShape,a=o.name,A="get"+a.charAt(0).toUpperCase()+a.slice(1),s=o.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(i[0]===1){var l=i.slice(1),c=za(o,l);return`
        `+uU(c)+`
        vec4 `+A+`(int b, int row, int col) {
          return `+A+"("+$a(["b","row","col"],[1,2])+`);
        }
      `}var d=u[0],f=u[1],h=Math.ceil(i[2]/2),p=h*Math.ceil(i[1]/2),y=an();return`
    vec4 `+A+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+d+", "+f+", "+p+", "+h+`, b, row, col);
      return `+y.texture2D+"("+a+`, uv);
    }
  `}(e);default:return function(o){for(var i=o.shapeInfo.logicalShape,a=i.length,A=o.name,s="get"+A.charAt(0).toUpperCase()+A.slice(1),u=o.shapeInfo.texShape,l=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],c=l[0],d=l[1],f=Math.ceil(i[a-1]/2),h=f*Math.ceil(i[a-2]/2),p="int b, int row, int col",y="b * "+h+" + (row / 2) * "+f+" + (col / 2)",g=2;g<a-1;g++)p="int b"+g+", "+p,h*=i[a-g-1],y="b"+g+" * "+h+" + "+y;var v=an();return`
    vec4 `+s+"("+p+`) {
      int index = `+y+`;
      int texR = index / `+d+`;
      int texC = index - texR * `+d+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+d+", "+c+`);
      return `+v.texture2D+"("+A+`, uv);
    }
  `}(e)}}var sV=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,uV=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,lV=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,cV=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Ki(e){return"offset"+e}function Na(e){var t=e.name,n=ue(e.shapeInfo.logicalShape);return n<2?"return "+t+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function ze(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function za(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function $a(e,t){return t.map(function(n){return e[n]}).join(", ")}var dV=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,U(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,A,s=this.outputShape,u=s.length,l=ze(u),c=Cn("coords",u);if(i===1){var d=ze(A=u+1);a=`
        `+d+" sourceLocR = "+d+"("+c.join()+`, 0);
        ++`+c[u-1]+`;
        `+d+" sourceLocG = "+d+"("+c.join()+`, 0);
        ++`+c[u-2]+`;
        `+d+" sourceLocA = "+d+"("+c.join()+`, 0);
        --`+c[u-1]+`;
        `+d+" sourceLocB = "+d+"("+c.join()+`, 0);
        --`+c[u-2]+";"}else A=u,a=`
        `+l+` sourceLocR = coords;
        ++`+c[u-1]+`;
        `+l+` sourceLocG = coords;
        ++`+c[u-2]+`;
        `+l+` sourceLocA = coords;
        --`+c[u-1]+`;
        `+l+` sourceLocB = coords;
        --`+c[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,A),h="."+f[A-1],p=f.map(function(E){return"int "+E}),y=Cn("sourceLocR",A-1).concat("inIdx.r"),g=Cn("sourceLocG",A-1).concat("inIdx.g"),v=Cn("sourceLocB",A-1).concat("inIdx.b"),w=Cn("sourceLocA",A-1).concat("inIdx.a"),x=n==="max"?"greaterThan":"lessThan",B=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+y.join()+`),
                             getBestIndicesAChannel(`+g.join()+`),
                             getBestIndicesAChannel(`+v.join()+`),
                             getBestIndicesAChannel(`+w.join()+")));",C=`vec4(
            getAChannel(`+y.join()+`),
            hasNextCol ? getAChannel(`+g.join()+`) : 0.,
            hasNextRow ? getAChannel(`+v.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+w.join()+") : 0.)",b=r?"":`
      float getBestIndicesAChannel(`+p.join()+`) {
        return getChannel(getBestIndicesA(`+f.join()+`),
                                          vec2(`+f.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+p.join()+`) {
        return getChannel(getA(`+f.join()+`),
                               vec2(`+f.slice(-2).join()+`));
      }
      `+b+`
      void main() {
        `+l+` coords = getOutputCoords();
        bool hasNextCol = `+c[u-1]+" < "+(s[u-1]-1)+`;
        bool hasNextRow = `+c[u-2]+" < "+(s[u-2]-1)+`;
        `+a+`
        ivec4 srcIdx = ivec4(sourceLocR`+h+", sourceLocG"+h+`,
          sourceLocB`+h+", sourceLocA"+h+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+C+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+B+`
          vec4 candidate = `+C+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+x+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},fV=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,A=e.effectiveFilterHeight,s=e.effectiveFilterWidth,u=A-1-e.padInfo.top,l=s-1-e.padInfo.left,c=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+l+`);
      const float avgMultiplier = float(`+c+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+A+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+s+`;
            wC+= `+a+`) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},hV=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,A=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=l-1-e.padInfo.front,h=c-1-e.padInfo.top,p=d-1-e.padInfo.left,y=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);
      const float avgMultiplier = float(`+y+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+l+`;
            wD += `+A+`) {
          float dyD = float(dyDCorner + wD) / `+o+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+c+`;
              wR += `+s+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+u+`) {
              float dyC = float(dyCCorner + wC) / `+a+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},pV=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Ee(e,t),Ee(e,n);var a="0.0";r!=null&&(Ee(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var A="1.0";o!=null&&(Ee(e,o),this.variableNames.push("scale"),A="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+a+`;
        float scale = `+A+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},gV=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ee(e,t),Ee(e,n);var a="vec4(0.0)";r!=null&&(Ee(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var A="vec4(1.0)";o!=null&&(Ee(e,o),this.variableNames.push("scale"),A="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+a+`;
        vec4 scale = `+A+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},mV="return areal * breal - aimag * bimag;",vV="return areal * bimag + aimag * breal;",oC=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ee(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},Xp="return a + b;",Yp="return a - b;",iC="return a * b;",lU="return (a < 0.) ? b * a : a;",At=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Ee(t,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},cU=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,Bo=function(e,t,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ee(t,n);var o=this.outputShape.length,i="";if(r)if(o===0||ue(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+ze(o)+` coords = getOutputCoords();
        `,o===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var a=Cn("coords",o);i+=`
            bool nextRowOutOfBounds =
              (`+a[o-2]+" + 1) >= "+this.outputShape[o-2]+`;
            bool nextColOutOfBounds =
              (`+a[o-1]+" + 1) >= "+this.outputShape[o-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},yV=function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(o,i){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(i,"maxVal")),o.gl.uniform1f(r.minLoc,t),o.gl.uniform1f(r.maxLoc,n)}},e}(),wV=function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(o,i){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(i,"maxVal")),o.gl.uniform1f(r.minLoc,t),o.gl.uniform1f(r.maxLoc,n)}},e}(),xV=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},BV=function(e){this.outputShape=[],this.outputShape=WA(e,1),this.variableNames=e.map(function(A,s){return"T"+s});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},CV=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=WA(e,t);var n=this.outputShape,r=n.length,o=ze(r),i=Cn("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(y,g){return"T"+g});var A=new Array(e.length-1);A[0]=e[0][t];for(var s=1;s<A.length;s++)A[s]=A[s-1]+e[s][t];var u=a[t],l=a.slice(-2),c=a.join(),d="if ("+u+" < "+A[0]+`) {
        return getChannel(
            getT0(`+c+"), vec2("+l.join()+`));
        }`;for(s=1;s<A.length;s++){var f=A[s-1];d+=`
        if (`+u+" < "+A[s]+"  && "+u+" >= "+A[s-1]+`) {
          return getChannel(
            getT`+s+"("+Xl(a,u,f)+`),
            vec2(`+Xl(l,u,f)+`));
        }`}var h=A.length,p=A[A.length-1];d+=`
        return getChannel(
          getT`+h+"("+Xl(a,u,p)+`),
          vec2(`+Xl(l,u,p)+"));",this.userCode=`
      float getValue(`+a.map(function(y){return"int "+y})+`) {
        `+d+`
      }

      void main() {
        `+o+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[r-1]+" = "+i[r-1]+` + 1;
        if (`+i[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[r-2]+" = "+i[r-2]+` + 1;
        if (`+i[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[r-1]+" = "+i[r-1]+` - 1;
        if (`+i[r-2]+" < "+n[r-2]+` &&
            `+i[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function Xl(e,t,n){var r=e.indexOf(t);return e.map(function(o,i){return i===r?o+" - "+n:o}).join()}var bV=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},EV=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dataFormat==="channelsLast",a=t-1-e.padInfo.top,A=n-1-e.padInfo.left,s=i?1:2,u=i?2:3,l=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+A+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+l+`];

        ivec2 dyCorner = ivec2(coords[`+s+"], coords["+u+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},FV=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+o+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+a+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},IV=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,A=t-1-e.padInfo.front,s=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+A+", "+s+", "+u+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+o+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+a+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},SV=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},UV=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,A=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+A+`; dm++) {
              int d2 = d1 * `+A+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},aC=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,A=e.strideWidth,s=e.dilationHeight,u=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,d=4*Math.floor(e.inChannels/4),f=e.inChannels%4,h=e.dataFormat==="channelsLast",p=h?1:2,y=h?2:3,g=h?3:1,v="",w="";n&&(v=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,w="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+v+`

      const ivec2 strides = ivec2(`+a+", "+A+`);
      const ivec2 pads = ivec2(`+o+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+g+`];

        ivec2 xRCCorner =
            ivec2(coords[`+p+"], coords["+y+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+l+`; wR++) {
          int xR = xRCorner + wR * `+s+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+c+`; wC++) {
            int xC = xCCorner + wC * `+u+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+d+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+h+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(f===1)+`) {

              if (`+h+`) {
                dotProd +=
                    getX(batch, xR, xC, `+d+`) *
                    getW(wR, wC, `+d+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+d+`, xR, xC) *
                    getW(wR, wC, `+d+`, d2);
              }

            } else if (`+(f===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2)
              );

              if (`+h+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(f===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2),
                getW(wR, wC, `+d+` + 2, d2)
              );

              if (`+h+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1),
                  getX(batch, xR, xC, `+d+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC),
                  getX(batch, `+d+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+x+`
        `+w+`
        setOutput(result);
      }
    `},QV=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,A=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,l=e.filterDepth,c=e.filterHeight,d=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+o+", "+i+", "+a+`);
      const ivec3 pads = ivec3(`+t+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+l+`; wF++) {
          int xF = xFCorner + wF * `+A+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+c+`; wR++) {
            int xR = xRCorner + wR * `+s+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`; wC++) {
              int xC = xCCorner + wC * `+u+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+f+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(h===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+f+`) *
                  getW(wF, wR, wC, `+f+`, d2);
              } else if (`+(h===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(h===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1),
                  getX(batch, xF, xR, xC, `+f+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2),
                  getW(wF, wR, wC, `+f+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},AC=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,A=e.padInfo.left,s=e.strideHeight,u=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=e.outChannels/e.inChannels,p="",y="";n&&(p=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,y="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+p+`

      const ivec2 strides = ivec2(`+s+", "+u+`);
      const ivec2 pads = ivec2(`+a+", "+A+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+h+`;
        int q = d2 - d1 * `+h+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+l+`;

          if (xR < 0 || xR >= `+o+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+c+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+g+`
        `+y+`
        setOutput(result);
      }
    `},sC=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,A=e.padInfo.left,s=e.strideHeight,u=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=f,p="int xR; int xC; int xCOffset;",y=0;y<d;y++)for(var g=0;g<f;g++)p+=`
          vec4 xTexelR`+y+"C"+2*g+` = vec4(0.);
          vec4 wR`+y+"C"+g+` = vec4(0.);
          vec4 xR`+y+"C"+g+" = vec4(0.);";for(y=0;y<d;y++)for(var v=0;v<h;v++){if(p+=`
          xR = xRCorner + `+y*l+`;
          xC = xCCorner + `+(g=2*v)*c+`;
        `,u===1){if(g<f&&(p+=A%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+y+"C"+g+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+y+"C"+g+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+y+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+y+"C"+g+" = vec4(previous.zw, xTexelR"+y+"C"+g+`.xy);
                } else {
                  xR`+y+"C"+g+" = vec4(0, 0, xTexelR"+y+"C"+g+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+o+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+y+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+g+` = vec4(0.);
                }

                xR`+y+"C"+g+" = xTexelR"+y+"C"+g+`;
              `,g+1<f)){var w=A%2==0?US(c):c;c%2==0&&A%2==1||c%2!=0&&A%2!=1?(p+=`
                  xCOffset = xC + `+A%2+" + "+w+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,c>1&&(p+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+o+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+y+"C"+g+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+y+"C"+g+` = vec4(0.);
                    }
                  `),p+=`
                  xR`+y+"C"+(g+1)+` = vec4(
                    xTexelR`+y+"C"+g+".zw, xTexelR"+y+"C"+(g+2)+`.xy);
                `):p+=`
                  xCOffset = xC + `+w+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+y+"C"+(g+1)+" = xTexelR"+y+"C"+(g+2)+`;
                `}}else g<f&&(p+=`
              if(xR >= 0 && xR < `+o+`) {
            `,A%2==1?(p+=`
                xCOffset = xC + 1 - `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+g+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+g+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+y+"C"+(g+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+y+"C"+(g+2)+` = vec4(0.);
                }

                xR`+y+"C"+g+` = vec4(
                  xTexelR`+y+"C"+g+".zw, xTexelR"+y+"C"+(g+2)+`.zw);
              `,g+1<f&&(p+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+u+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+y+"C"+(g+1)+" = vec4(xTexelR"+y+"C"+(g+2)+`.xy, final.xy);
                `)):(p+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+y+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+(g+2)+` = vec4(0.);
                }

                xR`+y+"C"+g+` = vec4(
                  xTexelR`+y+"C"+g+".xy, xTexelR"+y+"C"+(g+2)+`.xy);
              `,g+1<f&&(p+=`
                  xR`+y+"C"+(g+1)+` = vec4(
                    xTexelR`+y+"C"+g+".zw, xTexelR"+y+"C"+(g+2)+`.zw);
                `)),p+="}");g<f&&(p+=`
            vec4 wTexelR`+y+"C"+g+" = getW("+y+", "+g+`, d1, q);
            wR`+y+"C"+g+" = vec4(wTexelR"+y+"C"+g+".xz, wTexelR"+y+"C"+g+`.xz);
          `,g+1<f&&(p+=`
              vec4 wTexelR`+y+"C"+(g+1)+" = getW("+y+", "+(g+1)+`, d1, q);
              wR`+y+"C"+(g+1)+` =
                vec4(wTexelR`+y+"C"+(g+1)+".xz, wTexelR"+y+"C"+(g+1)+".xz);"))}for(y=0;y<d;y++)for(g=0;g<f;g++)p+="dotProd += xR"+y+"C"+g+" * wR"+y+"C"+g+";";var x="",B="";n&&(x=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,B="result = activation(result);");var C=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+s+", "+u+`);
      const ivec2 pads = ivec2(`+a+", "+A+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+p+`

        vec4 result = dotProd;
        `+C+`
        `+B+`
        setOutput(result);
      }
    `},TV=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],A=e[2],s=e[3],u=t[0],l=n[0],c=n[1];this.outputShape=[u,l,c,s];var d=r==="bilinear"?1:0,f=[a-1+".0",A-1+".0"],h=f[0],p=f[1],y=l>1?[""+(a-1)/(l-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=y[0],v=y[1],w=y[2],x=c>1?[""+(A-1)/(c-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p],B=x[0],C=x[1],b=x[2];this.userCode=`
      const float height_ratio = float(`+g+`);
      const float width_ratio = float(`+B+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+v+`;
        float width_scale = `+C+`;

        float in_y = `+w+`;
        if( in_y < 0.0 || in_y > `+h+` ) {
          setOutput(float(`+o+`));
          return;
        }
        float in_x = `+b+`;
        if( in_x < 0.0 || in_x > `+p+` ) {
          setOutput(float(`+o+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+d+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},kV=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+o+" -i - 1;":"return i;")+`
      }

      void main() {
        `+ze(r)+` coords = getOutputCoords();
        int end = `+uC(r,"coords")+`;
        float val = 0.0;
        for (int i = `+o+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+uC(r,"coords")+` = idx;
          val += getX(`+function(a,A){if(a===1)return""+A;if(a===2)return A+".x, "+A+".y";if(a===3)return A+".x, "+A+".y, "+A+".z";if(a===4)return A+".x, "+A+".y, "+A+".z, "+A+".w";throw Error("Cumulative sum for rank "+a+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function uC(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var _V=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Du.DENSE;var t=Zs(e),n=an();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+aa(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},RV=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Du.DENSE;var t=Zs(e),n=an();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+aa(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},DV=function(){function e(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),NV=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},MV=function(e){this.variableNames=["A"],this.outTexUsage=On.DOWNLOAD;var t=an();this.outputShape=e,this.userCode=`
      `+sU+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},PV=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=On.DOWNLOAD;var t=an();this.outputShape=e,this.userCode=`
      `+sU+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},LV=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=an(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode=`
      `+$y(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+o+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+a+`, 0., 0., 0.);
      }
    `},HV=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=an(),o=t[0],i=t[1];this.outputShape=e;var a="",A="result";n&&(A="floor(result * 255. + 0.5)");for(var s=0;s<=1;s++)for(var u=0;u<=1;u++){var l=2*s+u;a+=`
          localCoords = coords;
          if(localCoords[2] + `+u+" < "+e[2]+`) {
            localCoords[2] += `+u+`;
            if(localCoords[1] + `+s+" < "+e[1]+`) {
              localCoords[1] += `+s+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+o+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+l+`] = values[0];
              } else if(offset == 1) {
                result[`+l+`] = values[1];
              } else if(offset == 2) {
                result[`+l+`] = values[2];
              } else {
                result[`+l+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+$y(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+a+`

        `+r.output+" = "+A+`;
      }
    `},OV="return real * expR - imag * expI;",jV="return real * expI + imag * expR;",lC=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+o+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},VV=function(){function e(t,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,o){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(o,"value")),r.gl.uniform1f(n.valueLoc,t)}},e}(),KV=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=ze(this.rank),i=function(a,A){var s=a.length;if(s>4)throw Error("Gather for rank "+s+" is not yet supported");if(s===1)return"int(getIndices(resRC))";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=0;c<a.length;c++)c===A?l.push("int(getIndices("+u[c]+"))"):l.push(""+u[c]);return l.join()}(e,n);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},WV=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=ze(t.length),o=ze(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+o+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function GV(e,t){var n=an();return O5(e,t,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function zV(e,t){return G5(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function $V(e,t){return z5(e,t,new Uint16Array([0,1,2,2,1,3]))}function al(e,t,n,r,o,i,a){X5(n,r);var A=$5(e,t),s=e.TEXTURE_2D;return le(e,t,function(){return e.bindTexture(s,A)}),le(e,t,function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),le(e,t,function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),le(e,t,function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)}),le(e,t,function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)}),le(e,t,function(){return e.texImage2D(s,0,o,n,r,0,i,a,null)}),le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),A}function XV(e,t,n,r,o){var i=wh(n,r);return al(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function YV(e,t,n,r,o){var i=wh(n,r);return al(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function qV(e,t,n,r,o){var i=wh(n,r);return al(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function JV(e,t,n,r,o){var i=il(n,r);return al(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function ZV(e,t,n,r,o){var i=il(n,r);return al(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function eK(e,t,n,r){return le(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),qB(e,t,n,"clipSpacePos",r,3,20,0)&&qB(e,t,n,"uv",r,2,20,12)}function tK(e,t,n,r,o,i,a){var A,s,u;le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),i instanceof Uint8Array?(A=new Uint8Array(r*o*4),s=e.UNSIGNED_BYTE,u=e.RGBA):(A=new Float32Array(r*o*4),s=e.FLOAT,u=a.internalFormatPackedFloat),A.set(i),le(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,o,0,e.RGBA,s,A)}),le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function nK(e,t,n,r){le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?le(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):le(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),le(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function rK(e,t,n,r,o){var i=e.createBuffer();le(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var a=16*n*r;return le(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)}),le(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),le(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function oK(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function iK(e,t,n,r,o){var i=wh(n,r),a=i[0],A=i[1],s=new Uint8Array(n*r*4);return le(e,t,function(){return e.readPixels(0,0,a,A,o.downloadTextureFormat,e.UNSIGNED_BYTE,s)}),new Float32Array(s.buffer)}function aK(e,t,n,r,o,i,a,A){var s=e,u=new Float32Array(function(l,c){var d=il(l,c);return d[0]*d[1]*4}(i,a));return s.bindBuffer(s.PIXEL_PACK_BUFFER,t),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,u),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),u}function AK(e,t,n,r){var o=new Float32Array(n*r*4);return le(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)}),o}var sK=function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=G().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,N5(n,t)):this.gl=co(n);var r="WEBGL_color_buffer_float";if(G().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=Wl(this.gl,this.debug,"OES_texture_float"),hr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Wl(this.gl,this.debug,"OES_texture_half_float");else if(G().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),hr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Wl(this.gl,this.debug,"EXT_color_buffer_half_float");else if(G().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",hr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!hr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=zV(this.gl,this.debug),this.indexBuffer=$V(this.gl,this.debug),this.framebuffer=Y5(this.gl,this.debug),this.textureConfig=Py(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return G().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;le(n,this.debug,function(){return n.finish()}),le(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),le(n,this.debug,function(){return n.deleteFramebuffer(t.framebuffer)}),le(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),le(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),le(n,this.debug,function(){return n.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,n){return this.throwIfDisposed(),XV(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,n){return this.throwIfDisposed(),YV(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,n){return this.throwIfDisposed(),qV(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,n){this.throwIfDisposed(),nK(this.gl,this.debug,t,n)},e.prototype.uploadDenseMatrixToTexture=function(t,n,r,o){this.throwIfDisposed(),tK(this.gl,this.debug,t,n,r,o,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,n){return this.throwIfDisposed(),ZV(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,n){return this.throwIfDisposed(),JV(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var n=this;this.throwIfDisposed(),this.outputTexture===t&&(JB(this.gl,this.debug,this.framebuffer),this.outputTexture=null),le(this.gl,this.debug,function(){return n.gl.deleteTexture(t)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,n,r){var o=this;return this.downloadMatrixDriver(t,function(){return iK(o.gl,o.debug,n,r,o.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(t,n,r,o,i,a){return aK(this.gl,t,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,n){return oK(this.gl,t,n)},e.prototype.createBufferFromTexture=function(t,n,r){this.bindTextureToFrameBuffer(t);var o=rK(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var n,r,o=this;if(G().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var A=i.clientWaitSync(a,0,0);return A===i.ALREADY_SIGNALED||A===i.CONDITION_SATISFIED},n=a}else G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return o.isQueryAvailable(n,G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(t,n,r){var o=this;return this.downloadMatrixDriver(t,function(){return AK(o.gl,o.debug,n,r)})},e.prototype.createProgram=function(t){this.throwIfDisposed();var n=this.gl,r=j5(n,this.debug,t),o=GV(n,this.debug),i=K5(n,this.debug);return le(n,this.debug,function(){return n.attachShader(i,o)}),le(n,this.debug,function(){return n.attachShader(i,r)}),W5(n,this.debug,i),this.debug&&Wp(n,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=eK(n,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(t){var n=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&le(this.gl,this.debug,function(){return n.gl.deleteProgram(t)})},e.prototype.setProgram=function(t){var n=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&Wp(this.gl,this.debug,this.program),le(this.gl,this.debug,function(){return n.gl.useProgram(t)})},e.prototype.getUniformLocation=function(t,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?J5(this.gl,this.debug,t,n):Z5(this.gl,t,n)},e.prototype.getAttributeLocation=function(t,n){var r=this;return this.throwIfDisposed(),le(this.gl,this.debug,function(){return r.gl.getAttribLocation(t,n)})},e.prototype.getUniformLocationNoThrow=function(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)},e.prototype.setInputMatrixTexture=function(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),ej(this.gl,this.debug,this.program,t,n,r)},e.prototype.setOutputMatrixTexture=function(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)},e.prototype.setOutputPackedMatrixTexture=function(t,n,r){this.throwIfDisposed();var o=il(n,r),i=o[0],a=o[1];this.setOutputMatrixTextureDriver(t,i,a)},e.prototype.setOutputMatrixWriteRegion=function(t,n,r,o){this.setOutputMatrixWriteRegionDriver(r,t,o,n)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,n,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&Wp(this.gl,this.debug,this.program),Gl(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),le(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),le(this.gl,this.debug,function(){return t.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Wl(this.gl,this.debug,G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,r),r}var o=this.getQueryTimerExtensionWebGL1(),i=o.createQueryEXT();return o.beginQueryEXT(o.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return ae(this,void 0,void 0,function(){var n=this;return Ae(this,function(r){switch(r.label){case 0:return[4,WB(function(){return n.disposed||n.isQueryAvailable(t,G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(t,G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(t,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}var o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(t,o.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,n){if(n===0)return!0;if(n===2){var r=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(o=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,o.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(t){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return t.isFencePassed()},function(){return r()})})},e.prototype.pollItems=function(){for(var t=function(r){for(var o=0;o<r.length&&r[o]();++o);return o-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=t;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,n){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1||WB(function(){return r.pollItems(),r.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Gp(this.gl,this.debug,t,this.framebuffer),this.debug&&Gl(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(Gp(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Gl(this.gl)):JB(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,n){this.bindTextureToFrameBuffer(t);var r=n();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(t,n,r){this.throwIfDisposed();var o=this.gl;Gp(o,this.debug,t,this.framebuffer),this.debug&&Gl(o),this.outputTexture=t,le(o,this.debug,function(){return o.viewport(0,0,n,r)}),le(o,this.debug,function(){return o.scissor(0,0,n,r)})},e.prototype.setOutputMatrixWriteRegionDriver=function(t,n,r,o){var i=this;this.throwIfDisposed(),le(this.gl,this.debug,function(){return i.gl.scissor(t,n,r,o)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function cC(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(n,r){var o=n.logicalShape,i=t[r],a=i.shape;if(!Mt(o,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+o+" and "+a+" must match");if(!n.isUniform||!i.isUniform){var A=n.texShape,s=i.isUniform?null:i.texData.texShape;if(!Mt(A,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+A+" and "+s+" must match")}})}var uK=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,A=n.padInfo,s=n.outWidth,u=n.dilationWidth,l=n.dilationHeight,c=n.dataFormat,d=A.left,f=A.top,h=o*r,p=an(),y=c==="channelsLast",g=y?0:1,v=y?1:2,w="",x=0;x<=1;x++)for(var B=0;B<=1;B++)w+=`
          blockIndex = rc.y + `+B+`;
          pos = rc.x + `+x+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+s+")) * "+a+" - "+f+`;
            d0 = offsetY + `+l+" * (pos / "+h+`);

            if(d0 < `+t[g]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+s+".) * "+i+". - "+d+`.);
              d1 = offsetX + `+u+" * (int(mod(float(pos), "+h+".) / "+o+`.));

              if(d1 < `+t[v]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+o+`.));

                if (`+y+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*x+B)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*x+B)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+w+`

        `+p.output+` = result;
      }
    `},lK=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,A=e[3]-1;this.outputShape=e;var s="float("+n+") + float("+r+") * sum";i=o===.5?"inversesqrt("+s+")":o===1?"1.0/("+s+")":"exp(log("+s+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+a+"; j <= "+a+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+A+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},cK=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+o+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+o+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},dK=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,A=e[3]-1;this.outputShape=e;var s="float("+n+") + float("+r+") * sum";i=o===.5?"inversesqrt("+s+")":o===1?"1.0/("+s+")":"exp(log("+s+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+a+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+a+"; j <= "+a+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+A+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},fK=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,A=i-1-e.padInfo.left,s=o*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+A+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+s+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},hK=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,A=e.effectiveFilterDepth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=A-1-e.padInfo.front,c=s-1-e.padInfo.top,d=u-1-e.padInfo.left,f=A*s*u-1;this.userCode=`
      const ivec3 pads = ivec3(`+l+", "+c+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+A+`;
           wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+s+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+u+`;
                wC += `+a+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+f+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+s+" * "+u+` +
                  wR * `+u+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},qp=function(e,t,n,r,o,i,a){n===void 0&&(n=!1),r===void 0&&(r=!1),o===void 0&&(o=!1),i===void 0&&(i=null),a===void 0&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var A=n?e[1]:e[2],s=Math.ceil(A/2),u=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",c=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",h="";i&&(f=a?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,h="result = activation(result);");var p=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+f+`

      const float sharedDimension = `+s+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+s+`; i++) {
          vec4 a = getMatrixA(rc.x, `+u+`);
          vec4 b = getMatrixB(rc.x, `+l+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+c[0]+" * "+d[0]+`);
          result += (`+c[1]+" * "+d[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+p+`

        `+h+`

        setOutput(result);
      }
    `},pK=function(){function e(t,n,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,o){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(o,"seed")),r.gl.uniform1f(n.seedLoc,t)}},e}(),gK=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},mK=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=Cn("rc",t),r=ze(t),o=function(A,s,u){if(A===1)return"rc > "+s[0];for(var l="",c=A-2;c<A;c++)l+=u[c]+" >= "+s[c],c<A-1&&(l+="||");return l}(t,e,n),i=function(A,s,u,l){if(A===1)return"";var c=l.slice(-2);return`
    int r = `+c[0]+`;
    int c = `+c[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+s+`;
    bool rEdge = rp1 >= `+u+`;
  `}(t,e[e.length-1],e[e.length-2],n),a=function(A,s){var u=A.length,l=function(c,d){for(var f=[],h=0;h<=1;h++)for(var p=0;p<=1;p++){for(var y=(h===0?"r":"rp1")+", "+(p===0?"c":"cp1"),g=2;g<c;g++)y=d[d.length-1-g]+","+y;f.push(y)}return f}(u,s);return u===1?`getA(rc),
            rc + 1 >= `+A[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+l[0]+`),
          cEdge ? 0. : getA(`+l[1]+`),
          rEdge ? 0. : getA(`+l[2]+`),
          rEdge || cEdge ? 0. : getA(`+l[3]+")"}(e,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+o+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+a+`));
          }
        }
      `}},vK=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(s,u){return s[0]+e[u]+s[1]});var r=e.length,o=ze(r),i=t.map(function(s){return s[0]}).join(","),a=t.map(function(s,u){return s[0]+e[u]}).join(","),A=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+o+" start = "+o+"("+i+`);
      `+o+" end = "+o+"("+a+`);

      void main() {
        `+o+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+o+` coords = outC - start;
          setOutput(getX(`+A+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+a+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},yK=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(y,g){return y[0]+e[g]+y[1]});for(var r=e.length,o=ze(r),i=t.map(function(y){return y[0]}).join(","),a=t.map(function(y,g){return y[0]+e[g]}).join(","),A=Cn("rc",r),s=Cn("source",r),u=A[r-1]+" < "+this.outputShape[r-1],l=r===1?"source":"vec2("+s.slice(-2).join()+")",c=[o+" rc = outputLoc;",A[r-1]+` += 1;
       if(`+u+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+A[r-2]+` += 1;
       if(`+A[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+A[r-1]+` += 1;
         if(`+u+") {"],d=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",h=0,p=r===1?2:4;h<p;h++)f+=`
        `+c[h]+`
        if (`+d+`) {
          result[`+h+"] = float("+n+`);
        } else {
          `+o+` source = rc - start;
          result[`+h+"] = getChannel(getX("+s.join()+"), "+l+`);
        }
      `;f+=r===1?"} ":"}}",this.userCode=`
      const `+o+" start = "+o+"("+i+`);
      const `+o+" end = "+o+"("+a+`);

      void main() {
        `+o+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+f+`
        setOutput(result);
      }
    `},Jp=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,A=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=e.padInfo.top,c=e.padInfo.left;this.outputShape=e.outShape;var d=t==="avg",f="0.0";if(d||(f="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+o+", "+i+`);
        const ivec2 pads = ivec2(`+l+", "+c+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+s+`;
              wR += `+a+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+u+`;
                wC += `+A+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+u+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(h="avgValue / count");var p=4*Math.floor(r/4),y=r%4,g=`
      if (`+d+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+o+", "+i+`);
      const ivec2 pads = ivec2(`+l+", "+c+`);
      const float initializationValue = `+f+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+f+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+s+`;
            wR += `+a+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC += 4) {
            int xC = xCCorner + wC * `+A+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+A+`, d),
              getValue(batch, xR, xC + 2 * `+A+`, d),
              getValue(batch, xR, xC + 3 * `+A+`, d)
            );

            `+g+`
          }

          int xC = xCCorner + `+p+`;
          if (`+(y===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(y===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+A+`, d),
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(y===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+A+`, d),
              getValue(batch, xR, xC + 2 * `+A+`, d),
              initializationValue
            );

            `+g+`
          }
        }
        setOutput(`+h+`);
      }
    `}},Zp=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,A=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var y=t==="avg",g="0.0";if(y||(g="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+o+", "+i+", "+a+`);
        const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+l+`;
              wD += `+A+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+c+`;
                wR += `+s+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+d+`;
                  wC += `+u+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+c+" * "+d+` +
                      wR * `+d+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var v=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(v="avgValue / count");var w=4*Math.floor(r/4),x=r%4,B=`
      if (`+y+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+o+", "+i+", "+a+`);
      const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+l+`;
            wD += `+A+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+c+`;
            wR += `+s+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+w+`; wC += 4) {
              int xC = xCCorner + wC * `+u+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+u+`, ch)
              );

              `+B+`
            }

            int xC = xCCorner + `+w+`;
            if (`+(x===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+B+`
            } else if (`+(x===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                initializationValue,
                initializationValue
              );

              `+B+`
            } else if (`+(x===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                initializationValue
              );

              `+B+`
            }
          }
          setOutput(`+v+`);
        }
      }
    `}},wK=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",A="";t==="prod"?a="1.0":t==="min"?(a="1.0 / 1e-20",A="min"):t==="max"&&(a="-1.0 / 1e-20",A="max");var s=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?s="sumValue":t==="prod"?s="prodValue":t==="all"?s="allValue":t==="any"&&(s="anyValue");var u=4*Math.floor(n/4),l=n%4,c=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+A+`(values, minMaxValue);
      }
    `,d="vec4";t==="all"?(a="1.0",c=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):t==="any"&&(a="0.0",c=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");var f="";o%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+a+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+a+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+c+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(l===1)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+c+`
        } else if (`+(l===2)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+c+`
        } else if (`+(l===3)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+c+`
        }
        setOutput(`+s+`);
      }
    `},xK=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+=`
        `+o+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+aa(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+$y(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+n+`

        setOutput(result);
      }
    `},BK=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,A=a[1],s=a[2],u=[n&&A>1?o-1:o,n&&s>1?i-1:i],l=[n&&A>1?A-1:A,n&&s>1?s-1:s],c=u[0]/l[0],d=u[1]/l[1],f=1/c,h=1/d,p=2*Math.ceil(f)+2,y=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+c+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+A+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+s+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(o-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},CK=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],A=e[3];this.outputShape=[o,t,n,A];var s=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+s[0]/u[0]+`,
          `+s[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+a+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},bK=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],A=e[3];this.outputShape=[o,t,n,A];var s=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+s[0]/u[0]+`,
          `+s[1]/u[1]+`,
          `+s[1]/u[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+a+`.0,
                                     `+a+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(A-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},EK=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,A=a[1],s=a[2],u=[n&&A>1?o-1:o,n&&s>1?i-1:i],l=[n&&A>1?A-1:A,n&&s>1?s-1:s],c=u[0]/l[0],d=u[1]/l[1],f=1/c,h=1/d,p=2*Math.ceil(f)+2,y=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+c+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+A+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+s+`) {
              continue;
            }

            float sourceFracRow =
              float(`+u[0]+`) *
                (float(dyR) / float(`+l[0]+`));

            float sourceFracCol =
                float(`+u[1]+`) *
                  (float(dyC) / float(`+l[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+o+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},FK=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],A=e[3];this.outputShape=[o,t,n,A];var s=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+s[0]/u[0]+`,
          `+s[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+a+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+l+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},IK=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,n!==1){var r=e.map(function(i,a){return function(A){return t.indexOf(A)!==-1&&e[A]!==1?e[A]+" - coords["+A+"] - 1":"coords["+A+"]"}(a)}).join(","),o=ze(n);this.userCode=`
      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},SK=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Cn("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=ze(n);function A(s){var u=e.map(function(l,c){return function(d,f){return t.indexOf(d)!==-1&&e[d]!==1?e[d]+" - "+f[d]+" - 1":""+f[d]}(c,s)});return"getChannel(getX("+u.join(",")+"), vec2("+u.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+o+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+a+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(s){return A(s)}(r.slice())+`;
          if(`+o+`){
            result.g = `+function(s){return s[n-1]="("+s[n-1]+" + 1)",A(s)}(r.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(s){return s[n-2]="("+s[n-2]+" + 1)",A(s)}(r.slice())+`;
            if(`+o+`) {
              result.a = `+function(s){return s[n-1]="("+s[n-1]+" + 1)",s[n-2]="("+s[n-2]+" + 1)",A(s)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},dC=function(e,t,n,r,o,i,a){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var A=ze(o.length),s=ze(i.length),u="";n===1?u="i":n===2&&(u="i, j");var l="getIndices("+u+")",c="";r===1?c="i":r===2&&(c="i, coords[1]");var d="getUpdates("+c+")",f=t>1?"strides[j]":"strides";this.userCode=`
        `+A+" strides = "+A+"("+o+`);

        void main() {
          `+s+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+l+`);
              flattenedIndex += index * `+f+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+d+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},UK=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var A=4*Math.floor(n/4),s=n%4,u=`
        sumValue += dot(values, segFilter);
    `,l="";o%n>0&&(l=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `);var c="";o%n>0&&(c=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+l+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+c+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+A+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+u+`
        }

        int inIdx = inOffset + `+A+`;
        if (`+(s===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+u+`
        } else if (`+(s===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+u+`
        } else if (`+(s===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+u+`
        }
        setOutput(sumValue);
      }
    `},QK=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],A=[],s=0;s<t.length;s++)A.push(""+i[s]),s<e&&a.push(""+i[s]);r=a.join(),o=A.join()}var u=ze(n);this.userCode=`
      void main() {
        `+u+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+o+`));
        } else {
          setOutput(getB(`+o+`));
        }
      }
    `},TK=function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=ze(this.rank),o="uniform int start["+this.rank+"];",i=function(a){if(a===1)return"sourceLoc";if(a<=6)return eg.slice(0,a).map(function(A){return"sourceLoc."+A}).join(",");throw Error("Slicing for rank "+a+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+t.map(function(a,A){return"sourceLoc."+eg[A]+" = start["+A+"] + coords."+eg[A]+";"}).join(`
`)+`
      `,this.userCode=`
      `+o+`
      void main() {
        `+n+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),eg=["x","y","z","w","u","v"],kK=function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=ze(this.rank),r=Cn("coords",this.rank),o=Cn("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+o.slice(-2).join()+")",a="getChannel(getSource("+o.join()+"), "+i+")",A=`
      result.x = `+a+`;
      if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+o[this.rank-1]+`;
        result.y = `+a+`;
        --`+o[this.rank-1]+`;
      }
    `,s=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+o[this.rank-2]+`;
        result.z = `+a+`;
        if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+o[this.rank-1]+`;
          result.w = `+a+`;
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            `+n+"("+t.map(function(l,c){return"start["+c+"]"}).join()+");":t.map(function(l,c){return o[c]+" = "+r[c]+" + start["+c+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+u+`
        vec4 result = vec4(0.);
        `+A+`
        `+s+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),_K=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=ze(n.length),i=ze(n.length),a="";if(r===1)a="coords * strides + begin";else{var A=0;a=n.map(function(s,u){return A++,n.length===1?"coords * strides["+u+"] + begin["+u+"]":"coords["+(A-1)+"] * strides["+u+"] + begin["+u+"]"}).join(",")}this.userCode=`
      `+o+" begin = "+o+"("+e+`);
      `+o+" strides = "+o+"("+t+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+a+`));
      }
    `},RK=function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,n,r){var o,i=fC(n,r),a=hC(t,i,r);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var A=this.freeTextures[a].shift();return this.usedTextures[a].push(A),A}return this.numUsedTextures++,this.log(),i===Pn.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===Pn.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===Pn.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===Pn.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===Pn.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(o),o},e.prototype.releaseTexture=function(t,n,r,o){if(this.freeTextures!=null){var i=hC(n,fC(r,o),o);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],A=a.indexOf(t);if(A<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(A,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){t.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(o){t.gpgpu.deleteMatrixTexture(o)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function fC(e,t){if(e===On.UPLOAD)return Pn.PACKED_2X2_FLOAT32;if(e===On.RENDER||e==null)return function(n){return G().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Pn.PACKED_2X2_FLOAT32:Pn.UNPACKED_FLOAT32:n?Pn.PACKED_2X2_FLOAT16:Pn.UNPACKED_FLOAT16}(t);if(e===On.DOWNLOAD||e===On.PIXELS)return Pn.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function hC(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var DK=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=ze(this.rank),i=function(a){var A=a.length;if(A>5)throw Error("Tile for rank "+A+" is not yet supported");if(A===1)return"imod(resRC, "+a[0]+")";for(var s=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],u=[],l=0;l<a.length;l++)u.push("imod("+s[l]+", "+a[l]+")");return u.join()}(e);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},NK=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=ze(this.rank),i=function(a){var A=a.length;if(A>6)throw Error("Transpose for rank "+A+" is not yet supported");for(var s=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],u=new Array(A),l=0;l<a.length;l++)u[a[l]]=s[l];return u.join()}(t);this.userCode=`
    void main() {
      `+o+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},MK=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=ze(this.rank),i=AU("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var A="vec2("+a.slice(-2).join()+")",s="++"+i[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+a.join()+"), "+A+")";this.userCode=`
    void main() {
      `+o+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+u+`;
      if(`+s+`) {
        result[1] = `+u+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+u+`;
        if(`+s+`) {
          result[3] = `+u+`;
        }
      }
      setOutput(result);
    }
    `},Xy=1.7580993408473768,Yy=1.0507009873554805,Ce=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Hr="if (isnan(x)) return x;",PK="return x;",pC="return abs(x);",dU=Hr+`
  return (x < 0.0) ? 0.0 : x;
`,fU=Hr+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,hU="return (x >= 0.0) ? x : (exp(x) - 1.0);",LK=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+Xy+`;
  float scale = `+Yy+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,gC="return -x;",mC="return ceil(x);",vC="return floor(x);",yC="return exp(x);",wC="return exp(x) - 1.0;",HK=Hr+`
  return sin(x);
`,OK=Hr+`
  return cos(x);
`,jK=Hr+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,VK=Hr+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,KK=Hr+`
  return atan(x);
`,WK=Hr+"return log(x + sqrt(x * x + 1.0));",GK=Hr+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,zK=Hr+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Yl="return x;",$K="return x;",pU=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,gU=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,mU=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,xs=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},XK=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Cn("rc",t),r=ze(t),o=function(A,s){if(A===1)return"rc";for(var u="",l=0;l<A;l++)u+=s[l],l<A-1&&(u+=",");return u}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+o+`);

        setOutput(getChannel(packedInput, `+a+`));
      }
    `},ql={};function Jl(e,t){if(t===void 0&&(t=!1),e==="linear")return t?$K:PK;if(e==="relu")return t?pU:dU;if(e==="elu")return t?mU:hU;if(e==="relu6")return t?gU:fU;if(e==="prelu")return t?cU:lU;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var YK=600,qK=function(e){function t(n){var r,o=e.call(this)||this;if(o.pendingRead=new WeakMap,o.pendingDisposal=new WeakSet,o.dataRefCount=new WeakMap,o.numBytesInGPU=0,o.uploadWaitMs=0,o.downloadWaitMs=0,o.warnedAboutMemory=!1,o.pendingDeletes=0,o.disposed=!1,!G().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var i=co(G().getNumber("WEBGL_VERSION"));o.binaryCache=((r=G().getNumber("WEBGL_VERSION"))in ql||(ql[r]={}),ql[r]),o.gpgpu=new sK(i),o.canvas=i.canvas,o.gpgpuCreatedLocally=!0}else o.gpgpu=n,o.binaryCache={},o.gpgpuCreatedLocally=!1,o.canvas=n.gl.canvas;return o.textureManager=new RK(o.gpgpu),o.numMBBeforeWarning=G().global.screen==null?1024:G().global.screen.height*G().global.screen.width*window.devicePixelRatio*YK/1024/1024,o.texData=new JS(o,D),o}return Lr(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(n,r,o){if(G().getBool("DEBUG")&&this.checkNumericalProblems(n),o==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:r,dtype:o,values:n,usage:On.UPLOAD}),i},t.prototype.move=function(n,r,o,i){if(G().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:o,dtype:i,values:r,usage:On.UPLOAD})},t.prototype.readSync=function(n){var r=this.texData.get(n),o=r.values,i=r.dtype,a=r.complexTensors,A=r.slice,s=r.shape,u=r.isPacked;if(A!=null){var l=void 0;l=u?new xs(s,Yl):new Ce(s,Yl);var c=this.runWebGLProgram(l,[{dataId:n,shape:s,dtype:i}],i),d=this.readSync(c.dataId);return this.disposeData(c.dataId),d}if(o!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return o;var f,h,p=this.activeTimers!=null;return p&&(f=qr()),i==="complex64"?h=dv(a.real.dataSync(),a.imag.dataSync()):h=this.getValuesFromTexture(n),p&&(this.downloadWaitMs+=qr()-f),this.convertAndCacheOnCPU(n,h)},t.prototype.read=function(n){return ae(this,void 0,void 0,function(){var r,o,i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E;return Ae(this,function(F){switch(F.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(I){return r.push(I)})];if(o=this.texData.get(n),i=o.values,a=o.shape,A=o.slice,s=o.dtype,u=o.complexTensors,l=o.isPacked,A!=null)return c=void 0,c=l?new xs(a,Yl):new Ce(a,Yl),d=this.runWebGLProgram(c,[{dataId:n,shape:a,dtype:s}],s),f=this.read(d.dataId),this.disposeData(d.dataId),[2,f];if(i!=null)return[2,this.convertAndCacheOnCPU(n)];if(!G().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&G().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,s!=="complex64"&&G().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(n),y=this.texData.get(p.dataId),h=(E=this.gpgpu).createBufferFromTexture.apply(E,[y.texture].concat(Zs(a)))),this.pendingRead.set(n,[]),s==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:F.sent(),F.label=2;case 2:return s!=="complex64"?[3,4]:[4,Promise.all([u.real.data(),u.imag.data()])];case 3:return v=F.sent(),w=v[0],x=v[1],g=dv(w,x),[3,5];case 4:h==null?g=this.getValuesFromTexture(n):(B=ue(a),g=this.gpgpu.downloadFloat32MatrixFromBuffer(h,B)),F.label=5;case 5:return p!=null&&this.disposeData(p.dataId),C=this.convertAndCacheOnCPU(n,g),b=this.pendingRead.get(n),this.pendingRead.delete(n),b.forEach(function(I){return I(C)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,C]}})})},t.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var o=n[r];if(!L5(o))throw G().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+o+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+o+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(n){var r,o=this.texData.get(n),i=o.shape,a=o.dtype,A=o.isPacked,s=ue(i);if(G().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u=this.decode(n),l=this.texData.get(u.dataId),c=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[l.texture].concat(Zs(i))).subarray(0,s);return this.disposeData(u.dataId),c}var d=G().getBool("WEBGL_PACK")&&A===!0,f=d?zp(i):i,h=d?new PV(f):new MV(f),p=this.runWebGLProgram(h,[{shape:f,dtype:a,dataId:n}],"float32"),y=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture,y.texShape[0],y.texShape[1]).subarray(0,s);return this.disposeData(p.dataId),g},t.prototype.time=function(n){return ae(this,void 0,void 0,function(){var r,o,i,a,A,s,u;return Ae(this,function(l){switch(l.label){case 0:return r=this.activeTimers,o=[],i=!1,this.programTimersStack==null?(this.programTimersStack=o,i=!0):this.activeTimers.push(o),this.activeTimers=o,n(),a=VA(this.activeTimers.map(function(c){return c.query})).filter(function(c){return c!=null}),A=VA(this.activeTimers.map(function(c){return c.name})).filter(function(c){return c!=null}),this.activeTimers=r,i&&(this.programTimersStack=null),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return u=l.sent(),s.kernelMs=y5(u),s.getExtraProfileInfo=function(){return u.map(function(c,d){return{name:A[d],ms:c}}).map(function(c){return c.name+": "+c.ms}).join(", ")},[3,3];case 2:s.kernelMs={error:"WebGL query timers are not supported in this environment."},l.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:qr(),endMs:null}},t.prototype.endTimer=function(n){return G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=qr(),n)},t.prototype.getQueryTime=function(n){return ae(this,void 0,void 0,function(){var r;return Ae(this,function(o){return G().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},t.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},t.prototype.releaseGPUData=function(n){var r=this.texData.get(n),o=r.texture,i=r.dtype,a=r.texShape,A=r.usage,s=r.isPacked,u=r.slice,l=u&&u.origDataId||n,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),o!=null&&(this.numBytesInGPU-=this.computeBytes(a,i),this.textureManager.releaseTexture(o,a,A,s)));var d=this.texData.get(n);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null},t.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},t.prototype.getDataInfo=function(n){return this.texData.get(n)},t.prototype.getCPUBackend=function(){return G().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=D.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(n,r){var o=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(i){return o.texData.get(i.dataId).texture==null&&i.size<r})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(n,r){var o=this.makeOutput(n.shape,"complex64");return this.texData.get(o.dataId).complexTensors={real:D.keep(n.clone()),imag:D.keep(r.clone())},o},t.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,o){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,o);if(ue(o)===0)return Wt([],o,n.dtype);var i=this.texData.get(n.dataId).isPacked,a=YS(n.shape,r,o);if(i||!a){var A=G().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kK(o):new TK(o),s=A.getCustomSetupFunc(r);return this.compileAndRun(A,[n],null,s)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,o)},t.prototype.shallowSlice=function(n,r,o){var i=this.texData.get(n.dataId),a=this.makeOutput(o,n.dtype),A=this.texData.get(a.dataId);Object.assign(A,i),A.shape=o,A.dtype=n.dtype;var s=qS(r,n.strides);i.slice&&(s+=i.slice.flatOffset),A.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||n.dataId};var u=this.dataRefCount.get(A.slice.origDataId)||1;return this.dataRefCount.set(A.slice.origDataId,u+1),a},t.prototype.stridedSlice=function(n,r,o,i){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,o,i);var a=Vy(r,o,i);if(a.some(function(s){return s===0}))return Wt([],a);var A=new _K(r,i,a);return this.compileAndRun(A,[n])},t.prototype.reverse=function(n,r){var o=G().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new SK(n.shape,r):new IK(n.shape,r);return this.compileAndRun(o,[n])},t.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var o=n.map(function(f){return dr(f)}),i=n.map(function(f){return eo(f)});return Ot(this.concat(o,r),this.concat(i,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>G().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(n.length/2),A=this.concat(n.slice(0,a),r),s=this.concat(n.slice(a),r);return this.concat([A,s],r)}if(G().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var u=new CV(n.map(function(f){return f.shape}),r);return this.compileAndRun(u,n)}var l=WA(n.map(function(f){return f.shape}),r),c=n.map(function(f){return f.as2D(-1,ue(f.shape.slice(r)))}),d=new BV(c.map(function(f){return f.shape}));return this.compileAndRun(d,c).reshape(l)},t.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,gC,n.dtype);var r=new Ce(n.shape,gC);return this.compileAndRun(r,[n])},t.prototype.batchMatMul=function(n,r,o,i){var a=o?n.shape[2]:n.shape[1],A=i?r.shape[1]:r.shape[2],s=o?n.shape[1]:n.shape[2],u=n.shape[0];if((a===1||A===1)&&s>1e3){o&&(n=n.transpose([0,2,1])),i&&(r=r.transpose([0,2,1]));var l=A===1?n:n.as3D(u,s,1),c=A===1?2:1,d=A===1?r.as3D(u,1,s):r;return this.multiply(l,d).sum(c,!0)}var f=Vt(n.dtype,r.dtype),h=new qp(n.shape,[u,a,A],o,i);return this.compileAndRun(h,[n,r],f)},t.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,i=n.transposeA,a=n.transposeB,A=n.bias,s=n.activation,u=n.preluActivationWeights,l=i?r.shape[2]:r.shape[1],c=a?o.shape[1]:o.shape[2],d=r.shape[0],f=Vt(r.dtype,o.dtype),h=A!=null,p=u!=null,y=s?Jl(s,!0):null,g=new qp(r.shape,[d,l,c],i,a,h,y,p),v=[r,o];return A&&v.push(A),u&&v.push(u),this.compileAndRun(g,v,f)},t.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var o=this.texData.get(n.dataId),i=this.texData.get(r.dataId),a=new oC(mV,n.shape,r.shape),A=new oC(vV,n.shape,r.shape),s=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag),this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],u=this.compileAndRun(a,s),l=this.compileAndRun(A,s),c=this.complex(u,l);return u.dispose(),l.dispose(),c}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,iC,n.dtype);var d=new At(iC,n.shape,r.shape);return this.compileAndRun(d,[n,r],n.dtype)},t.prototype.batchNormalization=function(n,r,o,i,a,A){var s=[n,r,o],u=null;A!=null&&(u=A.shape,s.push(A));var l=null;if(a!=null&&(l=a.shape,s.push(a)),G().getBool("WEBGL_PACK_NORMALIZATION")){var c=new gV(n.shape,r.shape,o.shape,u,l,i);return this.compileAndRun(c,s)}var d=new pV(n.shape,r.shape,o.shape,u,l,i);return this.compileAndRun(d,s)},t.prototype.localResponseNormalization4D=function(n,r,o,i,a){var A=G().getBool("WEBGL_PACK_NORMALIZATION")?new dK(n.shape,r,o,i,a):new lK(n.shape,r,o,i,a);return this.compileAndRun(A,[n])},t.prototype.LRNGrad=function(n,r,o,i,a,A,s){var u=new cK(r.shape,i,a,A,s);return this.compileAndRun(u,[r,o,n])},t.prototype.tile=function(n,r){if(n.dtype==="string"){var o=this.readSync(n.dataId).map(function(a){return Pd(a)});return iU(xe(n.shape,n.dtype,o),r)}var i=new DK(n.shape,r);return this.compileAndRun(i,[n])},t.prototype.pad=function(n,r,o){var i=G().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yK(n.shape,r,o):new vK(n.shape,r,o);return this.compileAndRun(i,[n])},t.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var o=G().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MK(n.shape,r):new NK(n.shape,r);return this.compileAndRun(o,[n])},t.prototype.gather=function(n,r,o){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,o);var i=new KV(n.shape,r.size,o);return this.compileAndRun(i,[n,r])},t.prototype.batchToSpaceND=function(n,r,o){U(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(c,d){return c*d}),a=Kd(n.shape,r,i),A=Wd(a.length,r.length),s=Gd(n.shape,r,i),u=GS(o,r.length),l=zS(s,o,r.length);return n.reshape(a).transpose(A).reshape(s).slice(u,l)},t.prototype.spaceToBatchND=function(n,r,o){U(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(d,f){return d*f}),a=[[0,0]];a.push.apply(a,o);for(var A=1+r.length;A<n.shape.length;++A)a.push([0,0]);var s=n.pad(a),u=Kd(s.shape,r,i,!1),l=Wd(u.length,r.length,!1),c=Gd(s.shape,r,i,!1);return s.reshape(u).transpose(l).reshape(c)},t.prototype.reduce=function(n,r,o){var i=n.shape[0],a=n.shape[1],A=$p(a),s=new wK({windowSize:A,inSize:a,batchSize:i},r),u=this.compileAndRun(s,[n],o);return u.shape[1]===1?u:this.reduce(u,r,o)},t.prototype.argReduce=function(n,r,o){o===void 0&&(o=null);var i=n.shape[0],a=n.shape[1];o!=null&&(i=o.shape[0],a=o.shape[1]);var A=$p(a),s=new aV({windowSize:A,inSize:a,batchSize:i},r,o==null),u=[n];o!=null&&u.push(o);var l=this.compileAndRun(s,u,"int32");return l.shape[1]===1?l:this.argReduce(n,r,l)},t.prototype.argReducePacked=function(n,r,o){o===void 0&&(o=null);var i=o!=null?o.shape:n.shape,a=$p(i[i.length-1]),A=new dV(i,a,r,o==null),s=o==null?[n]:[n,o],u=this.compileAndRun(A,s,"int32");return u.rank===n.rank?this.argReducePacked(n,r,u):u},t.prototype.sum=function(n,r){Mn("sum",r,n.rank);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a),s=Hp(n.dtype);return this.reduce(A,"sum",s).reshape(i)},t.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a),s=Hp(n.dtype);return this.reduce(A,"prod",s).reshape(i)},t.prototype.unsortedSegmentSum=function(n,r,o){var i=0,a=fo([i],n.rank),A=n;a!=null&&(A=n.transpose(a),i=ho(1,n.rank)[0]);var s=function(f,h,p){for(var y=[],g=f.length,v=0;v<g;v++)v!==h?y.push(f[v]):y.push(p);return y}(A.shape,i,o),u=ue([A.shape[i]]),l=A.as2D(-1,u),c=Hp(n.dtype),d=this.segOpCompute(l,"unsortedSegmentSum",r,c,o).reshape(s);return a!=null&&(d=d.transpose(Ly(a))),d},t.prototype.segOpCompute=function(n,r,o,i,a){var A=n.shape[0],s=n.shape[1],u=function(d,f){var h,p=!1;for(d<=XS?(h=d,p=!0):h=rv(d,Math.floor(Math.sqrt(d)));!p;)h>f||h===d?p=!0:h=rv(d,h+1);return h}(s,a),l=new UK({windowSize:u,inSize:s,batchSize:A,numSegments:a}),c=this.compileAndRun(l,[n,o],i);return c.shape[1]===a?c:(o=Vd(0,a).tile([s/u]),this.segOpCompute(c,r,o,i,a))},t.prototype.argMinMaxReduce=function(n,r,o){var i=[r];if(Mn("arg"+o.charAt(0).toUpperCase()+o.slice(1),i,n.rank),!G().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var a=tn(n.shape,i),A=a[0],s=ue(a[1]),u=n.as2D(-1,s);return this.argReduce(u,o).reshape(A)}return this.argReducePacked(n,o)},t.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},t.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},t.prototype.cumsum=function(n,r,o,i){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var a=new kV(n.shape,o,i);return this.compileAndRun(a,[n])},t.prototype.equal=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var o=new At("return float(a == b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.notEqual=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var o=new At("return float(a != b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var o=new At("return float(a < b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.lessEqual=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var o=new At("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var o=new At("return float(a > b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.greaterEqual=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var o=new At("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.logicalNot=function(n){var r=new Ce(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},t.prototype.logicalAnd=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var o=new At("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.logicalOr=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var o=new At("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.select=function(n,r,o){var i=new QK(n.rank,r.shape,r.rank);return this.compileAndRun(i,[n,r,o],Vt(r.dtype,o.dtype))},t.prototype.where=function(n){Od("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return zy(n.shape,r)},t.prototype.topk=function(n,r,o){return aU(n.dataSync(),n.shape,n.dtype,r)},t.prototype.min=function(n,r){Mn("min",r,n.rank);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a);return this.reduce(A,"min",A.dtype).reshape(i)},t.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new At(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.mod=function(n,r){var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new At(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);Mn("max",r,n.rank);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a);return this.reduce(A,"max",A.dtype).reshape(i)},t.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new At(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.all=function(n,r){Mn("all",r,n.rank);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a);return this.reduce(A,"all",A.dtype).reshape(i)},t.prototype.any=function(n,r){Mn("any",r,n.rank);var o=tn(n.shape,r),i=o[0],a=ue(o[1]),A=n.as2D(-1,a);return this.reduce(A,"any",A.dtype).reshape(i)},t.prototype.realDivide=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var o=new At(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"float32")},t.prototype.floorDiv=function(n,r){if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var o=new At(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"int32")},t.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Xp);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var o=Vt(n.dtype,r.dtype);if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Xp,o);var i=new At(Xp,n.shape,r.shape);return this.compileAndRun(i,[n,r],o)},t.prototype.packedUnaryOp=function(n,r,o){var i=new xs(n.shape,r);return this.compileAndRun(i,[n],o)},t.prototype.packedBinaryOp=function(n,r,o,i,a){a===void 0&&(a=!1);var A=new Bo(o,n.shape,r.shape,a);return this.compileAndRun(A,[n,r],i)},t.prototype.complexSeparableBinaryOp=function(n,r,o){var i=this,a=this.texData.get(n.dataId),A=this.texData.get(r.dataId),s=[[a.complexTensors.real,A.complexTensors.real],[a.complexTensors.imag,A.complexTensors.imag]].map(function(d){var f=d[0],h=d[1],p=i.makeComplexComponentTensorInfo(n,f),y=i.makeComplexComponentTensorInfo(r,h),g=new At(o,n.shape,r.shape);return i.compileAndRun(g,[p,y],Vt(f.dtype,h.dtype))}),u=s[0],l=s[1],c=this.complex(u,l);return u.dispose(),l.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},t.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>G().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),o=this.addN(n.slice(0,r)),i=this.addN(n.slice(r));return this.addN([o,i])}var a=n.map(function(u){return u.dtype}).reduce(function(u,l){return Vt(u,l)}),A=n.map(function(u){return u.shape}),s=G().getBool("WEBGL_PACK")?new iV(n[0].shape,A):new oV(n[0].shape,A);return this.compileAndRun(s,n,a)},t.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Yp);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var o=Vt(n.dtype,r.dtype);if(G().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Yp,n.dtype);var i=new At(Yp,n.shape,r.shape);return this.compileAndRun(i,[n,r],o)},t.prototype.pow=function(n,r){var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new At(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),i=Vt(n.dtype,r.dtype);return this.compileAndRun(o,[n,r],i)},t.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,mC,n.dtype);var r=new Ce(n.shape,mC);return this.compileAndRun(r,[n])},t.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,vC,n.dtype);var r=new Ce(n.shape,vC);return this.compileAndRun(r,[n])},t.prototype.sign=function(n){var r=new Ce(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},t.prototype.isNaN=function(n){var r=new Ce(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isInf=function(n){var r=new Ce(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isFinite=function(n){var r=new Ce(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.round=function(n){var r=new Ce(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},t.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,yC,n.dtype);var r=new Ce(n.shape,yC);return this.compileAndRun(r,[n])},t.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,wC,n.dtype);var r=new Ce(n.shape,wC);return this.compileAndRun(r,[n])},t.prototype.softmax=function(n,r){var o=kt([r],n.shape),i=this.max(n,o),a=kn(i.shape,o),A=this.subtract(n,i.reshape(a)),s=this.exp(A),u=this.sum(s,o).reshape(a);return this.realDivide(s,u)},t.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new Ce(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},t.prototype.log1p=function(n){var r=new Ce(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},t.prototype.sqrt=function(n){var r=new Ce(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},t.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new Ce(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},t.prototype.reciprocal=function(n){var r=new Ce(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},t.prototype.relu=function(n){var r;return r=G().getBool("WEBGL_PACK")?new xs(n.shape,pU):new Ce(n.shape,dU),this.compileAndRun(r,[n])},t.prototype.relu6=function(n){var r;return r=G().getBool("WEBGL_PACK")?new xs(n.shape,gU):new Ce(n.shape,fU),this.compileAndRun(r,[n])},t.prototype.prelu=function(n,r){var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(cU,n.shape,r.shape):new At(lU,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.elu=function(n){if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,mU,n.dtype);var r=new Ce(n.shape,hU);return this.compileAndRun(r,[n])},t.prototype.eluDer=function(n,r){var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new At("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.selu=function(n){var r=new Ce(n.shape,LK);return this.compileAndRun(r,[n])},t.prototype.int=function(n){var r=new Ce(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},t.prototype.clip=function(n,r,o){var i,a=(i=G().getBool("WEBGL_PACK_CLIP")?new wV(n.shape):new yV(n.shape)).getCustomSetupFunc(r,o);return this.compileAndRun(i,[n],null,a)},t.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(G().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,pC,n.dtype);var r=new Ce(n.shape,pC);return this.compileAndRun(r,[n])},t.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),o=new xV(n.shape),i=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(o,i)},t.prototype.sigmoid=function(n){var r=new Ce(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},t.prototype.softplus=function(n){var r=new Ce(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},t.prototype.sin=function(n){var r=new Ce(n.shape,HK);return this.compileAndRun(r,[n])},t.prototype.cos=function(n){var r=new Ce(n.shape,OK);return this.compileAndRun(r,[n])},t.prototype.tan=function(n){var r=new Ce(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},t.prototype.asin=function(n){var r=new Ce(n.shape,jK);return this.compileAndRun(r,[n])},t.prototype.acos=function(n){var r=new Ce(n.shape,VK);return this.compileAndRun(r,[n])},t.prototype.atan=function(n){var r=new Ce(n.shape,KK);return this.compileAndRun(r,[n])},t.prototype.atan2=function(n,r){var o=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new At(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.sinh=function(n){var r=new Ce(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.cosh=function(n){var r=new Ce(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.tanh=function(n){var r=new Ce(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},t.prototype.asinh=function(n){var r=new Ce(n.shape,WK);return this.compileAndRun(r,[n])},t.prototype.acosh=function(n){var r=new Ce(n.shape,GK);return this.compileAndRun(r,[n])},t.prototype.atanh=function(n){var r=new Ce(n.shape,zK);return this.compileAndRun(r,[n])},t.prototype.erf=function(n){var r=new Ce(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},t.prototype.step=function(n,r){var o=new Ce(n.shape,function(i){return i===void 0&&(i=0),Hr+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(r));return this.compileAndRun(o,[n])},t.prototype.conv2dByMatMul=function(n,r,o,i,a,A){var s=n.shape,u=this.texData.get(n.dataId),l=o.inChannels,c=s[0]*s[1]*s[2],d=o.outChannels,f=o.dataFormat==="channelsLast",h=(c===1||d===1)&&l>1e3,p=s[2]%2!=0&&!!u.isPacked;if(h||!G().getBool("WEBGL_LAZILY_UNPACK")||!G().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var y=f?s[0]*s[1]*s[2]:s[0]*s[2]*s[3],g=this.reshape(n,[1,y,o.inChannels]),v=this.reshape(r,[1,o.inChannels,o.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:i,activation:a,preluActivationWeights:A}),o.outShape)}var w=f?s[0]*s[1]*(s[2]+1):s[0]*s[2]*(s[3]+1),x={dataId:n.dataId,shape:[1,w,o.inChannels],dtype:n.dtype},B=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,U($l(u.shape,x.shape),function(){return"packed reshape "+u.shape+" to "+x.shape+" isn't free"});var C=this.reshape(r,[1,o.inChannels,o.outChannels]),b=this.fusedBatchMatMul({a:x,b:C,transposeA:!1,transposeB:!1,bias:i,activation:a,preluActivationWeights:A}),E=this.texData.get(b.dataId);return U(E.isPacked,function(){return"batchMatMul result is expected to be packed"}),u.shape=B,E.shape=o.outShape,D.makeTensorFromDataId(b.dataId,o.outShape,b.dtype)},t.prototype.conv2dWithIm2Row=function(n,r,o,i,a,A){var s=o.filterWidth,u=o.filterHeight,l=o.inChannels,c=o.outWidth,d=o.outHeight,f=o.dataFormat==="channelsLast",h=s*u*l,p=d*c,y=[h,p],g=n.squeeze([0]),v=r.reshape([1,h,-1]),w=new uK(y,g.shape,o),x=this.compileAndRun(w,[g]).reshape([1,y[0],y[1]]),B=i!=null,C=A!=null,b=a?Jl(a,!0):null,E=new qp(x.shape,[1,p,o.outChannels],!0,!1,B,b,C),F=[x,v];i&&F.push(i),C&&F.push(A);var I=this.compileAndRun(E,F);return f?I.reshape([1,d,c,o.outChannels]):I.reshape([1,o.outChannels,d,c])},t.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,i=n.convInfo,a=n.bias,A=n.activation,s=n.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,o,i,a,A,s);if(G().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,o,i,a,A,s);var u=a!=null,l=s!=null,c=A?Jl(A,!1):null,d=new aC(i,u,c,l),f=[r,o];return a&&f.push(a),s&&f.push(s),this.compileAndRun(d,f)},t.prototype.conv2d=function(n,r,o){if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,o);if(G().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,o);var i=new aC(o);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerInput=function(n,r,o){var i=new EV(o);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerFilter=function(n,r,o){var i=new bV(o);return this.compileAndRun(i,[n,r])},t.prototype.fusedDepthwiseConv2D=function(n){var r,o=n.input,i=n.filter,a=n.convInfo,A=n.bias,s=n.activation,u=n.preluActivationWeights,l=G().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,c=s?Jl(s,l):null,d=[o,i],f=A!=null,h=u!=null;return f&&d.push(A),h&&d.push(u),l?(r=new sC(a,f,c,h),this.compileAndRun(r,d)):(r=new AC(a,f,c,h),this.compileAndRun(r,d))},t.prototype.depthwiseConv2D=function(n,r,o){var i;return G().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1?(i=new sC(o),this.compileAndRun(i,[n,r])):(i=new AC(o),this.compileAndRun(i,[n,r]))},t.prototype.depthwiseConv2DDerInput=function(n,r,o){var i=new UV(o);return this.compileAndRun(i,[n,r])},t.prototype.depthwiseConv2DDerFilter=function(n,r,o){var i=new SV(o);return this.compileAndRun(i,[n,r])},t.prototype.conv3d=function(n,r,o){var i=new QV(o);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerInput=function(n,r,o){var i=new IV(o);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerFilter=function(n,r,o){var i=new FV(o);return this.compileAndRun(i,[n,r])},t.prototype.maxPool=function(n,r){var o=new Jp(r,"max",!1);return this.compileAndRun(o,[n])},t.prototype.avgPool=function(n,r){var o=new Jp(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.maxPoolBackprop=function(n,r,o,i){var a=new Jp(i,"max",!0),A=this.compileAndRun(a,[r]),s=new fK(i),u=this.compileAndRun(s,[n,A],r.dtype);return A.dispose(),u},t.prototype.avgPoolBackprop=function(n,r,o){var i=new fV(o);return this.compileAndRun(i,[n],r.dtype)},t.prototype.cast=function(n,r){return tU(n,r,this)},t.prototype.unstack=function(n,r){for(var o=n.shape[r],i=new Array(n.rank-1),a=0,A=0;A<n.rank;A++)A!==r&&(i[a++]=n.shape[A]);var s=new Array(n.rank).fill(0),u=n.shape.slice();u[r]=1;var l=new Array(o);for(A=0;A<l.length;A++)s[r]=A,l[A]=this.slice(n,s,u).reshape(i);return l},t.prototype.avgPool3d=function(n,r){var o=new Zp(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.avgPool3dBackprop=function(n,r,o){var i=new hV(o);return this.compileAndRun(i,[n],r.dtype)},t.prototype.maxPool3d=function(n,r){var o=new Zp(r,"max",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.maxPool3dBackprop=function(n,r,o,i){var a=new Zp(i,"max",!0),A=this.compileAndRun(a,[r]),s=new hK(i),u=this.compileAndRun(s,[n,A],r.dtype);return A.dispose(),u},t.prototype.reshape=function(n,r){var o=this.texData.get(n.dataId);if(o.isPacked&&!$l(n.shape,r)&&(o.texture===null||!$l(o.shape,r))){var i=this.packedReshape(n,r);return D.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return cv(n,r)},t.prototype.resizeBilinear=function(n,r,o,i){var a=G().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new bK(n.shape,r,o,i):new CK(n.shape,r,o,i);return this.compileAndRun(a,[n],"float32")},t.prototype.resizeBilinearBackprop=function(n,r,o){var i=new BK(n,r,o);return this.compileAndRun(i,[n])},t.prototype.resizeNearestNeighbor=function(n,r,o,i){var a=new FK(n.shape,r,o,i);return this.compileAndRun(a,[n])},t.prototype.resizeNearestNeighborBackprop=function(n,r,o){var i=new EK(n,r,o);return this.compileAndRun(i,[n])},t.prototype.multinomial=function(n,r,o,i){var a=r?n:jo(n),A=a.shape[0],s=a.shape[1],u=new pK(A,s,o),l=u.getCustomSetupFunc(i);return this.compileAndRun(u,[a],"int32",l)},t.prototype.oneHot=function(n,r,o,i){var a=new gK(n.size,r,o,i);return this.compileAndRun(a,[n])},t.prototype.diag=function(n){var r=new NV(n.size);return this.compileAndRun(r,[n])},t.prototype.nonMaxSuppression=function(n,r,o,i,a){return Od("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Wy(n.dataSync(),r.dataSync(),o,i,a)},t.prototype.cropAndResize=function(n,r,o,i,a,A){var s=new TV(n.shape,r.shape,i,a,A);return this.compileAndRun(s,[n,r,o],"float32")},t.prototype.depthToSpace=function(n,r,o){U(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var i=n.shape[0],a=o==="NHWC"?n.shape[1]:n.shape[2],A=o==="NHWC"?n.shape[2]:n.shape[3],s=o==="NHWC"?n.shape[3]:n.shape[1],u=a*r,l=A*r,c=s/(r*r),d=new DV(o==="NHWC"?[i,u,l,c]:[i,c,u,l],r,o);return this.compileAndRun(d,[n])},t.prototype.split=function(n,r,o){return oU(n,r,o)},t.prototype.scatterND=function(n,r,o){var i=zd(0,n,o),a=i.sliceRank,A=i.numUpdates,s=i.sliceSize,u=i.strides,l=i.outputSize,c=[l/s,s],d=n.reshape([A,a]),f=r.reshape([A,s]);if(l===0)return cv(Wt([]),o);var h=q(0),p=new dC(A,a,d.rank,f.rank,u,c);return this.compileAndRun(p,[f,d,h]).reshape(o)},t.prototype.sparseToDense=function(n,r,o,i){var a=zd(0,n,o),A=a.sliceRank,s=a.numUpdates,u=a.strides,l=a.outputSize,c=new dC(s,A,n.rank,r.rank,u,[l,1]);return this.compileAndRun(c,[r,n,i]).reshape(o)},t.prototype.fft=function(n){return this.fftImpl(n,!1)},t.prototype.ifft=function(n){return this.fftImpl(n,!0)},t.prototype.fftImpl=function(n,r){var o=this.texData.get(n.dataId),i=new lC(OV,n.shape,r),a=new lC(jV,n.shape,r),A=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag)],s=this.compileAndRun(i,A),u=this.compileAndRun(a,A),l=this.complex(s,u).as2D(n.shape[0],n.shape[1]);return s.dispose(),u.dispose(),l},t.prototype.gatherND=function(n,r){var o=r.shape,i=o[o.length-1],a=$S(n,r),A=a[0],s=a[1],u=a[2],l=a[3],c=r.reshape([s,i]),d=n.reshape([n.size/u,u]),f=new WV(i,l,[s,u]);return this.compileAndRun(f,[d,c]).reshape(A)},t.prototype.fill=function(n,r,o){if((o=o||rl(r))==="string"){var i=Md(o,ue(n));return i.fill(r),D.makeTensor(i,n,o,this)}var a=new VV(n,r),A=a.getCustomSetupFunc(r);return this.compileAndRun(a,[],o,A)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},t.prototype.linspace=function(n,r,o){return nU(n,r,o)},t.prototype.makeTensorInfo=function(n,r){var o=this.write(null,n,r);return this.texData.get(o).usage=null,{dataId:o,shape:n,dtype:r}},t.prototype.makeOutput=function(n,r){var o=this.makeTensorInfo(n,r).dataId;return D.makeTensorFromDataId(o,n,r,this)},t.prototype.unpackTensor=function(n){var r=new XK(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},t.prototype.packTensor=function(n){var r=new mK(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},t.prototype.packedReshape=function(n,r){var o=[Ld(n.shape)].concat(Hd(n.shape)),i={dtype:n.dtype,shape:o,dataId:n.dataId},a=[Ld(r)].concat(Hd(r)),A=new xK(a,o),s=this.runWebGLProgram(A,[i],n.dtype,null,!0);return{dataId:s.dataId,shape:r,dtype:s.dtype}},t.prototype.decode=function(n){var r,o=this.texData.get(n),i=o.isPacked,a=o.shape,A=o.dtype,s=zp(a);return r=i?new RV(s):new _V(s),{dtype:A,shape:a,dataId:this.runWebGLProgram(r,[{shape:s,dtype:A,dataId:n}],A,null,!0).dataId}},t.prototype.runWebGLProgram=function(n,r,o,i,a){var A=this;a===void 0&&(a=!1);var s=this.makeTensorInfo(n.outputShape,o),u=this.texData.get(s.dataId);if(n.packedOutput&&(u.isPacked=!0),n.outPackingScheme===Du.DENSE){var l=Zs(n.outputShape);u.texShape=l.map(function(w){return 2*w})}if(n.outTexUsage!=null&&(u.usage=n.outTexUsage),ue(s.shape)===0)return u.values=_u(s.dtype,0),s;var c=[],d=r.map(function(w){if(w.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var x=A.texData.get(w.dataId);if(x.texture==null){if(!n.packedInputs&&ue(w.shape)<=G().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:w.shape,texData:null,isUniform:!0,uniformValues:x.values};n.packedInputs&&(x.isPacked=!0,x.shape=w.shape)}else if(!!x.isPacked!=!!n.packedInputs)w=x.isPacked?A.unpackTensor(w):A.packTensor(w),c.push(w),x=A.texData.get(w.dataId);else if(x.isPacked&&!$l(x.shape,w.shape)){var B=w,C=w.shape;w.shape=x.shape,w=A.packedReshape(w,C),c.push(w),x=A.texData.get(w.dataId),B.shape=C}return A.uploadToGPU(w.dataId),{shape:w.shape,texData:x,isUniform:!1}});this.uploadToGPU(s.dataId);var f,h={shape:s.shape,texData:u,isUniform:!1},p=function(w,x,B){var C="";x.concat(B).forEach(function(F){var I=F.texData!=null&&F.texData.slice!=null&&F.texData.slice.flatOffset>0,T=F.isUniform?"uniform":F.texData.texShape;C+=F.shape+"_"+T+"_"+I});var b=w.userCode,E=w.constructor.name;return E+="_"+C+"_"+b}(n,d,h),y=this.getAndSaveBinary(p,function(){return function(w,x,B,C){var b=x.userCode,E=B.map(function(R,P){var H={logicalShape:R.shape,texShape:R.isUniform?null:R.texData.texShape,isUniform:R.isUniform,isPacked:!R.isUniform&&R.texData.isPacked,flatOffset:null};return R.texData!=null&&R.texData.slice!=null&&R.texData.slice.flatOffset>0&&(H.flatOffset=R.texData.slice.flatOffset),{name:x.variableNames[P],shapeInfo:H}}),F=E.map(function(R){return R.shapeInfo}),I={logicalShape:C.shape,texShape:C.texData.texShape,isUniform:!1,isPacked:C.texData.isPacked,flatOffset:null},T=AV(E,I,b,x.packedInputs),Q=w.createProgram(T),N=null,M=w.getUniformLocation(Q,"NAN",!1);G().getNumber("WEBGL_VERSION")===1&&(N=w.getUniformLocation(Q,"INFINITY",!1));for(var O={},L=0;L<x.variableNames.length;L++){var j=x.variableNames[L];O[j]=w.getUniformLocation(Q,j,!1),O["offset"+j]=w.getUniformLocation(Q,"offset"+j,!1)}return{program:x,source:T,webGLProgram:Q,uniformLocations:O,inShapeInfos:F,outShapeInfo:I,infLoc:N,nanLoc:M}}(A.gpgpu,n,d,h)}),g=this.activeTimers!=null;if(g&&(f=this.startTimer()),function(w,x,B,C,b){cC(x.inShapeInfos,B),cC([x.outShapeInfo],[C]);var E=C.texData.texture,F=C.texData.texShape;C.texData.isPacked?w.setOutputPackedMatrixTexture(E,F[0],F[1]):w.setOutputMatrixTexture(E,F[0],F[1]),w.setProgram(x.webGLProgram),G().getNumber("WEBGL_VERSION")===1&&x.infLoc!==null&&w.gl.uniform1f(x.infLoc,1/0),x.nanLoc!==null&&w.gl.uniform1f(x.nanLoc,NaN),B.forEach(function(I,T){var Q=x.program.variableNames[T],N=x.uniformLocations[Q],M=x.uniformLocations["offset"+Q];if(N!=null)if(I.isUniform)if(ue(I.shape)<2)w.gl.uniform1f(N,I.uniformValues[0]);else{var O=I.uniformValues;O instanceof Float32Array||(O=new Float32Array(O)),w.gl.uniform1fv(N,O)}else I.texData.slice!=null&&M!=null&&w.gl.uniform1i(M,I.texData.slice.flatOffset),w.setInputMatrixTexture(I.texData.texture,N,T)}),b!=null&&b(w,x.webGLProgram),w.executeProgram()}(this.gpgpu,y,d,h,i),c.forEach(function(w){return A.disposeData(w.dataId)}),g&&(f=this.endTimer(f),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(f)})),!G().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&a===!1){var v=this.unpackTensor(s);return this.disposeData(s.dataId),v}return s},t.prototype.compileAndRun=function(n,r,o,i,a){a===void 0&&(a=!1),o=o||r[0].dtype;var A=this.runWebGLProgram(n,r,o,i,a);return D.makeTensorFromDataId(A.dataId,A.shape,A.dtype)},t.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var n=this;this.disposed||(G().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ne(function(){if(!G().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=G().getBool("DEBUG");G().set("DEBUG",!1);var o=n.abs(q(1e-8)).dataSync()[0];if(G().set("DEBUG",r),o>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(n){var r,o=this.texData.get(n),i=o.shape,a=o.dtype,A=o.values,s=o.texture,u=o.usage,l=o.isPacked;if(s==null){var c,d=this.activeTimers!=null;d&&(c=qr());var f=o.texShape;if(f==null&&(f=rj(i,l),o.texShape=f),A!=null){var h=zp(i),p=void 0,y=f[1],g=f[0],v=A instanceof Uint8Array;l?(y=(r=il(f[0],f[1]))[0],g=r[1],p=new HV(h,[g,y],v)):p=new LV(h,[g,y],v);var w=this.makeTensorInfo([g,y],a);this.texData.get(w.dataId).usage=v?On.PIXELS:On.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),y,g,A);var x=this.runWebGLProgram(p,[w],a,null,!0),B=this.texData.get(x.dataId);o.texture=B.texture,o.texShape=B.texShape,o.isPacked=B.isPacked,o.usage=B.usage,this.disposeData(w.dataId),this.texData.delete(x.dataId),o.values=null,d&&(this.uploadWaitMs+=qr()-c)}else{var C=this.acquireTexture(f,u,a,l);o.texture=C}}},t.prototype.convertAndCacheOnCPU=function(n,r){var o=this.texData.get(n),i=o.dtype;return this.releaseGPUData(n),r!=null&&(o.values=function(a,A){if(A==="float32"||A==="complex64")return a;if(A==="int32"||A==="bool"){for(var s=A==="int32"?new Int32Array(a.length):new Uint8Array(a.length),u=0;u<s.length;++u)s[u]=Math.round(a[u]);return s}throw new Error("Unknown dtype "+A)}(r,i)),o.values},t.prototype.acquireTexture=function(n,r,o,i){if(this.numBytesInGPU+=this.computeBytes(n,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,i)},t.prototype.computeBytes=function(n,r){return n[0]*n[1]*QS(r)},t}(ZS);MS()&&D.registerBackend("webgl",function(){return new qK},2);var JK=_({square_:function(e){var t=S(e,"x","square"),n=[t];return D.runKernelFunc(function(r,o){return o([t]),r.square(t)},{x:t},null,"Square",{},n,[])}}),Mu="SquaredDifference",vU=_({squaredDifference_:function(e,t){var n,r=S(e,"a","squaredDifference"),o=S(t,"b","squaredDifference");n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return D.runKernelFunc(function(A,s){var u=A.squaredDifference(r,o);return s([r,o]),u},i,function(A,s){var u=s[0],l=s[1],c=q(2);return{a:function(){return A.mul(u.sub(l).mul(c))},b:function(){return A.mul(l.sub(u).mul(c))}}},Mu,{},a,[])}}),ZK=_({abs_:function(e){var t=S(e,"x","abs");return t.dtype==="complex64"?D.runKernelFunc(function(n){return n.complexAbs(t)},{$x:t}):D.runKernelFunc(function(n,r){var o=n.abs(t);return r([t]),o},{x:t},function(n,r){var o=r[0];return{x:function(){return n.mul(o.toFloat().step(-1))}}},"Abs")}}),e6=_({acos_:function(e){var t=S(e,"x","acos");return D.runKernelFunc(function(n,r){var o=n.acos(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(q(1).sub(o.toFloat().square()).sqrt()).neg()}}})}}),t6=_({acosh_:function(e){var t=S(e,"x","acosh");return D.runKernelFunc(function(n,r){var o=n.acosh(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(o.toFloat().square().sub(1).sqrt())}}})}}),n6=_({asin_:function(e){var t=S(e,"x","asin");return D.runKernelFunc(function(n,r){var o=n.asin(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(q(1).sub(o.toFloat().square()).sqrt())}}})}}),r6=_({asinh_:function(e){var t=S(e,"x","asinh");return D.runKernelFunc(function(n,r){var o=n.asinh(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(q(1).add(o.toFloat().square()).sqrt())}}})}}),o6=_({atan_:function(e){var t=S(e,"x","atan");return D.runKernelFunc(function(n,r){var o=n.atan(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().square().add(1))}}})}}),i6=_({atanh_:function(e){var t=S(e,"x","atanh");return D.runKernelFunc(function(n,r){var o=n.atanh(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(q(1).sub(o.toFloat().square()))}}})}}),a6=_({ceil_:function(e){var t=S(e,"x","ceil");return D.runKernelFunc(function(n){return n.ceil(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),qy=_({clipByValue_:function(e,t,n){var r=S(e,"x","clipByValue");U(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var o=[r],i={min:t,max:n};return D.runKernelFunc(function(a,A){var s=a.clip(r,t,n);return A([r]),s},{x:r},function(a,A){var s=A[0];return{x:function(){return a.where(s.greaterEqual(t).logicalAnd(s.lessEqual(n)),Se(a))}}},"ClipByValue",i,o)}}),A6=_({cos_:function(e){var t=S(e,"x","cos"),n=[t];return D.runKernelFunc(function(r,o){var i=r.cos(t);return o([t]),i},{x:t},function(r,o){var i=o[0];return{x:function(){return i.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),s6=_({cosh_:function(e){var t=S(e,"x","cosh");return D.runKernelFunc(function(n,r){var o=n.cosh(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return o.toFloat().sinh().mulStrict(n)}}})}}),u6=_({erf_:function(e){var t=S(e,"x","erf");return U(t.dtype==="int32"||t.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),t.dtype==="int32"&&(t=t.toFloat()),D.runKernelFunc(function(n,r){var o=n.erf(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),fv=_({exp_:function(e){var t=S(e,"x","exp");return D.runKernelFunc(function(n,r){var o=n.exp(t);return r([o]),o},{x:t},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),l6=_({expm1_:function(e){var t=S(e,"x","expm1");return D.runKernelFunc(function(n,r){var o=n.expm1(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.exp())}}})}}),c6=_({floor_:function(e){var t=S(e,"x","floor");return D.runKernelFunc(function(n){return n.floor(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),d6=_({log_:function(e){var t=S(e,"x","log"),n=[t];return D.runKernelFunc(function(r,o){var i=r.log(t);return o([t]),i},{x:t},function(r,o){var i=o[0];return{x:function(){return r.div(i.toFloat())}}},"Log",{},n)}}),f6=_({log1p_:function(e){var t=S(e,"x","log1p");return D.runKernelFunc(function(n,r){var o=n.log1p(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(o.add(1))}}})}}),h6=_({logSigmoid_:function(e){var t=S(e,"x","logSigmoid");return D.runKernelFunc(function(n,r){var o=n.softplus(t.neg()).neg();return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.neg().sigmoid())}}})}}),qd=_({neg_:function(e){var t=S(e,"x","neg"),n=[t];return D.runKernelFunc(function(r){return r.neg(t)},{x:t},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),p6=_({reciprocal_:function(e){var t=S(e,"x","reciprocal");return D.runKernelFunc(function(n,r){var o=n.reciprocal(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(o.square().neg())}}})}}),g6=_({round_:function(e){var t=S(e,"x","round");return D.runKernelFunc(function(n){return n.round(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),yU=_({rsqrt_:function(e){var t=S(e,"x","rsqrt"),n=[t];return D.runKernelFunc(function(r,o){var i=r.rsqrt(t);return o([t]),i},{x:t},function(r,o){var i=o[0];return{x:function(){return r.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),wU=_({sigmoid_:function(e){var t=S(e,"x","sigmoid");return D.runKernelFunc(function(n,r){var o=n.sigmoid(t);return r([o]),o},{x:t},function(n,r){var o=r[0];return{x:function(){return n.mul(o.mul(q(1).sub(o)))}}},"Sigmoid")}}),m6=_({sign_:function(e){var t=S(e,"x","sign");return D.runKernelFunc(function(n){return n.sign(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),v6=_({isNaN_:function(e){var t=S(e,"x","isNaN");return D.runKernelFunc(function(n){return n.isNaN(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),y6=_({isInf_:function(e){var t=S(e,"x","isInf");return D.runKernelFunc(function(n){return n.isInf(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),w6=_({isFinite_:function(e){var t=S(e,"x","isFinite");return D.runKernelFunc(function(n){return n.isFinite(t)},{$x:t},function(n){return{$x:function(){return Se(n)}}})}}),x6=_({sin_:function(e){var t=S(e,"x","sin"),n=[t];return D.runKernelFunc(function(r,o){var i=r.sin(t);return o([t]),i},{x:t},function(r,o){var i=o[0];return{x:function(){return i.toFloat().cos().mul(r)}}},"Sin",{},n)}}),B6=_({sinh_:function(e){var t=S(e,"x","sinh");return D.runKernelFunc(function(n,r){var o=n.sinh(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return o.toFloat().cosh().mulStrict(n)}}})}}),C6=_({softplus_:function(e){var t=S(e,"x","softplus");return D.runKernelFunc(function(n,r){var o=n.softplus(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.sigmoid())}}})}}),b6=_({sqrt_:function(e){var t=S(e,"x","sqrt");return D.runKernelFunc(function(n,r){var o=n.sqrt(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().sqrt().mul(2))}}})}}),E6=_({step_:function(e,t){t===void 0&&(t=0);var n=S(e,"x","step");return D.runKernelFunc(function(r){return r.step(n,t)},{$x:n},function(r){return{$x:function(){return Se(r)}}})}}),F6=_({tan_:function(e){var t=S(e,"x","tan");return D.runKernelFunc(function(n,r){var o=n.tan(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return n.div(o.cos().square())}}})}}),I6=_({tanh_:function(e){var t=S(e,"x","tanh");return D.runKernelFunc(function(n,r){var o=n.tanh(t);return r([o]),o},{x:t},function(n,r){var o=r[0];return{x:function(){return q(1).sub(o.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function xU(e,t,n,r,o,i){var a,A,s=S(e,"x","batchNorm"),u=S(t,"mean","batchNorm"),l=S(n,"variance","batchNorm");return o!=null&&(a=S(o,"scale","batchNorm")),r!=null&&(A=S(r,"offset","batchNorm")),U(s.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+s.rank+"."}),U(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),U(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."}),a!=null&&U(a.rank===2||a.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),A!=null&&U(A.rank===2||A.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+A.rank+"."}),Al(s,u,l,A,a,i)}function BU(e,t,n,r,o,i){var a,A,s=S(e,"x","batchNorm"),u=S(t,"mean","batchNorm"),l=S(n,"variance","batchNorm");return o!=null&&(a=S(o,"scale","batchNorm")),r!=null&&(A=S(r,"offset","batchNorm")),U(s.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+s.rank+"."}),U(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),U(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."}),a!=null&&U(a.rank===3||a.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),A!=null&&U(A.rank===3||A.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+A.rank+"."}),Al(s,u,l,A,a,i)}function CU(e,t,n,r,o,i){var a,A,s=S(e,"x","batchNorm"),u=S(t,"mean","batchNorm"),l=S(n,"variance","batchNorm");return o!=null&&(a=S(o,"scale","batchNorm")),r!=null&&(A=S(r,"offset","batchNorm")),U(s.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+s.rank+"."}),U(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),U(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."}),a!=null&&U(a.rank===4||a.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),A!=null&&U(A.rank===4||A.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+A.rank+"."}),Al(s,u,l,A,a,i)}function Al(e,t,n,r,o,i){i==null&&(i=.001);var a,A,s,u=S(e,"x","batchNorm"),l=S(t,"mean","batchNorm"),c=S(n,"variance","batchNorm");o!=null&&(a=S(o,"scale","batchNorm")),r!=null&&(A=S(r,"offset","batchNorm")),U(l.rank===c.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),U(A==null||l.rank===A.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),U(a==null||l.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),s=u.rank===0||u.rank===1?u.as4D(1,1,1,u.size):u.rank===2?u.as4D(1,1,u.shape[0],u.shape[1]):u.rank===3?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var d=[u,l,c,a];return D.runKernelFunc(function(f,h){var p=f.batchNormalization(s,Zl(l),Zl(c),i,Zl(a),Zl(A));return h([u,l,c,a]),p},{x:u,mean:l,variance:c,scale:a,offset:A},function(f,h){var p=h,y=p[0],g=p[1],v=p[2],w=p[3],x=w??q(1),B=Qt(g.shape,s.shape),C=[];if(g.rank===1){for(var b=0;b<s.shape.length-1;++b)C.push(s.shape[b]);C.push(1)}var E=y.sub(g),F=f.mul(x),I=yU(v.add(q(i))),T=I.mul(I).mul(I).mul(q(-.5));return{x:function(){return g.rank===1?f.mul(EA(I.as4D(1,1,1,g.shape[0]),C)).mul(x).reshape(y.shape):f.mul(I).mul(x).reshape(y.shape)},mean:function(){var Q=I.mul(q(-1)).mul(F);return g.rank===1&&(Q=Q.sum(B)),Q.reshape(g.shape)},variance:function(){var Q=T.mul(E).mul(F);return g.rank===1&&(Q=Q.sum(B)),Q.reshape(g.shape)},scale:function(){var Q=E.mul(I),N=f.mul(Q);return g.rank===1&&(N=N.sum(B)),N.reshape(g.shape)},offset:function(){var Q=f;return g.rank===1&&(Q=Q.sum(B)),Q.reshape(g.shape)}}},"BatchNormalization",{varianceEpsilon:i},d).reshape(u.shape)}function Zl(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Ch(){PS("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var S6=_({batchNormalization2d_:function(e,t,n,r,o,i){return r===void 0&&(r=.001),Ch(),xU(e,t,n,i,o,r)}}),U6=_({batchNormalization3d_:function(e,t,n,r,o,i){return r===void 0&&(r=.001),Ch(),BU(e,t,n,i,o,r)}}),Q6=_({batchNormalization4d_:function(e,t,n,r,o,i){return r===void 0&&(r=.001),Ch(),CU(e,t,n,i,o,r)}}),T6=_({batchNormalization_:function(e,t,n,r,o,i){return r===void 0&&(r=.001),Ch(),Al(e,t,n,i,o,r)}}),bU=_({batchNorm_:Al}),k6=_({batchNorm2d_:xU}),_6=_({batchNorm3d_:BU}),R6=_({batchNorm4d_:CU}),bh=_({logicalAnd_:function(e,t){var n=S(e,"a","logicalAnd","bool"),r=S(t,"b","logicalAnd","bool");return Ee(n.shape,r.shape),D.runKernelFunc(function(o){return o.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),D6=_({logicalNot_:function(e){var t=S(e,"x","logicalNot","bool");return D.runKernelFunc(function(n){return n.logicalNot(t)},{$x:t})}}),EU=_({logicalOr_:function(e,t){var n=S(e,"a","logicalOr","bool"),r=S(t,"b","logicalOr","bool");return Ee(n.shape,r.shape),D.runKernelFunc(function(o){return o.logicalOr(n,r)},{$a:n,$b:r})}}),N6=_({logicalXor_:function(e,t){var n=S(e,"a","logicalXor","bool"),r=S(t,"b","logicalXor","bool");return Ee(n.shape,r.shape),EU(e,t).logicalAnd(bh(e,t).logicalNot())}}),ya=_({where_:function(e,t,n){var r=S(t,"a","where"),o=S(n,"b","where"),i=S(e,"condition","where","bool");return Ne(r.shape,o.shape,"Error in where: "),i.rank===1?U(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):Ne(i.shape,o.shape,"Error in where: "),D.runKernelFunc(function(a,A){var s=a.select(i,r,o);return A([i]),s},{$condition:i,$a:r,$b:o},function(a,A){var s=A[0];return{$condition:function(){return Se(s).toFloat()},$a:function(){return a.mul(s.cast(a.dtype))},$b:function(){return a.mul(s.logicalNot().cast(a.dtype))}}})}}),FU=function(e){return ae(this,void 0,void 0,function(){var t,n,r;return Ae(this,function(o){switch(o.label){case 0:return[4,(t=S(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=zy(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},be=_({add_:function(e,t){var n,r=S(e,"a","add"),o=S(t,"b","add");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a){return a.add(r,o)},{a:r,b:o},function(a){return{a:function(){var A=a,s=Qt(r.shape,i);return s.length>0&&(A=A.sum(s)),A.reshape(r.shape)},b:function(){var A=a,s=Qt(o.shape,i);return s.length>0&&(A=A.sum(s)),A.reshape(o.shape)}}},"Add")}}),M6=_({addN_:function(e){U(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),U(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(o,i){return S(o,"tensors"+i,"addN")}),n=t[0];t.forEach(function(o){if(o.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(o){if(!Mt(o.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return D.runKernelFunc(function(o){return o.addN(t)},r,function(o){var i={};return t.forEach(function(a,A){i[A]=function(){return o.clone()}}),i},"AddN")}}),P6=_({addStrict_:function(e,t){var n=S(e,"a","addStrict"),r=S(t,"b","addStrict");return Ne(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),L6=_({atan2_:function(e,t){var n,r=S(e,"a","atan2"),o=S(t,"b","atan2");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a,A){var s=a.atan2(r,o);return A([r,o]),s},{$a:r,$b:o},function(a,A){var s=A[0],u=A[1];return{$a:function(){var l=be(s.square(),u.square()),c=a.mul(u.div(l)),d=Qt(s.shape,i);return d.length>0&&(c=c.sum(d)),c.reshape(s.shape)},$b:function(){var l=be(s.square(),u.square()),c=qd(a.mul(s.div(l))),d=Qt(u.shape,i);return d.length>0&&(c=c.sum(d)),c.reshape(u.shape)}}})}}),Tr=_({div_:function(e,t){var n,r=S(e,"a","div"),o=S(t,"b","div");if(n=at(r,o),r=n[0],o=n[1],r.dtype==="int32"&&o.dtype==="int32")return IU(r,o);var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a,A){var s=a.realDivide(r,o);return A([r,o]),s},{a:r,b:o},function(a,A){var s=A[0],u=A[1];return{a:function(){var l=a.div(u.toFloat()),c=Qt(s.shape,i);return c.length>0?l.sum(c).reshape(s.shape):l},b:function(){var l=a.mul(s.toFloat()),c=Qt(u.shape,i);c.length>0&&(l=l.sum(c).reshape(u.shape));var d=u.square();return l.div(d.toFloat()).neg()}}},"Div")}}),H6=_({divNoNan_:function(e,t){var n,r=S(e,"a","div"),o=S(t,"b","div");r=(n=at(r,o))[0],o=n[1];var i=Tr(r,o),a=Se(i),A=o.equal(a);return ya(A,a,i)}}),O6=_({divStrict_:function(e,t){var n=S(e,"a","div"),r=S(t,"b","div");return Ne(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),IU=_({floorDiv_:function(e,t){var n,r=S(e,"a","floorDiv"),o=S(t,"b","floorDiv");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a,A){var s=a.floorDiv(r,o);return A([r,o]),s},{a:r,b:o},function(a,A){var s=A[0],u=A[1];return{a:function(){var l=a.div(u.toFloat()),c=Qt(s.shape,i);return c.length>0?l.sum(c).reshape(s.shape):l},b:function(){var l=a.mul(s.toFloat()),c=Qt(u.shape,i);c.length>0&&(l=l.sum(c).reshape(u.shape));var d=u.square();return l.div(d.toFloat()).neg()}}},"FloorDiv")}}),Jy=_({maximum_:function(e,t){var n,r=S(e,"a","maximum"),o=S(t,"b","maximum");return n=at(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),Ee(r.shape,o.shape),D.runKernelFunc(function(i,a){var A=i.maximum(r,o);return a([r,o]),A},{a:r,b:o},function(i,a){var A=a[0],s=a[1];return{a:function(){return i.mul(A.greaterEqual(s).toFloat())},b:function(){return i.mul(A.less(s).toFloat())}}},"Maximum")}}),j6=_({maximumStrict_:function(e,t){var n=S(e,"a","maximumStrict"),r=S(t,"b","maximumStrict");return Ne(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),SU=_({minimum_:function(e,t){var n,r=S(e,"a","minimum"),o=S(t,"b","minimum");return n=at(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),Ee(r.shape,o.shape),D.runKernelFunc(function(i,a){var A=i.minimum(r,o);return a([r,o]),A},{a:r,b:o},function(i,a){var A=a[0],s=a[1];return{a:function(){return i.mul(A.lessEqual(s).toFloat())},b:function(){return i.mul(A.greater(s).toFloat())}}},"Minimum")}}),V6=_({minimumStrict_:function(e,t){var n=S(e,"a","minimumStrict"),r=S(t,"b","minimumStrict");return Ne(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),K6=_({mod_:function(e,t){var n,r=S(e,"a","mod"),o=S(t,"b","mod");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a,A){var s=a.mod(r,o);return A([r,o]),s},{$a:r,$b:o},function(a,A){var s=A[0],u=A[1];return{$a:function(){var l=Qt(s.shape,i);return l.length>0?a.sum(l).reshape(s.shape):a},$b:function(){var l=a.mul(s.div(u).floor().neg()),c=Qt(u.shape,i);return c.length>0?l.sum(c).reshape(u.shape):l}}})}}),W6=_({modStrict_:function(e,t){var n=S(e,"a","modStrict"),r=S(t,"b","modStrict");return Ne(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),sn=_({mul_:function(e,t){var n,r=S(e,"a","mul"),o=S(t,"b","mul");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a,A){var s=a.multiply(r,o);return A([r,o]),s},{a:r,b:o},function(a,A){var s=A[0],u=A[1];return{a:function(){var l=a.mul(u.toFloat()),c=Qt(s.shape,i);return c.length>0?l.sum(c).reshape(s.shape):l},b:function(){var l=a.mul(s.toFloat()),c=Qt(u.shape,i);return c.length>0?l.sum(c).reshape(u.shape):l}}},"Mul")}}),G6=_({mulStrict_:function(e,t){var n=S(e,"a","mul"),r=S(t,"b","mul");return Ne(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Jd=_({pow_:function(e,t){var n,r=S(e,"base","pow"),o=S(t,"exp","pow");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape),a=[r,o];return D.runKernelFunc(function(A,s){var u=A.pow(r,o);return s([r,o,u]),u},{a:r,b:o},function(A,s){var u=s[0],l=s[1],c=s[2];return{a:function(){var d=l.toFloat(),f=A.mul(d.mul(u.pow(d.sub(q(1))))),h=Qt(u.shape,i);return h.length>0&&(f=f.sum(h)),f.reshape(u.shape)},b:function(){var d=u.greater(0),f=u.log().where(d,Se(u)),h=A.mul(c.mul(f)),p=Qt(l.shape,i);return p.length>0&&(h=h.sum(p)),h.reshape(l.shape)}}},"Pow",{},a,[!0])}}),z6=_({powStrict_:function(e,t){return Ne(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),$6=_({squaredDifferenceStrict_:function(e,t){var n=S(e,"a","squaredDifferenceStrict"),r=S(t,"b","squaredDifferenceStrict");return Ne(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Tt=_({sub_:function(e,t){var n,r=S(e,"a","sub"),o=S(t,"b","sub");n=at(r,o),r=n[0],o=n[1];var i=Ee(r.shape,o.shape);return D.runKernelFunc(function(a){return a.subtract(r,o)},{a:r,b:o},function(a){return{a:function(){var A=a,s=Qt(r.shape,i);return s.length>0&&(A=A.sum(s)),A.reshape(r.shape)},b:function(){var A=a,s=Qt(o.shape,i);return s.length>0&&(A=A.sum(s)),A.neg().reshape(o.shape)}}},"Sub")}}),X6=_({subStrict_:function(e,t){var n=S(e,"a","subStrict"),r=S(t,"b","subStrict");return Ne(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),UU=_({equal_:function(e,t){var n,r=S(e,"a","equal"),o=S(t,"b","equal");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i){return i.equal(r,o)},{$a:r,$b:o})}}),Y6=_({equalStrict_:function(e,t){var n=S(e,"a","equalStrict"),r=S(t,"b","equalStrict");return Ne(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),q6=_({greater_:function(e,t){var n,r=S(e,"a","greater"),o=S(t,"b","greater");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i){return i.greater(r,o)},{a:r,b:o},null,"Greater")}}),QU=_({greaterEqual_:function(e,t){var n,r=S(e,"a","greaterEqual"),o=S(t,"b","greaterEqual");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i,a){var A=i.greaterEqual(r,o);return a([r,o]),A},{a:r,b:o},function(i,a){var A=a[0],s=a[1];return{a:function(){return Se(A)},b:function(){return Se(s)}}},"GreaterEqual")}}),J6=_({greaterEqualStrict_:function(e,t){var n=S(e,"a","greaterEqualStrict"),r=S(t,"b","greaterEqualStrict");return Ne(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Z6=_({greaterStrict_:function(e,t){var n=S(e,"a","greaterStrict"),r=S(t,"b","greaterStrict");return Ne(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),e8=_({less_:function(e,t){var n,r=S(e,"a","less"),o=S(t,"b","less");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i){return i.less(r,o)},{a:r,b:o},null,"Less")}}),t8=_({lessEqual_:function(e,t){var n,r=S(e,"a","lessEqual"),o=S(t,"b","lessEqual");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i,a){var A=i.lessEqual(r,o);return a([r,o]),A},{a:r,b:o},null,"LessEqual")}}),n8=_({lessEqualStrict_:function(e,t){var n=S(e,"a","lessEqualStrict"),r=S(t,"b","lessEqualStrict");return Ne(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),r8=_({lessStrict_:function(e,t){var n=S(e,"a","lessStrict"),r=S(t,"b","lessStrict");return Ne(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),o8=_({notEqual_:function(e,t){var n,r=S(e,"a","notEqual"),o=S(t,"b","notEqual");return n=at(r,o),r=n[0],o=n[1],Ee(r.shape,o.shape),D.runKernelFunc(function(i){return i.notEqual(r,o)},{a:r,b:o},null,"NotEqual")}}),i8=_({notEqualStrict_:function(e,t){var n=S(e,"a","notEqualStrict"),r=S(t,"b","notEqualStrict");return Ne(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function xC(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function BC(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Zy=_({gather_:function(e,t,n){n===void 0&&(n=0);var r=S(e,"x","gather"),o=S(t,"indices","gather","int32");n=kt(n,r.shape)[0];var i=function(a,A,s){for(var u=a.shape[s],l=[],c=1,d=1,f=0;f<s;f++)l.push(a.shape[f]),c*=a.shape[f];for(f=0;f<A.rank;f++)l.push(A.shape[f]);for(f=s+1;f<a.rank;f++)l.push(a.shape[f]),d*=a.shape[f];return{batchSize:c,sliceSize:d,dimSize:u,outputShape:l}}(r,o,n);return D.runKernelFunc(function(a,A){var s=a.gather(r,o.flatten(),n);return A([o]),s},{x:r,indices:o},function(a,A){var s=A[0];return{x:function(){var u=r.shape,l=s.size,c=u.slice(0,n),d=c.length,f=u.slice(n,u.length).slice(1),h=f.length,p=xC(0,d),y=xC(d+1,d+1+h),g=BC([c,[l],f]),v=a.reshape(g),w=s.reshape([l]),x=BC([[d],p,y]),B=v.transpose(x),C=TU(B,w,r.shape[n]),b=Ly(x);return C=C.transpose(b)},indices:function(){return s}}},"Gather",{axis:n}).reshape(i.outputShape)}}),TU=_({unsortedSegmentSum_:function(e,t,n){var r=S(e,"x","unsortedSegmentSum"),o=S(t,"segmentIds","unsortedSegmentSum","int32");return U(dt(n),function(){return"numSegments must be of dtype int"}),D.runKernelFunc(function(i,a){var A=i.unsortedSegmentSum(r,o,n);return a([o]),A},{$x:r},function(i,a){var A=a[0];return{$x:function(){return function(s,u){for(var l=Jy(u,Se(u)),c=Zy(s,l),d=QU(u,q(0,"int32")),f=c.rank-d.rank,h=0;h<f;++h)d=lr(d,h+1);d=bh(d,rs(c.shape,"bool"));var p=Se(c);return ya(d,c,p)}(i,A)}}})}}),a8=function(e,t,n){return ae(this,void 0,void 0,function(){var r,o,i,a,A,s,u,l,c,d,f,h,p;return Ae(this,function(y){switch(y.label){case 0:for(r=S(e,"tensor","boolMask"),o=S(t,"mask","boolMask","bool"),i=n??0,a=o.rank,A=r.shape,U(a>0,function(){return"mask cannot be scalar"}),Ne(A.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),s=1,u=i;u<i+a;u++)s*=A[u];return l=A.slice(0,i).concat([s],A.slice(i+a)),c=r.reshape(l),d=o.reshape([-1]),[4,FU(d)];case 1:return f=y.sent(),h=f.squeeze([1]),p=Zy(c,h,i),e!==r&&r.dispose(),t!==o&&o.dispose(),h.dispose(),c.dispose(),d.dispose(),f.dispose(),[2,p]}})})};function kU(e,t,n,r,o,i,a){i===void 0&&(i="NHWC"),U(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var A=e,s=t,u=!1;t.rank===3&&(u=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),A=[1,e[0],e[1],e[2]]),U(A.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+A.length+"."}),U(s.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank}),U(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var l=i==="NHWC"?A[3]:A[1],c=i==="NHWC"?s.shape[3]:s.shape[1];U(l===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."}),U(c===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[3]+"."}),a!=null&&U(dt(o),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var d=Ky(i),f=Ia(A,n.shape,r,1,o,a,!1,d),h=D.runKernelFunc(function(p,y){var g=p.conv2dDerInput(s,n,f);return y([n,s]),g},{dy4D:s,filter:n},function(p,y){var g=y[0],v=y[1];return{dy4D:function(){return Cr(p,g,r,o,i,1,a)},filter:function(){return e1(p,v,g.shape,r,o,i,a)}}});return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function tg(e){var t=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(e),n=t[0],r=t[1],o=t[2];return n===1&&r===1&&o===1}function _U(e,t,n,r,o){U(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var i=e,a=t,A=!1;t.rank===4&&(A=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var s=i[4],u=a.shape[4];U(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),U(a.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),U(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),U(s===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+s+") must match input depth for filter "+n.shape[3]+"."}),U(u===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."});var l=Xd(i,n.shape,r,1,o),c=D.runKernelFunc(function(d){return d.conv3dDerInput(a,n,l)},{dy5D:a});return A?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}var A8=_({conv1d_:function(e,t,n,r,o,i,a){o===void 0&&(o="NWC"),i===void 0&&(i=1);var A=S(e,"x","conv1d"),s=S(t,"filter","conv1d"),u=A,l=!1;A.rank===2&&(l=!0,u=A.as3D(1,A.shape[0],A.shape[1])),U(u.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),U(s.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+s.rank+"."}),a!=null&&U(dt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),U(u.shape[2]===s.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+s.shape[1]+"."}),U(_n(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),U(o==="NWC",function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."});var c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),d=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=Cr(d,c,[1,n],r,"NHWC",[1,i],a);return l?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),Cr=_({conv2d_:function(e,t,n,r,o,i,a){o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]);var A=S(e,"x","conv2d"),s=S(t,"filter","conv2d"),u=A,l=!1;A.rank===3&&(l=!0,u=A.as4D(1,A.shape[0],A.shape[1],A.shape[2])),U(u.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),U(s.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+s.rank+"."}),a!=null&&U(dt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var c=o==="NHWC"?u.shape[3]:u.shape[1];U(c===s.shape[2],function(){return"Error in conv2d: depth of input ("+c+") must match input depth for filter "+s.shape[2]+"."}),U(_n(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var d=Ky(o),f=Ia(u.shape,s.shape,n,i,r,a,!1,d),h=[s,u],p=D.runKernelFunc(function(y,g){var v=y.conv2d(u,s,f);return g([s,u]),v},{x:u,filter:s},function(y,g){var v=g,w=v[0],x=v[1];return U(GA(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return RU(x.shape,y,w,n,r,o)},filter:function(){return e1(x,y,w.shape,n,r,o)}}},"Conv2D",f,h);return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),s8=_({conv3d_:function(e,t,n,r,o,i){o===void 0&&(o="NDHWC"),i===void 0&&(i=[1,1,1]);var a=S(e,"x","conv3d"),A=S(t,"filter","conv3d"),s=a,u=!1;a.rank===4&&(u=!0,s=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),U(s.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+s.rank+"."}),U(A.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+A.rank+"."}),U(s.shape[4]===A.shape[3],function(){return"Error in conv3d: depth of input ("+s.shape[4]+") must match input depth for filter "+A.shape[3]+"."}),U(function(d,f){return tg(d)||tg(f)}(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),U(o==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."});var l=Xd(s.shape,A.shape,n,i,r),c=D.runKernelFunc(function(d,f){var h=d.conv3d(s,A,l);return f([s,A]),h},{x:s,$filter:A},function(d,f){U(tg(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var h=f[0],p=f[1];return{x:function(){return _U(h.shape,d,p,n,r)},$filter:function(){return function(y,g,v,w,x){var B=y;y.rank===4&&(B=y.as5D(1,y.shape[0],y.shape[1],y.shape[2],y.shape[3]));var C=g;C.rank===4&&(C=g.as5D(1,g.shape[0],g.shape[1],g.shape[2],g.shape[3])),U(B.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+B.shape+"."}),U(C.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+C.shape+"."}),U(v.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+v+"."}),U(B.shape[4]===v[3],function(){return"Error in conv3dDerFilter: depth of input "+B.shape[4]+") must match input depth in filter ("+v[3]+"."}),U(C.shape[4]===v[4],function(){return"Error in conv3dDerFilter: depth of dy ("+C.shape[4]+") must match output depth for filter ("+v[4]+")."});var b=Xd(B.shape,v,w,1,x);return D.runKernelFunc(function(E){return E.conv3dDerFilter(B,C,b)},{x5D:B,dy5D:C})}(h,d,p.shape,n,r)}}});return u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),e1=_({conv2dDerFilter_:function(e,t,n,r,o,i,a){i===void 0&&(i="NHWC");var A=e;e.rank===3&&(A=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t;s.rank===3&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),U(A.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+A.shape+"."}),U(s.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."}),U(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var u=i==="NHWC"?A.shape[3]:A.shape[1],l=i==="NHWC"?s.shape[3]:s.shape[1];U(u===n[2],function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."}),U(l===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."}),a!=null&&U(dt(o),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var c=Ky(i),d=Ia(A.shape,n,r,1,o,a,!1,c);return D.runKernelFunc(function(f){return f.conv2dDerFilter(A,s,d)},{x4D:A,dy4D:s})}}),RU=_({conv2dDerInput_:kU}),Eh=_({depthwiseConv2d_:function(e,t,n,r,o,i,a){i===void 0&&(i=[1,1]);var A=S(e,"x","depthwiseConv2d"),s=S(t,"filter","depthwiseConv2d"),u=A,l=!1;A.rank===3&&(l=!0,u=A.as4D(1,A.shape[0],A.shape[1],A.shape[2])),U(u.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),U(s.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+s.rank+"."}),U(u.shape[3]===s.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+s.shape[2]+"."}),i==null&&(i=[1,1]),U(_n(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),a!=null&&U(dt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var c=Ia(u.shape,s.shape,n,i,r,a,!0),d=[u,s],f=D.runKernelFunc(function(h,p){var y=h.depthwiseConv2D(u,s,c);return p([u,s]),y},{x:u,filter:s},function(h,p){U(GA(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var y=p[0],g=p[1];return{x:function(){return DU(y.shape,h,g,c)},filter:function(){return NU(y,h,g.shape,c)}}},"DepthwiseConv2dNative",c,d);return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),DU=_({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;t.rank===3&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=D.runKernelFunc(function(A){return A.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),NU=_({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;e.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return i.rank===3&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),D.runKernelFunc(function(a){return a.depthwiseConv2DDerFilter(o,i,r)},{x4D:o,dy4D:i})}}),t1=_({separableConv2d_:function(e,t,n,r,o,i,a){i===void 0&&(i=[1,1]),a===void 0&&(a="NHWC");var A=S(e,"x","separableConv2d"),s=S(t,"depthwiseFilter","separableConv2d"),u=S(n,"pointwiseFilter","separableConv2d"),l=A,c=!1;if(A.rank===3&&(c=!0,l=A.as4D(1,A.shape[0],A.shape[1],A.shape[2])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");U(l.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."}),U(s.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+s.rank+"."}),U(u.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+s.rank+"."}),U(u.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),U(u.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var d=s.shape[2],f=s.shape[3];U(u.shape[2]===d*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*f+", but got "+u.shape[2]+"."});var h=Eh(l,s,r,o,a,i),p=Cr(h,u,1,"valid",a);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),u8=_({conv2dTranspose_:function(e,t,n,r,o,i){return kU(n,S(e,"x","conv2dTranspose"),S(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),l8=_({conv3dTranspose_:function(e,t,n,r,o){return _U(n,S(e,"x","conv3dTranspose"),S(t,"filter","conv3dTranspose"),r,o)}}),Fh=_({matMul_:function(e,t,n,r){var o;n===void 0&&(n=!1),r===void 0&&(r=!1);var i=S(e,"a","matMul"),a=S(t,"b","matMul");o=at(i,a),i=o[0],a=o[1];var A=n?i.shape[i.rank-2]:i.shape[i.rank-1],s=r?a.shape[a.rank-1]:a.shape[a.rank-2],u=n?i.shape[i.rank-1]:i.shape[i.rank-2],l=r?a.shape[a.rank-2]:a.shape[a.rank-1],c=i.shape.slice(0,-2),d=a.shape.slice(0,-2),f=ue(c),h=ue(d);U(i.rank>=2&&a.rank>=2&&i.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."}),U(Mt(c,d),function(){return"Error in matMul: outer dimensions ("+c+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."}),U(A===s,function(){return"Error in matMul: inner shapes ("+A+") and ("+s+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var p=i.shape.slice(0,-2).concat([u,l]),y=n?i.as3D(f,A,u):i.as3D(f,u,A),g=r?a.as3D(h,l,s):a.as3D(h,s,l),v={transposeA:n,transposeB:r};return D.runKernelFunc(function(w,x){var B=w.batchMatMul(y,g,n,r);return x([y,g]),B},{a:y,b:g},function(w,x){var B=x,C=B[0],b=B[1];return n||r?!n&&r?{a:function(){return w.matMul(b,!1,!1)},b:function(){return w.matMul(C,!0,!1)}}:n&&!r?{a:function(){return b.matMul(w,!1,!0)},b:function(){return C.matMul(w,!1,!1)}}:{a:function(){return b.matMul(w,!0,!0)},b:function(){return w.matMul(C,!0,!0)}}:{a:function(){return w.matMul(b,!1,!0)},b:function(){return C.matMul(w,!0,!1)}}},"BatchMatMul",v).reshape(p)}}),c8=_({dot_:function(e,t){var n=S(e,"t1","dot"),r=S(t,"t2","dot");U(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var o=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];return U(o===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),d8=_({outerProduct_:function(e,t){var n=S(e,"v1","outerProduct"),r=S(t,"v2","outerProduct");return U(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),sl=_({reverse_:function(e,t){var n=S(e,"x","reverse");if(n.rank===0)return n.clone();var r=kt(t,n.shape);return D.runKernelFunc(function(o){return o.reverse(n,r)},{$x:n},function(o){return{$x:function(){return o.reverse(r)}}}).reshapeAs(n)}}),f8=_({reverse1d_:function(e){var t=S(e,"x","reverse");return U(t.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),sl(t,0)}}),h8=_({reverse2d_:function(e,t){var n=S(e,"x","reverse");return U(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),sl(n,t)}}),p8=_({reverse3d_:function(e,t){var n=S(e,"x","reverse");return U(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),sl(n,t)}}),g8=_({reverse4d_:function(e,t){var n=S(e,"x","reverse");return U(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),sl(n,t)}});function MU(e,t,n,r,o,i){var a=S(e,"x","maxPool"),A=a,s=!1;a.rank===3&&(s=!0,A=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),r==null&&(r=[1,1]),U(A.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+A.rank+"."}),U(_n(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),i!=null&&U(dt(o),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var u=Nu(A.shape,t,n,r,o,i);if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))return a.clone();var l=[A],c=D.runKernelFunc(function(d,f){var h=d.maxPool(A,u);return f([A,h]),h},{x:A},function(d,f){var h=f[0],p=f[1];return{x:function(){return function(y,g,v,w,x,B,C,b){var E=S(y,"dy","maxPoolBackprop"),F=S(g,"input","maxPoolBackprop"),I=S(v,"output","maxPoolBackprop");U(F.rank===E.rank,function(){return"Rank of input ("+F.rank+") does not match rank of dy ("+E.rank+")"}),B==null&&(B=[1,1]),U(_n(x,B),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+B+"'"}),U(E.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+E.rank+"."}),U(F.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+F.rank+"."}),b!=null&&U(dt(C),function(){return"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+b+" but got pad "+C+"."});var T=Nu(F.shape,w,x,B,C,b);return D.runKernelFunc(function(Q){return Q.maxPoolBackprop(E,F,I,T)},{$dy:E,$input:F})}(d,h,p,t,n,r,o)}}},"MaxPool",u,l);return s?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function PU(e,t,n,r,o,i){var a=S(e,"x","avgPool","float32");r==null&&(r=[1,1]),U(_n(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var A=a,s=!1;a.rank===3&&(s=!0,A=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),U(A.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+A.rank+"."}),i!=null&&U(dt(o),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var u=Nu(A.shape,t,n,r,o,i);if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))return a.clone();var l=D.runKernelFunc(function(c){return c.avgPool(A,u)},{x:A},function(c){return{x:function(){return function(d,f,h,p,y,g){var v=S(d,"dy","avgPoolBackprop"),w=S(f,"input","avgPoolBackprop");U(w.rank===v.rank,function(){return"Rank of input ("+w.rank+") does not match rank of dy ("+v.rank+")"}),y==null&&(y=[1,1]),U(_n(p,y),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+p+" and dilations '"+y+"'"});var x=w,B=v,C=!1;w.rank===3&&(C=!0,x=w.as4D(1,w.shape[0],w.shape[1],w.shape[2]),B=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),U(B.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+B.rank+"."}),U(x.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+x.rank+"."});var b=Nu(x.shape,h,p,y,g),E=D.runKernelFunc(function(F){return F.avgPoolBackprop(B,x,b)},{dy4D:B,input4D:x});return C?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}(c,A,t,n,r,o)}}},"AvgPool",u);return l=l.cast(a.dtype),s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var Rt=_({maxPool_:function(e,t,n,r,o){return MU(e,t,n,1,r,o)}}),ul=_({avgPool_:function(e,t,n,r,o){return PU(e,t,n,1,r,o)}}),m8=_({pool_:function(e,t,n,r,o,i){o==null&&(o=[1,1]),i==null&&(i=1),r===0&&(r="valid");var a=S(e,"x","maxPool"),A=a,s=!1;a.rank===3&&(s=!0,A=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),U(_n(i,o),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"});var u,l=Nu(A.shape,t,i,o,r),c=[l.dilationHeight,l.dilationWidth];u=r==="same"?function(x,B){var C=x.map(function(F,I){return F+(F-1)*(B[I]-1)}).map(function(F){return F-1}),b=C.map(function(F){return Math.floor(F/2)}),E=C.map(function(F,I){return F-b[I]});return C.map(function(F,I){return[b[I],E[I]]})}([l.filterHeight,l.filterWidth],c):[[0,0],[0,0]];var d=c[0]===1&&c[1]===1,f=function(x,B,C){var b=C.map(function(M){return M[0]}),E=C.map(function(M){return M[1]}),F=x.concat(b,E),I=B.map(function(M,O){return(M-F[O]%M)%M}),T=E.map(function(M,O){return M+I[O]}),Q=B.map(function(M,O){return[b[O],T[O]]}),N=B.map(function(M,O){return[0,I[O]]});return[Q,N]}([l.inHeight,l.inWidth],c,u),h=f[0],p=f[1],y=d?r:"valid",g=d?A:KS(A,c,h),v=(n==="avg"?function(){return PU(g,t,i,1,y)}:function(){return MU(g,t,i,1,y)})(),w=d?v:OS(v,c,p);return s?w.as3D(w.shape[1],w.shape[2],w.shape[3]):w}}),v8=_({maxPool3d_:function(e,t,n,r,o,i,a){i===void 0&&(i="NDHWC");var A=S(e,"x","maxPool3d"),s=A,u=!1;A.rank===4&&(u=!0,s=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),a==null&&(a=[1,1,1]),U(s.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+s.rank+"."}),U(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),U(_n(n,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),o!=null&&U(dt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var l=$d(s.shape,t,n,a,r,o,i),c=D.runKernelFunc(function(d,f){var h=d.maxPool3d(s,l);return f([s,h]),h},{x:s},function(d,f){var h=f[0],p=f[1];return{x:function(){return function(y,g,v,w,x,B,C,b){var E=S(y,"dy","maxPool3dBackprop"),F=S(g,"input","maxPool3dBackprop"),I=S(v,"output","maxPool3dBackprop"),T=E,Q=F,N=I,M=!1;F.rank===4&&(M=!0,T=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3]),Q=F.as5D(1,F.shape[0],F.shape[1],F.shape[2],F.shape[3]),N=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3])),U(T.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+T.rank+"."}),U(Q.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+Q.rank+"."}),U(N.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+N.rank+"."}),B==null&&(B=[1,1,1]),U(_n(x,B),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+B+"'"}),b!=null&&U(dt(C),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+b+" but got pad "+C+"."});var O=$d(Q.shape,w,x,B,C,b),L=D.runKernelFunc(function(j){return j.maxPool3dBackprop(T,Q,N,O)},{dy5D:T,input5D:Q});return M?L.as4D(L.shape[1],L.shape[2],L.shape[3],L.shape[4]):L}(d,h,p,t,n,a,r,o)}}});return u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),y8=_({avgPool3d_:function(e,t,n,r,o,i,a){i===void 0&&(i="NDHWC");var A=S(e,"x","avgPool3d","float32"),s=A,u=!1;A.rank===4&&(u=!0,s=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),a==null&&(a=[1,1,1]),U(s.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+s.rank+"."}),U(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),U(_n(n,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),o!=null&&U(dt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var l=$d(s.shape,t,n,a,r,o,i),c=D.runKernelFunc(function(d){return d.avgPool3d(s,l)},{x:s},function(d){return{x:function(){return function(f,h,p,y,g,v,w){var x=S(f,"dy","avgPool3dBackprop"),B=S(h,"input","avgPool3dBackprop"),C=x,b=B,E=!1;B.rank===4&&(E=!0,C=x.as5D(1,x.shape[0],x.shape[1],x.shape[2],x.shape[3]),b=B.as5D(1,B.shape[0],B.shape[1],B.shape[2],B.shape[3])),U(C.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+C.rank+"."}),U(b.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+b.rank+"."}),g==null&&(g=[1,1,1]),U(_n(y,g),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+g+"'"}),w!=null&&U(dt(v),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+w+" but got pad "+v+"."});var F=$d(b.shape,p,y,g,v,w),I=D.runKernelFunc(function(T){return T.avgPool3dBackprop(C,b,F)},{dy5D:C,input5D:b});return E?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}(d,s,t,n,a,r,o)}}});return c=c.cast(s.dtype),u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),lo=_({slice_:function(e,t,n){var r,o,i=S(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof t=="number"?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach(function(s){U(s!==-1,function(){return"slice() does not support negative begin indexing."})}),o=(o=n==null?new Array(i.rank).fill(-1):typeof n=="number"?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(s,u){return s>=0?s:(U(s===-1,function(){return"Negative size values should be exactly -1 but got "+s+" for the slice() size at index "+u+"."}),i.shape[u]-r[u])}),zj(i,r,o);var a=i.shape,A={begin:r,size:o};return D.runKernelFunc(function(s){return s.slice(i,r,o)},{x:i},function(s){for(var u=[],l=0;l<s.rank;l++)u.push([r[l],a[l]-r[l]-o[l]]);return{x:function(){return s.pad(u)}}},"Slice",A)}}),w8=_({slice1d_:function(e,t,n){var r=S(e,"x","slice1d");return U(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),lo(r,[t],[n])}}),x8=_({slice2d_:function(e,t,n){var r=S(e,"x","slice2d");return U(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),lo(r,t,n)}}),LU=_({slice3d_:function(e,t,n){var r=S(e,"x","slice3d");return U(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),lo(r,t,n)}}),B8=_({slice4d_:function(e,t,n){var r=S(e,"x","slice4d");return U(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),lo(r,t,n)}});function HU(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(kn(t.shape,r))),e.rank<n.rank&&(e=e.reshape(kn(e.shape,r))),{x:function(){var i=e.mul(n.equal(t).cast(e.dtype));return o==null?i:i.transpose(o)}}}var C8=_({all_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","all","bool"),o=kt(t,r.shape),i=o,a=fo(i,r.rank);a!=null&&(r=r.transpose(a),i=ho(i.length,r.rank));var A=D.runKernelFunc(function(u){return u.all(r,i)},{$x:r});if(n){var s=kn(A.shape,o);return A.reshape(s)}return A}}),b8=_({any_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","any","bool"),o=kt(t,r.shape),i=o,a=fo(i,r.rank);a!=null&&(r=r.transpose(a),i=ho(i.length,r.rank));var A=D.runKernelFunc(function(u){return u.any(r,i)},{$x:r});if(n){var s=kn(A.shape,o);return A.reshape(s)}return A}}),E8=_({argMax_:function(e,t){t===void 0&&(t=0);var n=S(e,"x","argMax");t==null&&(t=0);var r=kt(t,n.shape),o=fo(r,n.rank);o!=null&&(n=n.transpose(o),r=ho(r.length,n.rank));var i={axis:r[0]},a=[n];return D.runKernelFunc(function(A,s){var u=A.argMax(n,r[0]);return s([n]),u},{x:n},function(A,s){var u=s[0];return{x:function(){return Se(u)}}},"ArgMax",i,a)}}),F8=_({argMin_:function(e,t){t===void 0&&(t=0);var n=S(e,"x","argMin");t==null&&(t=0);var r=kt(t,n.shape),o=fo(r,n.rank);return o!=null&&(n=n.transpose(o),r=ho(r.length,n.rank)),D.runKernelFunc(function(i,a){var A=i.argMin(n,r[0]);return a([n]),A},{$x:n},function(i,a){var A=a[0];return{$x:function(){return Se(A)}}})}}),I8=_({logSumExp_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","logSumExp"),o=kt(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),A=i.reshape(a.shape).add(a);if(n){var s=kn(A.shape,o);return A.reshape(s)}return A}}),Ih=_({max_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","max"),o=r,i=kt(t,r.shape),a=i,A=fo(a,r.rank);A!=null&&(r=r.transpose(A),a=ho(a.length,r.rank));var s=[r],u=D.runKernelFunc(function(c,d){var f=c.max(r,a);return d([o,f]),f},{x:r},function(c,d){return HU(c,d[1],d[0],i,A)},"Max",{axes:a},s,[!0]);if(n){var l=kn(u.shape,i);u=u.reshape(l)}return u}}),S8=_({mean_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","mean"),o=kt(t,r.shape),i=ue(tn(r.shape,o)[1]);return Bh(function(a){var A=q(i);return{value:(A.dtype===a.dtype?a:a.cast(A.dtype)).div(A).sum(t,n),gradFunc:function(s){var u=a.shape.slice();return o.forEach(function(l){u[l]=1}),s.reshape(u).mul(rs(a.shape,"float32")).div(i)}}})(r)}}),U8=_({min_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","min"),o=r,i=kt(t,r.shape),a=i,A=fo(a,r.rank);A!=null&&(r=r.transpose(A),a=ho(a.length,r.rank));var s=[r],u=D.runKernelFunc(function(c,d){var f=c.min(r,a);return d([o,f]),f},{x:r},function(c,d){return HU(c,d[1],d[0],i,A)},"Min",{axes:a},s,[!0]);if(n){var l=kn(u.shape,i);u=u.reshape(l)}return u}}),Q8=_({moments_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=kt(t,(e=S(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=kn(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),OU=_({sum_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var o=kt(t,r.shape);return Bh(function(i){var a=fo(o,i.rank),A=o,s=i;a!=null&&(s=i.transpose(a),A=ho(A.length,i.rank));var u=function(f){var h=i.shape.slice();return o.forEach(function(p){h[p]=1}),f.reshape(h).mul(rs(i.shape,"float32"))},l={axes:A},c=D.runKernelFunc(function(f){return f.sum(s,A)},{x:s},function(f){return{x:function(){return u(f)}}},"Sum",l);if(n){var d=kn(c.shape,o);c=c.reshape(d)}return{value:c,gradFunc:u}})(r)}}),T8=_({prod_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=S(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var o=kt(t,r.shape),i=fo(o,r.rank),a=o,A=r;i!=null&&(A=r.transpose(i),a=ho(a.length,r.rank));var s=D.runKernelFunc(function(l){return l.prod(A,a)},{permutedX:A});if(n){var u=kn(s.shape,o);s=s.reshape(u)}return s}}),jU=_({elu_:function(e){var t=S(e,"x","elu");return D.runKernelFunc(function(n,r){var o=n.elu(t);return r([o]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){return D.runKernelFunc(function(i){return i.eluDer(n,o)},{dy:n,y:o})}}})}}),k8=_({leakyRelu_:function(e,t){t===void 0&&(t=.2);var n=S(e,"x","leakyRelu");return Jy(q(t).mul(n),n)}}),VU=_({prelu_:function(e,t){var n=S(e,"x","prelu"),r=S(t,"alpha","prelu");return D.runKernelFunc(function(o,i){var a=o.prelu(n,r);return i([n,r]),a},{x:n,alpha:r},function(o,i){var a=i[0],A=i[1],s=a.greater(0);return{x:function(){return ya(s,o,o.mul(A))},alpha:function(){var u=ya(s,Se(o),o.mul(a)),l=Qt(A.shape,o.shape);return l.length>0&&(u=u.sum(l)),u.reshape(A.shape)}}},"Prelu")}}),rt=_({relu_:function(e){var t=S(e,"x","relu");return t.dtype==="bool"?t.toInt():D.runKernelFunc(function(n,r){var o=n.relu(t);return r([t]),o},{x:t},function(n,r){var o=r[0];return{x:function(){return n.mulStrict(o.step().toFloat())}}},"Relu")}}),KU=_({relu6_:function(e){var t=S(e,"x","relu6");return t.dtype==="bool"?t.toInt():D.runKernelFunc(function(n,r){var o=n.relu6(t);return r([t]),o},{x:t},function(n,r){var o=r[0],i=o.lessEqual(6).mul(o.step());return{x:function(){return n.mulStrict(i.toFloat())}}},"Relu6")}}),_8=_({selu_:function(e){var t=S(e,"x","selu");return D.runKernelFunc(function(n,r){var o=n.selu(t);return r([t]),o},{$x:t},function(n,r){var o=r[0];return{$x:function(){var i=o.greater(q(0)),a=q(Xy),A=q(Yy),s=n.mul(A),u=n.mul(a).mul(o.toFloat().exp());return ya(i,s,u)}}})}}),ki=_({transpose_:function(e,t){var n=S(e,"x","transpose");if(t==null&&(t=n.shape.map(function(o,i){return i}).reverse()),U(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(o){U(o>=0&&o<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return D.runKernelFunc(function(o){return o.transpose(n,t)},{x:n},function(o){var i=Ly(t);return{x:function(){return o.transpose(i)}}},"Transpose",r)}}),R8=_({localResponseNormalization_:function(e,t,n,r,o){t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5);var i=S(e,"x","localResponseNormalization");U(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),U(dt(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var a=i,A=!1;i.rank===3&&(A=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var s=D.runKernelFunc(function(u,l){var c=u.localResponseNormalization4D(a,t,n,r,o);return l([a,c]),c},{x4D:a},function(u,l){var c=l[0],d=l[1];return{x4D:function(){return D.runKernelFunc(function(f){return f.LRNGrad(u,c,d,t,n,r,o)},{})}}});return A?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}}),WU=_({norm_:function(e,t,n,r){t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var o=function A(s,u,l){if(l===void 0&&(l=null),s.rank===0)return s.abs();if(s.rank!==1&&l===null)return A(s.reshape([-1]),u,l);if(s.rank===1||typeof l=="number"||Array.isArray(l)&&l.length===1){if(u===1)return s.abs().sum(l);if(u===1/0)return s.abs().max(l);if(u===-1/0)return s.abs().min(l);if(u==="euclidean"||u===2)return s.abs().pow(q(2,"int32")).sum(l).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}if(Array.isArray(l)&&l.length===2){if(u===1)return s.abs().sum(l[0]).max(l[1]-1);if(u===1/0)return s.abs().sum(l[1]).max(l[0]);if(u===-1/0)return s.abs().sum(l[1]).min(l[0]);if(u==="fro"||u==="euclidean")return s.square().sum(l).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}throw new Error("Error in norm: invalid axis: "+l)}(e=S(e,"x","norm"),t,n),i=o.shape;if(r){var a=kt(n,e.shape);i=kn(o.shape,a)}return o.reshape(i)}}),D8=_({basicLSTMCell_:function(e,t,n,r,o,i){var a=S(e,"forgetBias","basicLSTMCell"),A=S(t,"lstmKernel","basicLSTMCell"),s=S(n,"lstmBias","basicLSTMCell"),u=S(r,"data","basicLSTMCell"),l=S(o,"c","basicLSTMCell"),c=S(i,"h","basicLSTMCell"),d=u.concat(c,1).matMul(A).add(s),f=d.shape[0],h=d.shape[1]/4,p=[f,h],y=d.slice([0,0],p),g=d.slice([0,h],p),v=d.slice([0,2*h],p),w=d.slice([0,3*h],p),x=y.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(a.add(v).sigmoid())),B=x.tanh().mulStrict(w.sigmoid());return[x,B]}}),N8=_({multiRNNCell_:function(e,t,n,r){for(var o=S(t,"data","multiRNNCell"),i=jd(n,"c","multiRNNCell"),a=jd(r,"h","multiRNNCell"),A=o,s=[],u=0;u<e.length;u++){var l=e[u](A,i[u],a[u]);s.push(l[0]),s.push(l[1]),A=l[1]}var c=[],d=[];for(u=0;u<s.length;u+=2)c.push(s[u]),d.push(s[u+1]);return[c,d]}}),M8=_({movingAverage_:function(e,t,n,r,o){o===void 0&&(o=!0);var i=S(e,"v","movingAverage"),a=S(t,"x","movingAverage"),A=S(n,"decay","movingAverage");R5(i,a),U(Mt(i.shape,a.shape),function(){return"Shape mismatch in v and x"});var s=q(1),u=s.sub(A),l=a.sub(i).mul(u);if(o){U(r!=null,function(){return"When using zeroDebias: true, step is required."});var c=S(r,"step","movingAverage");l=l.div(s.sub(Jd(A,c)))}return i.add(l)}}),P8=_({stridedSlice_:function(e,t,n,r,o,i,a,A,s){if(o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0),A===void 0&&(A=0),s===void 0&&(s=0),r==null&&(r=new Array(t.length)),a!==0)throw new Error("ellipsis mask is not yet supported");var u=S(e,"x","stridedSlice"),l=tC(A),c=u.shape.slice();l.forEach(function(y){t[y]=0,n[y]=1,c.splice(y,0,1)}),u=u.reshape(c);for(var d=0;d<u.rank;d++)t[d]=$j(o,t,r,u.shape,d),n[d]=Xj(i,n,r,u.shape,d),r[d]=r[d]||1;var f=tC(s);f.forEach(function(y){n[y]=t[y]+1,r[y]=1});var h=Vy(t,n,r),p=h.filter(function(y,g){return f.indexOf(g)===-1});return r.every(function(y){return y===1})?lo(u,t,h).reshape(p):D.runKernelFunc(function(y){return y.stridedSlice(u,t,n,r)},{$x:u}).reshape(p)}}),L8=_({topk_:function(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!0);var r=S(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=D.runKernelFunc(function(a){return a.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}}),H8=_({scatterND_:function(e,t,n){var r=S(e,"indices","scatterND","int32"),o=S(t,"updates","scatterND");return Gj(o,r,n),D.runKernelFunc(function(i){return i.scatterND(r,o,n)},{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),n1=_({fft_:function(e){U(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return D.runKernelFunc(function(o){return o.fft(r)},{input:e}).reshape(e.shape)}}),Zd=_({ifft_:function(e){U(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return D.runKernelFunc(function(o){return o.ifft(r)},{input:e}).reshape(e.shape)}}),r1=_({rfft_:function(e,t){U(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],o=e.size/r;if(t!=null&&t<r){var i=e.shape.map(function(g){return 0}),a=e.shape.map(function(g){return g});a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(t!=null&&t>r){var A=e.shape.map(function(g){return g});A[e.shape.length-1]=t-r,n=e.concat(Xe(A),e.shape.length-1),r=t}else n=e;var s=n.zerosLike(),u=Ot(n,s).as2D(o,r),l=n1(u),c=Math.floor(r/2)+1,d=dr(l),f=eo(l),h=d.split([c,r-c],d.shape.length-1),p=f.split([c,r-c],f.shape.length-1),y=n.shape.slice();return y[n.shape.length-1]=c,Ot(h[0],p[0]).reshape(y)}}),GU=_({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=Zd(r);return dr(o)}var i=[n,2*(t-1)],a=dr(e).as2D(n,t),A=eo(e).as2D(n,t),s=a.slice([0,1],[n,t-2]).reverse(1),u=A.slice([0,1],[n,t-2]).reverse(1).mul(q(-1)),l=a.concat(s,1),c=A.concat(u,1);return r=Ot(l,c).as2D(i[0],i[1]),o=Zd(r),dr(o)}}),O8=Object.freeze({fft:n1,ifft:Zd,rfft:r1,irfft:GU}),j8=_({sparseToDense_:function(e,t,n,r){r===void 0&&(r=0);var o=S(e,"sparseIndices","sparseToDense","int32"),i=S(t,"sparseValues","sparseToDense"),a=S(r,"defaultValue","sparseToDense",i.dtype);return function(A,s,u,l){if(A.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+A.dtype+".");if(A.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+A.shape+".");var c=A.rank>0?A.shape[0]:1,d=A.rank>1?A.shape[1]:1;if(u.length!==d)throw new Error("outputShape has incorrect number of elements:, "+u.length+", should be: "+d+".");var f=s.size;if(s.rank!==0&&(s.rank!==1||f!==c))throw new Error("sparseValues has incorrect shape "+s.shape+", should be [] or ["+c+"]");if(s.dtype!==l.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),D.runKernelFunc(function(A){return A.sparseToDense(o,i,n,a)},{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),V8=_({gatherND_:function(e,t){var n=S(t,"indices","gatherND","int32"),r=S(e,"x","gatherND");return D.runKernelFunc(function(o){return o.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),K8=_({diag_:function(e){var t=S(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return D.runKernelFunc(function(r){return r.diag(t)},{$x:t}).reshape(n)}}),W8=_({dropout_:function(e,t,n,r){var o=S(e,"x","dropout");if(U(o.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."}),U(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),t===0)return e instanceof tt?o.clone():o;var i=function(s,u){if(u==null)return s.shape.slice();if(Mt(s.shape,u))return u;if(s.shape.length===u.length){for(var l=[],c=0;c<s.shape.length;c++)u[c]==null&&s.shape[c]!=null?l.push(s.shape[c]):l.push(u[c]);return l}return u}(o,n),a=1-t,A=VS(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(A)}});function zU(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return Ct(o,"float32")}var o1=_({hannWindow_:function(e){return zU(e,.5,.5)}}),$U=_({hammingWindow_:function(e){return zU(e,.54,.46)}}),i1=_({frame_:function(e,t,n,r,o){r===void 0&&(r=!1),o===void 0&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(lo(e,i,t)),i+=n;if(r)for(;i<e.size;){var A=i+t-e.size,s=St([lo(e,i,t-A),uo([A],o)]);a.push(s),i+=n}return a.length===0?Ci([],[0,t]):St(a).as2D(a.length,t)}}),XU=_({stft_:function(e,t,n,r,o){var i;o===void 0&&(o=o1),r==null&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=i1(e,t,n),A=sn(a,o(t)),s=[],u=0;u<a.shape[0];u++)s.push(r1(A.slice([u,0],[1,t]),r));return St(s)}}),G8=Object.freeze({hannWindow:o1,hammingWindow:$U,frame:i1,stft:XU}),An,z8=function(e,t,n){return n===void 0&&(n=1),ae(this,void 0,void 0,function(){var r,o,i,a,A,s,u,l,c,d,f,h,p,y;return Ae(this,function(g){switch(g.label){case 0:return r=S(e,"predictions","inTopK"),o=S(t,"targets","inTopK"),U(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),U(r.rank-1===o.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank}),Ne(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],U(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return a=g.sent(),[4,o.data()];case 2:for(A=g.sent(),s=[a.length/i,i],l=s[1],c=_u("bool",u=s[0]),d=0;d<u;d++){for(f=d*l,h=a.subarray(f,f+l),p=[],y=0;y<h.length;y++)p.push({value:h[y],index:y});for(p.sort(function(v,w){return w.value-v.value}),c[d]=0,y=0;y<n;y++)if(p[y].index===A[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,Wt(c,o.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(An||(An={}));var $8=_({absoluteDifference_:function(e,t,n,r){r===void 0&&(r=An.SUM_BY_NONZERO_WEIGHTS);var o=S(e,"labels","absoluteDifference"),i=S(t,"predictions","absoluteDifference"),a=null;n!=null&&(a=S(n,"weights","absoluteDifference")),Ne(o.shape,i.shape,"Error in absoluteDifference: ");var A=o.sub(i).abs();return Vo(A,a,r)}}),Vo=_({computeWeightedLoss_:function(e,t,n){n===void 0&&(n=An.SUM_BY_NONZERO_WEIGHTS);var r=S(e,"losses","computeWeightedLoss"),o=null;t!=null&&(o=S(t,"weights","computeWeightedLoss"));var i=o==null?r:r.mul(o);if(n===An.NONE)return i;if(n===An.SUM)return i.sum();if(n===An.MEAN){if(o==null)return i.mean();var a=r.size/o.size,A=i.sum().div(o.sum());return a>1?A.div(q(a)):A}if(n===An.SUM_BY_NONZERO_WEIGHTS){if(o==null)return i.sum().div(q(r.size));var s=o.mul(rs(r.shape)).notEqual(q(0)).sum().toFloat();return i.sum().div(s)}throw Error("Unknown reduction: "+n)}}),X8=_({cosineDistance_:function(e,t,n,r,o){o===void 0&&(o=An.SUM_BY_NONZERO_WEIGHTS);var i=S(e,"labels","cosineDistance"),a=S(t,"predictions","cosineDistance"),A=null;r!=null&&(A=S(r,"weights","cosineDistance")),Ne(i.shape,a.shape,"Error in cosineDistance: ");var s=q(1).sub(i.mul(a).sum(n,!0));return Vo(s,A,o)}}),Y8=_({hingeLoss_:function(e,t,n,r){r===void 0&&(r=An.SUM_BY_NONZERO_WEIGHTS);var o=S(e,"labels","hingeLoss"),i=S(t,"predictions","hingeLoss"),a=null;n!=null&&(a=S(n,"weights","hingeLoss")),Ne(o.shape,i.shape,"Error in hingeLoss: ");var A=q(1);o=q(2).mul(o).sub(A);var s=A.sub(o.mul(i)).relu();return Vo(s,a,r)}}),q8=_({huberLoss_:function(e,t,n,r,o){r===void 0&&(r=1),o===void 0&&(o=An.SUM_BY_NONZERO_WEIGHTS);var i=S(e,"labels","huberLoss"),a=S(t,"predictions","huberLoss"),A=null;n!=null&&(A=S(n,"weights","huberLoss")),Ne(i.shape,a.shape,"Error in huberLoss: ");var s=q(r),u=a.sub(i).abs(),l=SU(u,s),c=u.sub(l),d=q(.5).mul(l.square()).add(s.mul(c));return Vo(d,A,o)}}),J8=_({logLoss_:function(e,t,n,r,o){r===void 0&&(r=1e-7),o===void 0&&(o=An.SUM_BY_NONZERO_WEIGHTS);var i=S(e,"labels","logLoss"),a=S(t,"predictions","logLoss"),A=null;n!=null&&(A=S(n,"weights","logLoss")),Ne(i.shape,a.shape,"Error in logLoss: ");var s=q(1),u=q(r),l=i.mul(a.add(u).log()).neg().sub(s.sub(i).mul(s.sub(a).add(u).log()));return Vo(l,A,o)}}),Z8=_({meanSquaredError_:function(e,t,n,r){r===void 0&&(r=An.SUM_BY_NONZERO_WEIGHTS);var o=S(e,"labels","meanSquaredError"),i=S(t,"predictions","meanSquaredError"),a=null;n!=null&&(a=S(n,"weights","meanSquaredError")),Ne(o.shape,i.shape,"Error in meanSquaredError: ");var A=o.squaredDifference(i);return Vo(A,a,r)}}),eW=_({sigmoidCrossEntropy_:function(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=An.SUM_BY_NONZERO_WEIGHTS);var i=S(e,"multiClassLabels","sigmoidCrossEntropy"),a=S(t,"logits","sigmoidCrossEntropy"),A=null;if(n!=null&&(A=S(n,"weights","sigmoidCrossEntropy")),Ne(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var s=q(r),u=q(1),l=q(.5);i=i.mul(u.sub(s)).add(l.mul(s))}var c=function(d,f){var h=S(d,"labels","sigmoidCrossEntropyWithLogits"),p=S(f,"logits","sigmoidCrossEntropyWithLogits");Ne(h.shape,p.shape,"Error in sigmoidCrossEntropyWithLogits: ");var y=p.relu(),g=p.mul(h),v=p.abs().neg().exp().log1p();return y.sub(g).add(v)}(i,a);return Vo(c,A,o)}}),tW=_({softmaxCrossEntropy_:function(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=An.SUM_BY_NONZERO_WEIGHTS);var i=S(e,"onehotLabels","softmaxCrossEntropy"),a=S(t,"logits","softmaxCrossEntropy"),A=null;if(n!=null&&(A=S(n,"weights","softmaxCrossEntropy")),Ne(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var s=q(r),u=q(1),l=q(i.shape[1]);i=i.mul(u.sub(s)).add(s.div(l))}var c=function(d,f,h){if(h===void 0&&(h=-1),h===-1&&(h=f.rank-1),h!==f.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+f.rank+" and dim was "+h);return Bh(function(p,y,g){var v=y.logSumExp([h],!0),w=y.toFloat().sub(v);return g([p,w]),{value:w.mul(p).neg().sum([h]),gradFunc:function(x,B){var C=B[0],b=B[1],E=kn(x.shape,[h]);return[x.reshape(E).mul(C.toFloat().sub(b.exp())),x.reshape(E).mul(b.exp().sub(C.toFloat()))]}}})(d,f)}(i,a);return Vo(c,A,o)}}),nW=Object.freeze({get Reduction(){return An},absoluteDifference:$8,computeWeightedLoss:Vo,cosineDistance:X8,hingeLoss:Y8,huberLoss:q8,logLoss:J8,meanSquaredError:Z8,sigmoidCrossEntropy:eW,softmaxCrossEntropy:tW});function CC(e,t){return t===void 0&&(t=!1),D.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=jS(n),i=e.clone(),a=Ci([[1]],[1,1]),A=a.clone(),s=n>=r?r:n,u=function(c){var d,f=i,h=A,p=o;d=D.tidy(function(){var y=i.slice([c,c],[n-c,1]),g=y.norm(),v=i.slice([c,c],[1,1]),w=Ci([[-1]]).where(v.greater(0),Ci([[1]])),x=v.sub(w.mul(g)),B=y.div(x);A=B.shape[0]===1?a.clone():a.concat(B.slice([1,0],[B.shape[0]-1,B.shape[1]]),0);var C=w.matMul(x).div(g).neg(),b=i.slice([c,0],[n-c,r]),E=C.mul(A);if(c===0)i=b.sub(E.matMul(A.transpose().matMul(b)));else{var F=b.sub(E.matMul(A.transpose().matMul(b)));i=i.slice([0,0],[c,r]).concat(F,0)}var I=o.slice([0,c],[n,o.shape[1]-c]);if(c===0)o=I.sub(I.matMul(A).matMul(E.transpose()));else{var T=I.sub(I.matMul(A).matMul(E.transpose()));o=o.slice([0,0],[n,c]).concat(T,1)}return[A,i,o]}),A=d[0],i=d[1],o=d[2],Un([f,h,p])},l=0;l<s;++l)u(l);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]})}var rW=_({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=S(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],A=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=A))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+A+").");t<0&&(t=a),n<0&&(n=A);var s=Vd(0,a,1,"int32").reshape([-1,1]),u=Vd(0,A,1,"int32"),l=Tt(s,u),c=bh(l.lessEqual(q(+t,"int32")),l.greaterEqual(q(-n,"int32"))),d=Xe([a,A],r.dtype);return Gn(Ut(r.reshape([-1,a,A])).map(function(f){return ya(c,f,d)})).reshape(o)}}),oW=_({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,U(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(s){U(e[s].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[s].shape[0]+" vs. "+n+")"})},o=1;o<e.length;++o)r(o)}else t=!0,e=Oy(e,e.shape[0],0).map(function(s){return WS(s,[0])});U(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],a=e,A=function(s){i.push(D.tidy(function(){var u=a[s];if(s>0)for(var l=0;l<s;++l){var c=OU(i[l].mulStrict(u)).mul(i[l]);u=u.sub(c)}return u.div(WU(u,"euclidean"))}))};for(o=0;o<e.length;++o)A(o);return t?Gn(i,0):i}}),iW=_({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return CC(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(a,A){return a*A}),r=Ut(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach(function(a){var A=CC(a,t),s=A[0],u=A[1];o.push(s),i.push(u)}),[Gn(o,0).reshape(e.shape),Gn(i,0).reshape(e.shape)]}}),aW=Object.freeze({bandPart:rW,gramSchmidt:oW,qr:iW});function Sh(e,t,n,r,o,i){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),i==null&&(i=0);var a=e.shape[0];return n=Math.min(n,a),U(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),U(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),U(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),U(t.rank===1,function(){return"scores must be a 1D tensor"}),U(t.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]}),U(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var AW=_({resizeBilinear_:function(e,t,n){n===void 0&&(n=!1);var r=S(e,"images","resizeBilinear");U(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),U(t.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var o=r,i=!1;r.rank===3&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],A=t[1],s=D.runKernelFunc(function(u,l){return l([o]),u.resizeBilinear(o,a,A,n)},{x:o},function(u,l){return{x:function(){return D.runKernelFunc(function(c){return c.resizeBilinearBackprop(u,l[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:A});return i?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}}),sW=_({resizeNearestNeighbor_:function(e,t,n){n===void 0&&(n=!1);var r=S(e,"images","resizeNearestNeighbor");U(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),U(t.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),U(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var o=r,i=!1;r.rank===3&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],A=t[1],s=D.runKernelFunc(function(u,l){return l([o]),u.resizeNearestNeighbor(o,a,A,n)},{batchImages:o},function(u,l){return{batchImages:function(){return D.runKernelFunc(function(c){return c.resizeNearestNeighborBackprop(u,l[0],n)},{})}}});return i?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}}),uW=_({nonMaxSuppression_:function(e,t,n,r,o){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY);var i=S(e,"boxes","nonMaxSuppression"),a=S(t,"scores","nonMaxSuppression"),A=Sh(i,a,n,r,o);n=A.maxOutputSize,r=A.iouThreshold,o=A.scoreThreshold;var s={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return D.runKernelFunc(function(u){return u.nonMaxSuppression(i,a,n,r,o)},{boxes:i,scores:a},null,"NonMaxSuppressionV3",s)}}),lW=function(e,t,n,r,o){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),ae(this,void 0,void 0,function(){var i,a,A,s,u,l,c;return Ae(this,function(d){switch(d.label){case 0:return i=S(e,"boxes","nonMaxSuppressionAsync"),a=S(t,"scores","nonMaxSuppressionAsync"),A=Sh(i,a,n,r,o),n=A.maxOutputSize,r=A.iouThreshold,o=A.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return s=d.sent(),u=s[0],l=s[1],c=Wy(u,l,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,c]}})})},cW=_({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var a=S(e,"boxes","nonMaxSuppression"),A=S(t,"scores","nonMaxSuppression"),s=Sh(a,A,n,r,o,i),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:o=s.scoreThreshold,softNmsSigma:i=s.softNmsSigma},l=D.runKernel("NonMaxSuppressionV5",{boxes:a,scores:A},u);return{selectedIndices:l[0],selectedScores:l[1]}}}),dW=function(e,t,n,r,o,i){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),ae(this,void 0,void 0,function(){var a,A,s,u,l,c,d;return Ae(this,function(f){switch(f.label){case 0:return a=S(e,"boxes","nonMaxSuppressionAsync"),A=S(t,"scores","nonMaxSuppressionAsync"),s=Sh(a,A,n,r,o,i),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,i=s.softNmsSigma,[4,Promise.all([a.data(),A.data()])];case 1:return u=f.sent(),l=u[0],c=u[1],d=Gy(l,c,n,r,o,i),a!==e&&a.dispose(),A!==t&&A.dispose(),[2,d]}})})},fW=_({cropAndResize_:function(e,t,n,r,o,i){var a=S(e,"image","cropAndResize"),A=S(t,"boxes","cropAndResize","float32"),s=S(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var u=A.shape[0];return U(a.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),U(A.rank===2&&A.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+A.shape+"."}),U(s.rank===1&&s.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+A.shape+"."}),U(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),U(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),U(o==="bilinear"||o==="nearest",function(){return"method must be bilinear or nearest, but was "+o}),D.runKernelFunc(function(l,c){return l.cropAndResize(a,A,s,r,o,i)},{images:a,boxes:A,boxInd:s},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),a1=Object.freeze({resizeBilinear:AW,resizeNearestNeighbor:sW,nonMaxSuppression:uW,nonMaxSuppressionAsync:lW,nonMaxSuppressionWithScore:cW,nonMaxSuppressionWithScoreAsync:dW,cropAndResize:fW}),A1=function(e,t){return!(e>0)||t==="linear"},s1=function(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},u1=function(e,t){var n=t,r=Qt(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},l1=function(e,t,n){if(t==="linear")return e;if(t==="relu")return rt(e);if(t==="elu")return jU(e);if(t==="relu6")return KU(e);if(t==="prelu")return VU(e,n);throw new Error("Unknown fused activation "+t+".")},hW=_({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=o!==void 0&&o,a=e.transposeB,A=a!==void 0&&a,s=e.bias,u=e.activation,l=u===void 0?"linear":u,c=e.preluActivationWeights;if(A1(D.state.gradientDepth,l)===!1){var d=Fh(n,r,i,A);return s!=null&&(d=be(d,s)),l1(d,l,c)}var f=S(n,"a","fused matMul"),h=S(r,"b","fused matMul");t=at(f,h),f=t[0],h=t[1];var p=i?f.shape[f.rank-2]:f.shape[f.rank-1],y=A?h.shape[h.rank-1]:h.shape[h.rank-2],g=i?f.shape[f.rank-1]:f.shape[f.rank-2],v=A?h.shape[h.rank-2]:h.shape[h.rank-1],w=f.shape.slice(0,-2),x=h.shape.slice(0,-2),B=ue(w),C=ue(x);U(f.rank>=2&&h.rank>=2&&f.rank===h.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+h.rank+"."}),U(Mt(w,x),function(){return"Error in fused matMul: outer dimensions ("+w+") and ("+x+") of Tensors with shapes "+f.shape+" and "+h.shape+" must match."}),U(p===y,function(){return"Error in fused matMul: inner shapes ("+p+") and ("+y+") of Tensors with shapes "+f.shape+" and "+h.shape+" and transposeA="+i+" and transposeB="+A+" must match."});var b,E,F=f.shape.slice(0,-2).concat([g,v]),I=i?f.as3D(B,p,g):f.as3D(B,g,p),T=A?h.as3D(C,v,y):h.as3D(C,y,v);s!=null&&Ee(F,(b=at(b=S(s,"bias","fused matMul"),f)[0]).shape),c!=null&&(E=S(c,"prelu weights","fused matMul"));var Q={a:I,b:T};s!=null&&(Q.bias=b),c!=null&&(Q.preluActivationWeights=E);var N=[I,T];return D.runKernelFunc(function(M,O){var L=M.fusedBatchMatMul({a:I,b:T,transposeA:i,transposeB:A,bias:b,activation:l,preluActivationWeights:E});return O([I,T,L]),L},Q,function(M,O){var L=O[0],j=O[1],R=O[2],P=s1(M,R,l),H={};return s!=null&&(H={bias:function(){return u1(b,P)}}),Object.assign(i||A?!i&&A?{a:function(){return P.matMul(j,!1,!1)},b:function(){return P.matMul(L,!0,!1)}}:i&&!A?{a:function(){return j.matMul(P,!1,!0)},b:function(){return L.matMul(P,!1,!1)}}:{a:function(){return j.matMul(P,!0,!0)},b:function(){return P.matMul(L,!0,!0)}}:{a:function(){return P.matMul(j,!1,!0)},b:function(){return L.matMul(P,!0,!1)}},H)},"_FusedMatMul",{transposeA:i,transposeB:A,activation:l},N,[!0]).reshape(F)}}),pW=_({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=i===void 0?"NHWC":i,A=e.dilations,s=A===void 0?[1,1]:A,u=e.dimRoundingMode,l=e.bias,c=e.activation,d=c===void 0?"linear":c,f=e.preluActivationWeights;if(d=d||"linear",A1(D.state.gradientDepth,d)===!1){var h=Cr(t,n,r,o,a,s,u);return l!=null&&(h=be(h,l)),l1(h,d,f)}var p=S(t,"x","conv2d"),y=S(n,"filter","conv2d"),g=p,v=!1;p.rank===3&&(v=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),U(g.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),U(y.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+y.rank+"."}),u!=null&&U(dt(o),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+o+"."}),U(g.shape[3]===y.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+y.shape[2]+"."}),U(_n(r,s),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"}),U(a==="NHWC",function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var w,x,B=Ia(g.shape,y.shape,r,s,o,u);l!=null&&(w=at(w=S(l,"bias","fused conv2d"),p)[0],Ee(B.outShape,w.shape)),f!=null&&(x=S(f,"prelu weights","fused conv2d"));var C={x:g,filter:y};l!=null&&(C.bias=w),f!=null&&(C.preluActivationWeights=x);var b=[y,g],E=D.runKernelFunc(function(F,I){var T=F.fusedConv2d({input:g,filter:y,convInfo:B,bias:w,activation:d,preluActivationWeights:x});return I([y,g,T]),T},C,function(F,I){var T=I,Q=T[0],N=T[1],M=T[2],O=s1(F,M,d);U(GA(s),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+s+"'"});var L={};return l!=null&&(L={bias:function(){return u1(w,O)}}),Object.assign({x:function(){return RU(N.shape,O,Q,r,o)},filter:function(){return e1(N,O,Q.shape,r,o)}},L)},"FusedConv2D",{convInfo:B,activation:d},b,[!0]);return v?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),gW=_({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=i===void 0?"NHWC":i,A=e.dilations,s=A===void 0?[1,1]:A,u=e.dimRoundingMode,l=e.bias,c=e.activation,d=c===void 0?"linear":c,f=e.preluActivationWeights;if(A1(D.state.gradientDepth,d)===!1){var h=Eh(t,n,r,o,a,s,u);return l!=null&&(h=be(h,l)),l1(h,d,f)}var p=S(t,"x","depthwiseConv2d"),y=S(n,"filter","depthwiseConv2d"),g=p,v=!1;p.rank===3&&(v=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),U(g.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),U(y.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+y.rank+"."}),U(g.shape[3]===y.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+y.shape[2]+"."}),s==null&&(s=[1,1]),U(_n(r,s),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"}),u!=null&&U(dt(o),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+o+"."});var w,x,B=Ia(g.shape,y.shape,r,s,o,u,!0);l!=null&&(w=at(w=S(l,"bias","fused conv2d"),p)[0],Ee(B.outShape,w.shape)),f!=null&&(x=S(f,"prelu weights","fused depthwiseConv2d"));var C={x:g,filter:y};l!=null&&(C.bias=w),f!=null&&(C.preluActivationWeights=x);var b=[y,g],E=D.runKernelFunc(function(F,I){var T=F.fusedDepthwiseConv2D({input:g,filter:y,convInfo:B,bias:w,activation:d,preluActivationWeights:x});return I([y,g,T]),T},C,function(F,I){U(GA(s),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+s+"'"});var T=I[0],Q=I[1],N=I[2],M=s1(F,N,d),O={};return l!=null&&(O={bias:function(){return u1(w,M)}}),Object.assign({x:function(){return DU(Q.shape,M,T,B)},filter:function(){return NU(Q,M,T.shape,B)}},O)},"FusedDepthwiseConv2D",{convInfo:B,activation:d},b,[!0]);return v?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),mW=Object.freeze({matMul:hW,conv2d:pW,depthwiseConv2d:gW}),vW=Object.freeze({image:a1,linalg:aW,losses:nW,spectral:O8,fused:mW,signal:G8,square:JK,squaredDifference:vU,conv1d:A8,conv2d:Cr,conv3d:s8,depthwiseConv2d:Eh,separableConv2d:t1,conv2dTranspose:u8,conv3dTranspose:l8,op:_,batchNormalization2d:S6,batchNormalization3d:U6,batchNormalization4d:Q6,batchNormalization:T6,batchNorm:bU,batchNorm2d:k6,batchNorm3d:_6,batchNorm4d:R6,booleanMaskAsync:a8,complex:Ot,real:dr,imag:eo,concat:St,concat1d:mj,concat2d:vj,concat3d:yj,concat4d:wj,split:Oy,matMul:Fh,dot:c8,outerProduct:d8,reverse:sl,reverse1d:f8,reverse2d:h8,reverse3d:p8,reverse4d:g8,maxPool:Rt,avgPool:ul,pool:m8,maxPool3d:v8,avgPool3d:y8,slice:lo,slice1d:w8,slice2d:x8,slice3d:LU,slice4d:B8,abs:ZK,acos:e6,acosh:t6,asin:n6,asinh:r6,atan:o6,atanh:i6,ceil:a6,clipByValue:qy,cos:A6,cosh:s6,erf:u6,exp:fv,expm1:l6,floor:c6,log:d6,log1p:f6,logSigmoid:h6,neg:qd,reciprocal:p6,round:g6,rsqrt:yU,sigmoid:wU,sign:m6,isNaN:v6,isInf:y6,isFinite:w6,sin:x6,sinh:B6,softplus:C6,sqrt:b6,step:E6,tan:F6,tanh:I6,all:C8,any:b8,argMax:E8,argMin:F8,logSumExp:I8,max:Ih,mean:S8,min:U8,moments:Q8,sum:OU,prod:T8,equal:UU,equalStrict:Y6,greater:q6,greaterEqual:QU,greaterEqualStrict:J6,greaterStrict:Z6,less:e8,lessEqual:t8,lessEqualStrict:n8,lessStrict:r8,notEqual:o8,notEqualStrict:i8,add:be,addN:M6,addStrict:P6,atan2:L6,div:Tr,divNoNan:H6,divStrict:O6,floorDiv:IU,maximum:Jy,maximumStrict:j6,minimum:SU,minimumStrict:V6,mod:K6,modStrict:W6,mul:sn,mulStrict:G6,pow:Jd,powStrict:z6,squaredDifferenceStrict:$6,sub:Tt,subStrict:X6,elu:jU,leakyRelu:k8,prelu:VU,relu:rt,relu6:KU,selu:_8,logicalAnd:bh,logicalNot:D6,logicalOr:EU,logicalXor:N6,where:ya,whereAsync:FU,buffer:xe,print:Uj,batchToSpaceND:OS,broadcastTo:Qj,cast:Tj,clone:kj,cumsum:_j,depthToSpace:Rj,expandDims:lr,eye:jS,multinomial:Dj,oneHot:uv,pad:Fa,pad1d:Nj,pad2d:Mj,pad3d:Pj,pad4d:Lj,rand:Hj,randomNormal:Oj,randomGamma:jj,randomUniform:VS,reshape:_r,spaceToBatchND:KS,squeeze:WS,stack:Gn,tile:EA,truncatedNormal:Vj,unstack:Ut,setdiff1dAsync:Kj,fill:uo,linspace:gj,ones:rs,range:Vd,scalar:q,tensor:Wt,tensor1d:Ct,tensor2d:Ci,tensor3d:Hy,tensor4d:Bn,tensor5d:fj,tensor6d:hj,variable:pj,zeros:Xe,onesLike:HS,zerosLike:Se,transpose:ki,softmax:jo,logSoftmax:qj,localResponseNormalization:R8,norm:WU,gather:Zy,unsortedSegmentSum:TU,basicLSTMCell:D8,multiRNNCell:N8,movingAverage:M8,stridedSlice:P8,topk:L8,scatterND:H8,fft:n1,ifft:Zd,rfft:r1,irfft:GU,sparseToDense:j8,gatherND:V8,diag:K8,dropout:W8,hannWindow:o1,hammingWindow:$U,frame:i1,stft:XU,inTopKAsync:z8});function z(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(n){n!=null&&U(n.dtype!=="complex64",function(){return t+" does not support complex64 tensors."})})}function ng(e,t,n,r){if(n==="linear")return e.linear(t);if(n==="relu")return e.relu(t);if(n==="elu")return e.elu(t);if(n==="relu6")return e.relu6(t);if(n==="prelu")return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var yW=function(e){function t(){var n=e.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new JS(n,D),n}return Lr(t,e),t.prototype.write=function(n,r,o){this.firstUse&&(this.firstUse=!1,G().get("IS_NODE")&&Od(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:n,dtype:o}),i},t.prototype.move=function(n,r,o,i){this.data.set(n,{values:r,dtype:i})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){return[2,this.readSync(n)]})})},t.prototype.readSync=function(n){var r=this.data.get(n),o=r.dtype,i=r.complexTensors;return o==="complex64"?dv(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(n).values},t.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),o=r;if(n.dtype==="string")try{o=r.map(function(i){return Pd(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return xe(n.shape,n.dtype,o)},t.prototype.makeOutput=function(n,r,o){var i=this.write(n,r,o);return D.makeTensorFromDataId(i,r,o,this)},t.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},t.prototype.time=function(n){return ae(this,void 0,void 0,function(){var r;return Ae(this,function(o){return r=qr(),n(),[2,{kernelMs:qr()-r}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(n,r){var o=this.makeOutput(null,n.shape,"complex64");return this.data.get(o.dataId).complexTensors={real:D.keep(n.clone()),imag:D.keep(r.clone())},o},t.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,o){if(z(n,"slice"),YS(n.shape,r,o)){var i=qS(r,n.strides),a=ue(o);return Wt(this.readSync(n.dataId).subarray(i,i+a),o,n.dtype)}for(var A=xe(o,n.dtype),s=this.bufferSync(n),u=0;u<A.size;++u){var l=A.indexToLoc(u).map(function(c,d){return c+r[d]});A.values[u]=s.get.apply(s,l)}return A.toTensor()},t.prototype.stridedSlice=function(n,r,o,i){z(n,"stridedSlice");var a=Vy(r,o,i);if(a.some(function(f){return f===0}))return Wt([],a);for(var A=xe(a,n.dtype),s=this.bufferSync(n),u=0;u<A.size;u++){for(var l=A.indexToLoc(u),c=new Array(l.length),d=0;d<c.length;d++)c[d]=l[d]*i[d]+r[d];A.set.apply(A,[s.get.apply(s,c)].concat(l))}return A.toTensor()},t.prototype.diag=function(n){for(var r=this.readSync(n.dataId),o=xe([n.size,n.size],n.dtype),i=o.values,a=0;a<r.length;a++)i[a*n.size+a]=r[a];return o.toTensor()},t.prototype.unstack=function(n,r){for(var o=n.shape[r],i=new Array(n.rank-1),a=0,A=0;A<n.rank;A++)A!==r&&(i[a++]=n.shape[A]);var s=new Array(n.rank).fill(0),u=n.shape.slice();u[r]=1;var l=new Array(o);for(A=0;A<l.length;A++)s[r]=A,l[A]=this.slice(n,s,u).reshape(i);return l},t.prototype.reverse=function(n,r){z(n,"reverse");for(var o=xe(n.shape,n.dtype),i=this.bufferSync(n),a=function(s){var u=o.indexToLoc(s),l=u.slice();r.forEach(function(c){return l[c]=n.shape[c]-1-l[c]}),o.set.apply(o,[i.get.apply(i,l)].concat(u))},A=0;A<o.size;A++)a(A);return o.toTensor()},t.prototype.concat=function(n,r){var o=this;if(n[0].dtype==="complex64"){var i=n.map(function(f){return dr(f)}),a=n.map(function(f){return eo(f)});return Ot(this.concat(i,r),this.concat(a,r))}var A=n.map(function(f){var h=ue(f.shape.slice(r));return f.as2D(-1,h)}),s=WA(A.map(function(f){return f.shape}),1),u=xe(s,n[0].dtype).values;if(A[0].shape[0]===1){var l=0;A.forEach(function(f){u.set(o.readSync(f.dataId),l),l+=f.size})}else{var c=0;A.forEach(function(f){for(var h=o.readSync(f.dataId),p=0,y=0;y<f.shape[0];++y)for(var g=y*s[1]+c,v=0;v<f.shape[1];++v)u[g+v]=h[p++];c+=f.shape[1]})}var d=WA(n.map(function(f){return f.shape}),r);return Wt(u,d,n[0].dtype)},t.prototype.neg=function(n){return z(n,"neg"),this.multiply(q(-1),n)},t.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,i,a,A){return{real:o+a,imag:i+A}}):this.broadcastedBinaryOp(n,r,Vt(n.dtype,r.dtype),function(o,i){return o+i})},t.prototype.addN=function(n){var r=this;z(n,"addN");for(var o=n.map(function(l){return r.readSync(l.dataId)}),i=xe(n[0].shape,n[0].dtype),a=i.values,A=0;A<n.length;A++)for(var s=o[A],u=0;u<a.length;u++)a[u]+=s[u];return i.toTensor()},t.prototype.softmax=function(n,r){var o=kt([r],n.shape),i=this.max(n,o),a=kn(i.shape,o),A=this.subtract(n,i.reshape(a)),s=this.exp(A),u=this.sum(s,o).reshape(a);return this.realDivide(s,u)},t.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,i,a,A){return{real:o-a,imag:i-A}}):this.broadcastedBinaryOp(n,r,Vt(n.dtype,r.dtype),function(o,i){return o-i})},t.prototype.pow=function(n,r){return z([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){return Math.pow(o,i)})},t.prototype.batchMatMul=function(n,r,o,i){z([n,r],"matMul");for(var a=o?n.shape[1]:n.shape[2],A=o?n.shape[2]:n.shape[1],s=i?r.shape[1]:r.shape[2],u=n.shape[0],l=this.readSync(n.dataId),c=this.readSync(r.dataId),d=o?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],f=d[0],h=d[1],p=d[2],y=i?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],g=y[0],v=y[1],w=y[2],x=A*s,B=xe([u,A,s],n.dtype),C=B.values,b=this.blockSize,E=0;E<u;E++)for(var F=0;F<A;F+=b)for(var I=0;I<s;I+=b)for(var T=0;T<a;T+=b)for(var Q=Math.min(F+b,A),N=Math.min(I+b,s),M=Math.min(T+b,a),O=F;O<Q;O++)for(var L=I;L<N;L++){for(var j=0,R=T;R<M;R++)j+=l[E*f+O*h+R*p]*c[R*g+L*v+E*w];C[E*x+(O*s+L)]+=j}return B.toTensor()},t.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,i=n.transposeA,a=n.transposeB,A=n.bias,s=n.activation,u=n.preluActivationWeights,l=this.batchMatMul(r,o,i,a);return A&&(l=this.add(l,A)),s&&(l=ng(this,l,s,u)),l},t.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,i,a,A){return{real:o*a-i*A,imag:o*A+i*a}}):this.broadcastedBinaryOp(n,r,Vt(n.dtype,r.dtype),function(o,i){return o*i})},t.prototype.realDivide=function(n,r){return z([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(o,i){return o/i})},t.prototype.floorDiv=function(n,r){return z([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(o,i){return Math.floor(o/i)})},t.prototype.sum=function(n,r){z(n,"sum"),Mn("sum",r,n.rank);for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,Vt(n.dtype,"int32")),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=0,h=0;h<s;++h)f+=l[d+h];u[c]=f}return A},t.prototype.prod=function(n,r){z(n,"sum");for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,Vt(n.dtype,"int32")),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=1,h=0;h<s;++h)f*=l[d+h];u[c]=f}return A},t.prototype.unsortedSegmentSum=function(n,r,o){z(n,"unsortedSegmentSum");for(var i=[],a=n.rank-r.rank,A=0;A<a;++A)r=r.expandDims(A+1);for(A=0;A<o;++A){var s=q(A,"int32"),u=UU(s,r).asType("float32").mul(n).sum(0);i.push(u)}return Gn(i)},t.prototype.argMin=function(n,r){z(n,"argMin");var o=[r];Mn("argMin",o,n.rank);for(var i=tn(n.shape,o),a=i[0],A=i[1],s=Xe(a,"int32"),u=ue(A),l=this.readSync(s.dataId),c=this.readSync(n.dataId),d=0;d<l.length;++d){for(var f=d*u,h=c[f],p=0,y=0;y<u;++y){var g=c[f+y];g<h&&(h=g,p=y)}l[d]=p}return s},t.prototype.argMax=function(n,r){z(n,"argMax");var o=[r];Mn("argMax",o,n.rank);for(var i=tn(n.shape,o),a=i[0],A=i[1],s=Xe(a,"int32"),u=ue(A),l=this.readSync(s.dataId),c=this.readSync(n.dataId),d=0;d<l.length;++d){for(var f=d*u,h=c[f],p=0,y=0;y<u;++y){var g=c[f+y];g>h&&(h=g,p=y)}l[d]=p}return s},t.prototype.cumsum=function(n,r,o,i){if(z(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var a=Vt(n.dtype,"int32"),A=Xe(n.shape,a),s=this.readSync(A.dataId),u=this.readSync(n.dataId),l=n.shape[n.rank-1],c=i?function(y,g){return y+l-g-1}:function(y,g){return y+g},d=0;d<u.length;d+=l)for(var f=0;f<l;f++){var h=c(d,f);if(f===0)s[h]=o?0:u[h];else{var p=c(d,f-1);s[h]=o?u[p]+s[p]:u[h]+s[p]}}return A},t.prototype.equal=function(n,r){return z([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o===i?1:0})},t.prototype.notEqual=function(n,r){return z([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o!==i?1:0})},t.prototype.less=function(n,r){return z([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o<i?1:0})},t.prototype.lessEqual=function(n,r){return z([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o<=i?1:0})},t.prototype.greater=function(n,r){return z([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o>i?1:0})},t.prototype.greaterEqual=function(n,r){return z([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o>=i?1:0})},t.prototype.logicalNot=function(n){z(n,"logicalNot");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),i=0;i<r.length;++i)o[i]=r[i]?0:1;return this.makeOutput(o,n.shape,"bool")},t.prototype.logicalAnd=function(n,r){return z([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o&&i})},t.prototype.logicalOr=function(n,r){return z([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(o,i){return o||i})},t.prototype.select=function(n,r,o){z([n,r,o],"select");for(var i=this.readSync(n.dataId),a=this.readSync(r.dataId),A=this.readSync(o.dataId),s=Xe(r.shape,Vt(r.dtype,o.dtype)),u=this.readSync(s.dataId),l=0,c=n.rank===0||n.rank>1||r.rank===1?1:ue(r.shape.slice(1)),d=0;d<i.length;d++)for(var f=0;f<c;f++)i[d]===1?u[l++]=a[d]:u[l++]=A[d];return s},t.prototype.where=function(n){z([n],"where");var r=this.readSync(n.dataId);return zy(n.shape,r)},t.prototype.topk=function(n,r,o){return z(n,"topk"),aU(this.readSync(n.dataId),n.shape,n.dtype,r)},t.prototype.min=function(n,r){z(n,"min"),Mn("min",r,n.rank);for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,n.dtype),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=l[d],h=0;h<s;++h){var p=l[d+h];p<f&&(f=p)}u[c]=f}return A},t.prototype.minimum=function(n,r){return z([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){return Math.min(o,i)})},t.prototype.mod=function(n,r){return z([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){var a=o%i;return o<0&&i<0||o>=0&&i>=0?a:(a+i)%i})},t.prototype.max=function(n,r){z(n,"max"),Mn("max",r,n.rank);for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,n.dtype),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=l[d],h=0;h<s;++h){var p=l[d+h];p>f&&(f=p)}u[c]=f}return A},t.prototype.maximum=function(n,r){return z([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){return Math.max(o,i)})},t.prototype.all=function(n,r){z(n,"all"),Mn("all",r,n.rank);for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,n.dtype),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=l[d],h=0;h<s;++h){var p=l[d+h];f=f&&p}u[c]=f}return A},t.prototype.any=function(n,r){z(n,"any"),Mn("any",r,n.rank);for(var o=tn(n.shape,r),i=o[0],a=o[1],A=Xe(i,n.dtype),s=ue(a),u=this.readSync(A.dataId),l=this.readSync(n.dataId),c=0;c<u.length;++c){for(var d=c*s,f=l[d],h=0;h<s;++h){var p=l[d+h];f=f||p}u[c]=f}return A},t.prototype.squaredDifference=function(n,r){return z([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){var a=o-i;return a*a})},t.prototype.ceil=function(n){z(n,"ceil");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)o[i]=Math.ceil(r[i]);return this.makeOutput(o,n.shape,"float32")},t.prototype.floor=function(n){z(n,"floor");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)o[i]=Math.floor(r[i]);return this.makeOutput(o,n.shape,"float32")},t.prototype.sign=function(n){z(n,"x");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)r[i]<0?o[i]=-1:r[i]>0?o[i]=1:o[i]=0;return this.makeOutput(o,n.shape,"float32")},t.prototype.isNaN=function(n){z(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isNaN(r[i])&&(o[i]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.isInf=function(n){z(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),i=0;i<r.length;++i)Math.abs(r[i])===1/0&&(o[i]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.isFinite=function(n){z(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isFinite(r[i])&&(o[i]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.round=function(n){z(n,"round");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i){var a=Math.floor(r[i]);r[i]-a<.5?o[i]=Math.floor(r[i]):r[i]-a>.5?o[i]=Math.ceil(r[i]):o[i]=a%2==0?a:a+1}return this.makeOutput(o,n.shape,"float32")},t.prototype.exp=function(n){z(n,"exp");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)o[i]=Math.exp(r[i]);return this.makeOutput(o,n.shape,"float32")},t.prototype.expm1=function(n){z(n,"expm1");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)o[i]=Math.expm1(r[i]);return this.makeOutput(o,n.shape,"float32")},t.prototype.log=function(n){z(n,"log");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i){var a=r[i];o[i]=Math.log(a)}return this.makeOutput(o,n.shape,"float32")},t.prototype.log1p=function(n){z(n,"log1p");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i){var a=r[i];o[i]=Math.log1p(a)}return this.makeOutput(o,n.shape,"float32")},t.prototype.sqrt=function(n){z(n,"sqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i){var a=r[i];o[i]=Math.sqrt(a)}return this.makeOutput(o,n.shape,"float32")},t.prototype.rsqrt=function(n){z(n,"rsqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i){var a=r[i];o[i]=1/Math.sqrt(a)}return this.makeOutput(o,n.shape,"float32")},t.prototype.reciprocal=function(n){z(n,"reciprocal");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),i=0;i<r.length;++i)o[i]=1/r[i];return this.makeOutput(o,n.shape,"float32")},t.prototype.linear=function(n){return n},t.prototype.relu=function(n){z(n,"relu");for(var r=Xe(n.shape,n.dtype),o=this.readSync(r.dataId),i=this.readSync(n.dataId),a=0;a<i.length;++a)o[a]=Math.max(0,i[a]);return r},t.prototype.relu6=function(n){z(n,"relu");for(var r=Xe(n.shape,n.dtype),o=this.readSync(r.dataId),i=this.readSync(n.dataId),a=0;a<i.length;++a)o[a]=Math.min(Math.max(0,i[a]),6);return r},t.prototype.prelu=function(n,r){return z([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){return o<0?i*o:o})},t.prototype.elu=function(n){z(n,"elu");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>=0?a:Math.exp(a)-1}return this.makeOutput(r,n.shape,"float32")},t.prototype.eluDer=function(n,r){z([n,r],"eluDer");for(var o=new Float32Array(r.size),i=this.readSync(r.dataId),a=this.readSync(n.dataId),A=0;A<i.length;++A){var s=i[A];o[A]=s>=1?a[A]:a[A]*(s+1)}return this.makeOutput(o,r.shape,"float32")},t.prototype.selu=function(n){z(n,"selu");for(var r=Xy,o=Yy,i=new Float32Array(n.size),a=this.readSync(n.dataId),A=0;A<a.length;++A){var s=a[A];i[A]=s>=0?o*s:r*(Math.exp(s)-1)}return this.makeOutput(i,n.shape,"float32")},t.prototype.clip=function(n,r,o){z(n,"clip");for(var i=new Float32Array(n.size),a=this.readSync(n.dataId),A=0;A<a.length;++A){var s=a[A];i[A]=s>o?o:s<r?r:s}return this.makeOutput(i,n.shape,"float32")},t.prototype.abs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.abs(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<n.size;++i){var a=o[2*i],A=o[2*i+1];r[i]=Math.hypot(a,A)}return this.makeOutput(r,n.shape,"float32")},t.prototype.int=function(n){z(n,"int");for(var r=new Int32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=o[i];return this.makeOutput(r,n.shape,"int32")},t.prototype.sigmoid=function(n){z(n,"sigmoid");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=1/(1+Math.exp(-o[i]));return this.makeOutput(r,n.shape,"float32")},t.prototype.softplus=function(n){z(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,o=new Float32Array(n.size),i=this.readSync(n.dataId),a=0;a<i.length;++a){var A=i[a]>-r,s=i[a]<r,u=Math.exp(i[a]),l=void 0;l=s?u:A?i[a]:Math.log(1+u),o[a]=l}return this.makeOutput(o,n.shape,"float32")},t.prototype.sin=function(n){z(n,"sin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.sin(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cos=function(n){z(n,"cos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.cos(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tan=function(n){z(n,"tan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.tan(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asin=function(n){z(n,"asin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.asin(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acos=function(n){z(n,"acos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.acos(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan=function(n){z(n,"atan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.atan(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan2=function(n,r){return z([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,i){return Math.atan2(o,i)})},t.prototype.sinh=function(n){z(n,"sinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.sinh(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cosh=function(n){z(n,"cosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.cosh(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tanh=function(n){z(n,"tanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=w5(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asinh=function(n){z(n,"asinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.asinh(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acosh=function(n){z(n,"acosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.acosh(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atanh=function(n){z(n,"atanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i)r[i]=Math.atanh(o[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.erf=function(n){z(n,"erf");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i){var a=Math.sign(o[i]),A=Math.abs(o[i]),s=1/(1+.3275911*A);r[i]=a*(1-((((1.061405429*s-1.453152027)*s+1.421413741)*s-.284496736)*s+.254829592)*s*Math.exp(-A*A))}return this.makeOutput(r,n.shape,"float32")},t.prototype.step=function(n,r){r===void 0&&(r=0),z(n,"step");for(var o=new Float32Array(n.size),i=this.readSync(n.dataId),a=0;a<i.length;++a){var A=i[a];isNaN(A)?o[a]=NaN:o[a]=A>0?1:r}return this.makeOutput(o,n.shape,"float32")},t.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,i=n.convInfo,a=n.bias,A=n.activation,s=n.preluActivationWeights,u=this.conv2d(r,o,i);return a&&(u=this.add(u,a)),A&&(u=ng(this,u,A,s)),u},t.prototype.conv2d=function(n,r,o){z([n,r],"conv2d");for(var i=o.filterHeight,a=o.filterWidth,A=o.dilationHeight,s=o.dilationWidth,u=o.padInfo.left,l=o.padInfo.top,c=o.dataFormat==="channelsLast",d=xe(o.outShape,n.dtype),f=n.strides[0],h=c?n.strides[1]:n.strides[2],p=c?n.strides[2]:1,y=c?1:n.strides[1],g=d.strides[0],v=c?d.strides[1]:d.strides[2],w=c?d.strides[2]:1,x=c?1:d.strides[1],B=this.readSync(n.dataId),C=this.readSync(r.dataId),b=d.values,E=0;E<o.batchSize;++E)for(var F=E*f,I=E*g,T=0;T<o.outHeight;++T)for(var Q=I+T*v,N=T*o.strideHeight-l,M=0;M<i;M++){var O=N+M*A;if(!(O<0||O>=o.inHeight))for(var L=M*r.strides[0],j=F+O*h,R=0;R<o.outWidth;++R)for(var P=Q+R*w,H=R*o.strideWidth-u,W=0;W<a;W++){var $=H+W*s;if(!($<0||$>=o.inWidth))for(var Y=j+$*p,ee=L+W*r.strides[1],ie=0;ie<o.inChannels;++ie){for(var oe=B[Y+ie*y],fe=0;fe<o.outChannels;++fe)b[P+fe*x]+=oe*C[ee+fe];ee+=o.outChannels}}}return d.toTensor()},t.prototype.conv3d=function(n,r,o){for(var i=o.filterDepth,a=o.filterHeight,A=o.filterWidth,s=o.dilationDepth,u=o.dilationHeight,l=o.dilationWidth,c=o.padInfo.front,d=o.padInfo.left,f=o.padInfo.top,h=xe(o.outShape,n.dtype),p=this.readSync(n.dataId),y=this.readSync(r.dataId),g=h.values,v=0;v<o.batchSize;++v)for(var w=v*n.strides[0],x=v*h.strides[0],B=0;B<o.outDepth;++B)for(var C=x+B*h.strides[1],b=B*o.strideDepth-c,E=0;E<i;E++){var F=b+E*s;if(!(F<0||F>=o.inDepth))for(var I=E*r.strides[0],T=w+F*n.strides[1],Q=0;Q<o.outHeight;++Q)for(var N=C+Q*h.strides[2],M=Q*o.strideHeight-f,O=0;O<a;O++){var L=M+O*u;if(!(L<0||L>=o.inHeight))for(var j=I+O*r.strides[1],R=T+L*n.strides[2],P=0;P<o.outWidth;++P)for(var H=N+P*o.outChannels,W=P*o.strideWidth-d,$=0;$<A;$++){var Y=W+$*l;if(!(Y<0||Y>=o.inWidth))for(var ee=j+$*r.strides[2],ie=R+Y*o.inChannels,oe=ee,fe=0;fe<o.inChannels;++fe){for(var Be=p[ie+fe],he=0;he<o.outChannels;++he)g[H+he]+=Be*y[oe+he];oe+=o.outChannels}}}}return h.toTensor()},t.prototype.conv2dDerInput=function(n,r,o){z([n,r],"conv2dDerInput");for(var i=xe(o.inShape,"float32"),a=i.values,A=this.readSync(n.dataId),s=this.readSync(r.dataId),u=r.strides,l=u[0],c=u[1],d=u[2],f=o.batchSize,h=o.filterHeight,p=o.filterWidth,y=o.inChannels,g=o.inHeight,v=o.inWidth,w=o.outChannels,x=o.outHeight,B=o.outWidth,C=o.strideHeight,b=o.strideWidth,E=o.dataFormat,F=h-1-o.padInfo.top,I=p-1-o.padInfo.left,T=E==="channelsLast",Q=i.strides[0],N=T?i.strides[1]:i.strides[2],M=T?i.strides[2]:1,O=T?1:i.strides[1],L=n.strides[0],j=T?n.strides[1]:n.strides[2],R=T?n.strides[2]:1,P=T?1:n.strides[1],H=0;H<f;++H)for(var W=0;W<y;++W)for(var $=0;$<g;++$)for(var Y=$-F,ee=Math.max(0,Math.ceil(Y/C)),ie=Math.min(x,(h+Y)/C),oe=0;oe<v;++oe){for(var fe=oe-I,Be=Math.max(0,Math.ceil(fe/b)),he=Math.min(B,(p+fe)/b),Te=0,pe=ee;pe<ie;++pe)for(var Qe=pe*C-Y,se=Be;se<he;++se)for(var He=L*H+j*pe+R*se,je=l*(h-1-Qe)+c*(p-1-(se*b-fe))+d*W,Me=0;Me<w;++Me)Te+=A[He+P*Me]*s[je+Me];a[Q*H+N*$+M*oe+O*W]=Te}return i.toTensor()},t.prototype.conv3dDerInput=function(n,r,o){for(var i=xe(o.inShape,"float32"),a=i.values,A=i.strides,s=A[0],u=A[1],l=A[2],c=A[3],d=this.readSync(n.dataId),f=n.strides,h=f[0],p=f[1],y=f[2],g=f[3],v=this.readSync(r.dataId),w=r.strides,x=w[0],B=w[1],C=w[2],b=w[3],E=o.batchSize,F=o.filterDepth,I=o.filterHeight,T=o.filterWidth,Q=o.inChannels,N=o.inDepth,M=o.inHeight,O=o.inWidth,L=o.outChannels,j=o.outDepth,R=o.outHeight,P=o.outWidth,H=o.strideDepth,W=o.strideHeight,$=o.strideWidth,Y=F-1-o.padInfo.front,ee=I-1-o.padInfo.top,ie=T-1-o.padInfo.left,oe=0;oe<E;++oe)for(var fe=0;fe<Q;++fe)for(var Be=0;Be<N;++Be)for(var he=Be-Y,Te=Math.max(0,Math.ceil(he/H)),pe=Math.min(j,(F+he)/H),Qe=0;Qe<M;++Qe)for(var se=Qe-ee,He=Math.max(0,Math.ceil(se/W)),je=Math.min(R,(I+se)/W),Me=0;Me<O;++Me){for(var Xt=Me-ie,vt=Math.max(0,Math.ceil(Xt/$)),cn=Math.min(P,(T+Xt)/$),jr=0,Rn=Te;Rn<pe;++Rn)for(var Vr=Rn*H-he,br=He;br<je;++br)for(var Er=br*W-se,dn=vt;dn<cn;++dn)for(var is=h*oe+p*Rn+y*br+g*dn,vo=x*(F-1-Vr)+B*(I-1-Er)+C*(T-1-(dn*$-Xt))+b*fe,Zn=0;Zn<L;++Zn)jr+=d[is+Zn]*v[vo+Zn];a[s*oe+u*Be+l*Qe+c*Me+fe]=jr}return i.toTensor()},t.prototype.conv2dDerFilter=function(n,r,o){z([n,r],"conv2dDerFilter");for(var i=o.strideHeight,a=o.strideWidth,A=o.filterHeight,s=o.filterWidth,u=o.dataFormat==="channelsLast",l=xe(o.filterShape,"float32"),c=o.padInfo.left,d=o.padInfo.top,f=this.bufferSync(n),h=this.bufferSync(r),p=0;p<A;++p)for(var y=Math.max(0,Math.ceil((d-p)/i)),g=Math.min(o.outHeight,(o.inHeight+d-p)/i),v=0;v<s;++v)for(var w=Math.max(0,Math.ceil((c-v)/a)),x=Math.min(o.outWidth,(o.inWidth+c-v)/a),B=0;B<o.inChannels;++B)for(var C=0;C<o.outChannels;++C){for(var b=0,E=0;E<o.batchSize;++E)for(var F=y;F<g;++F)for(var I=p+F*i-d,T=w;T<x;++T){var Q=v+T*a-c;b+=u?f.get(E,I,Q,B)*h.get(E,F,T,C):f.get(E,B,I,Q)*h.get(E,C,F,T)}l.set(b,p,v,B,C)}return l.toTensor()},t.prototype.conv3dDerFilter=function(n,r,o){for(var i=o.strideDepth,a=o.strideHeight,A=o.strideWidth,s=o.filterDepth,u=o.filterHeight,l=o.filterWidth,c=xe(o.filterShape,"float32"),d=c.values,f=c.strides,h=f[0],p=f[1],y=f[2],g=f[3],v=this.readSync(r.dataId),w=r.strides,x=w[0],B=w[1],C=w[2],b=w[3],E=this.readSync(n.dataId),F=n.strides,I=F[0],T=F[1],Q=F[2],N=F[3],M=o.padInfo.front,O=o.padInfo.left,L=o.padInfo.top,j=0;j<s;++j)for(var R=Math.max(0,Math.ceil((M-j)/i)),P=Math.min(o.outDepth,(o.inDepth+M-j)/i),H=j*h,W=0;W<u;++W)for(var $=Math.max(0,Math.ceil((L-W)/a)),Y=Math.min(o.outHeight,(o.inHeight+L-W)/a),ee=W*p+H,ie=0;ie<l;++ie)for(var oe=Math.max(0,Math.ceil((O-ie)/A)),fe=Math.min(o.outWidth,(o.inWidth+O-ie)/A),Be=ie*y+ee,he=0;he<o.inChannels;++he)for(var Te=he*g+Be,pe=0;pe<o.outChannels;++pe){for(var Qe=0,se=0;se<o.batchSize;++se)for(var He=se*I,je=se*x,Me=R;Me<P;++Me)for(var Xt=(j+Me*i-M)*T+He,vt=Me*B+je,cn=$;cn<Y;++cn)for(var jr=(W+cn*a-L)*Q+Xt,Rn=cn*C+vt,Vr=oe;Vr<fe;++Vr){var br=Vr*b+Rn;Qe+=E[(ie+Vr*A-O)*N+jr+he]*v[br+pe]}d[Te+pe]=Qe}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,o=n.filter,i=n.convInfo,a=n.bias,A=n.activation,s=n.preluActivationWeights,u=this.depthwiseConv2D(r,o,i);return a&&(u=this.add(u,a)),A&&(u=ng(this,u,A,s)),u},t.prototype.depthwiseConv2D=function(n,r,o){z([n,r],"depthwiseConv2D");for(var i=o.filterHeight,a=o.filterWidth,A=o.dilationHeight,s=o.dilationWidth,u=o.padInfo.left,l=o.padInfo.top,c=o.outChannels/o.inChannels,d=xe(o.outShape,n.dtype),f=this.readSync(n.dataId),h=this.readSync(r.dataId),p=d.values,y=0;y<o.batchSize;++y)for(var g=y*n.strides[0],v=y*d.strides[0],w=0;w<o.outHeight;++w)for(var x=v+w*d.strides[1],B=w*o.strideHeight-u,C=0;C<i;++C){var b=B+C*A;if(!(b<0||b>=o.inHeight))for(var E=C*r.strides[0],F=g+b*n.strides[1],I=0;I<o.outWidth;++I)for(var T=x+I*d.strides[2],Q=I*o.strideWidth-l,N=0;N<a;++N){var M=Q+N*s;if(!(M<0||M>=o.inWidth))for(var O=E+N*r.strides[1],L=F+M*o.inChannels,j=T,R=O,P=0;P<o.inChannels;++P){for(var H=f[L+P],W=0;W<c;++W)p[j+W]+=H*h[R+W];j+=c,R+=c}}}return d.toTensor()},t.prototype.depthwiseConv2DDerInput=function(n,r,o){z([n,r],"depthwiseConv2DDerInput");for(var i=xe(o.inShape,"float32"),a=i.values,A=i.strides,s=A[0],u=A[1],l=A[2],c=this.readSync(n.dataId),d=n.strides,f=d[0],h=d[1],p=d[2],y=this.readSync(r.dataId),g=r.strides,v=g[0],w=g[1],x=g[2],B=o.batchSize,C=o.filterHeight,b=o.filterWidth,E=o.inChannels,F=o.inHeight,I=o.inWidth,T=o.outChannels,Q=o.outHeight,N=o.outWidth,M=o.strideHeight,O=o.strideWidth,L=C-1-o.padInfo.top,j=b-1-o.padInfo.left,R=T/E,P=0;P<B;++P)for(var H=0;H<E;++H)for(var W=0;W<F;++W)for(var $=W-L,Y=Math.max(0,Math.ceil($/M)),ee=Math.min(Q,(C+$)/M),ie=0;ie<I;++ie){for(var oe=ie-j,fe=Math.max(0,Math.ceil(oe/O)),Be=Math.min(N,(b+oe)/O),he=0,Te=Y;Te<ee;++Te)for(var pe=Te*M-$,Qe=fe;Qe<Be;++Qe)for(var se=f*P+h*Te+p*Qe,He=v*(C-1-pe)+w*(b-1-(Qe*O-oe))+x*H,je=0;je<R;++je)he+=c[se+(H*R+je)]*y[He+je];a[s*P+u*W+l*ie+H]=he}return i.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(n,r,o){z([n,r],"depthwiseConv2DDerFilter");for(var i=o.strideHeight,a=o.strideWidth,A=o.filterHeight,s=o.filterWidth,u=xe(o.filterShape,"float32"),l=o.padInfo.left,c=o.padInfo.top,d=o.outChannels/o.inChannels,f=this.bufferSync(n),h=this.bufferSync(r),p=0;p<A;++p)for(var y=Math.max(0,Math.ceil((c-p)/i)),g=Math.min(o.outHeight,(o.inHeight+c-p)/i),v=0;v<s;++v)for(var w=Math.max(0,Math.ceil((l-v)/a)),x=Math.min(o.outWidth,(o.inWidth+l-v)/a),B=0;B<o.outChannels;++B){for(var C=Math.trunc(B/d),b=B%d,E=0,F=0;F<o.batchSize;++F)for(var I=y;I<g;++I)for(var T=p+I*i-c,Q=w;Q<x;++Q){var N=v+Q*a-l;E+=f.get(F,T,N,C)*h.get(F,I,Q,B)}u.set(E,p,v,C,b)}return u.toTensor()},t.prototype.tile=function(n,r){return z(n,"tile"),iU(this.bufferSync(n),r)},t.prototype.pad=function(n,r,o){z(n,"pad");var i=r.map(function(d,f){return d[0]+n.shape[f]+d[1]}),a=r.map(function(d){return d[0]}),A=this.bufferSync(n),s=xe(i,n.dtype);o!==0&&s.values.fill(o);for(var u=0;u<n.size;u++){var l=A.indexToLoc(u),c=l.map(function(d,f){return d+a[f]});s.set.apply(s,[A.get.apply(A,l)].concat(c))}return s.toTensor()},t.prototype.transpose=function(n,r){z(n,"transpose");for(var o=new Array(n.rank),i=0;i<o.length;i++)o[i]=n.shape[r[i]];var a=this.readSync(n.dataId),A=xe(o,n.dtype),s=this.bufferSync(n);for(i=0;i<n.size;++i){for(var u=s.indexToLoc(i),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[r[c]];var d=A.locToIndex(l);A.values[d]=a[i]}return A.toTensor()},t.prototype.gather=function(n,r,o){z([n,r],"gather");var i=n.shape.slice(),a=this.readSync(r.dataId);i[o]=a.length;for(var A=xe(i,n.dtype),s=this.bufferSync(n),u=0;u<A.size;++u){var l=A.indexToLoc(u),c=l.slice();c[o]=a[l[o]];var d=s.locToIndex(c);A.values[u]=s.values[d]}return A.toTensor()},t.prototype.batchToSpaceND=function(n,r,o){z([n],"batchToSpaceND");var i=r.reduce(function(c,d){return c*d}),a=Kd(n.shape,r,i),A=Wd(a.length,r.length),s=Gd(n.shape,r,i),u=GS(o,r.length),l=zS(s,o,r.length);return n.reshape(a).transpose(A).reshape(s).slice(u,l)},t.prototype.spaceToBatchND=function(n,r,o){z([n],"spaceToBatchND");var i=r.reduce(function(d,f){return d*f}),a=[[0,0]];a.push.apply(a,o);for(var A=1+r.length;A<n.shape.length;++A)a.push([0,0]);var s=n.pad(a),u=Kd(s.shape,r,i,!1),l=Wd(u.length,r.length,!1),c=Gd(s.shape,r,i,!1);return s.reshape(u).transpose(l).reshape(c)},t.prototype.pool=function(n,r,o){z(n,"pool");for(var i=r.strideHeight,a=r.strideWidth,A=r.dilationHeight,s=r.dilationWidth,u=r.effectiveFilterHeight,l=r.effectiveFilterWidth,c=r.padInfo.top,d=r.padInfo.left,f=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(n.dataId),p=xe(r.outShape,n.dtype),y=p.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],v=r.outShape[2]*r.outShape[3],w=r.outShape[3],x=0;x<r.batchSize;++x)for(var B=x*g,C=x*n.strides[0],b=0;b<r.inChannels;++b)for(var E=0;E<r.outHeight;++E)for(var F=E*i-c,I=Math.max(0,F),T=Math.min(r.inHeight,u+F),Q=B+E*v,N=0;N<r.outWidth;++N){for(var M=N*a-d,O=Math.max(0,M),L=Math.min(r.inWidth,l+M),j=f,R=0,P=0,H=I;H<T;H+=A){for(var W=C+H*n.strides[1],$=O;$<L;$+=s){var Y=h[W+$*n.strides[2]+b];o==="max"&&Y>j?j=Y:o==="avg"&&(R+=Y,P++)}if(isNaN(j))break}y[Q+N*w+b]=o==="avg"?R/P:j}return p.toTensor()},t.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},t.prototype.maxPoolPositions=function(n,r){for(var o=xe(r.outShape,"int32"),i=r.strideHeight,a=r.strideWidth,A=r.dilationHeight,s=r.dilationWidth,u=r.effectiveFilterHeight,l=r.effectiveFilterWidth,c=r.padInfo.top,d=r.padInfo.left,f=this.bufferSync(n),h=0;h<r.batchSize;++h)for(var p=0;p<r.inChannels;++p)for(var y=0;y<r.outHeight;++y){for(var g=y*i-c,v=g;v<0;)v+=A;for(var w=Math.min(r.inHeight,u+g),x=0;x<r.outWidth;++x){for(var B=x*a-d,C=B;C<0;)C+=s;for(var b=Math.min(r.inWidth,l+B),E=Number.NEGATIVE_INFINITY,F=-1,I=v;I<w;I+=A)for(var T=I-g,Q=C;Q<b;Q+=s){var N=Q-B,M=f.get(h,I,Q,p);M>E&&(E=M,F=T*l+N)}o.set(F,h,y,x,p)}}return o.toTensor()},t.prototype.maxPoolBackprop=function(n,r,o,i){z([r,o],"maxPoolBackprop");for(var a=this.maxPoolPositions(r,i),A=i.strideHeight,s=i.strideWidth,u=i.dilationHeight,l=i.dilationWidth,c=i.effectiveFilterHeight,d=i.effectiveFilterWidth,f=d-1-i.padInfo.left,h=c-1-i.padInfo.top,p=xe(r.shape,"float32"),y=this.bufferSync(a),g=this.bufferSync(n),v=0;v<i.batchSize;++v)for(var w=0;w<i.inChannels;++w)for(var x=0;x<i.inHeight;++x)for(var B=0;B<i.inWidth;++B){for(var C=x-h,b=B-f,E=0,F=0;F<c;F+=u){var I=(C+F)/A;if(!(I<0||I>=i.outHeight||Math.floor(I)!==I))for(var T=0;T<d;T+=l){var Q=(b+T)/s;if(!(Q<0||Q>=i.outWidth||Math.floor(Q)!==Q)){var N=c*d-1-y.get(v,I,Q,w)===F*d+T?1:0;N!==0&&(E+=g.get(v,I,Q,w)*N)}}}p.set(E,v,x,B,w)}return p.toTensor()},t.prototype.avgPoolBackprop=function(n,r,o){z([n,r],"avgPoolBackprop");for(var i=o.strideHeight,a=o.strideWidth,A=o.filterHeight,s=o.filterWidth,u=o.dilationHeight,l=o.dilationWidth,c=o.effectiveFilterHeight,d=o.effectiveFilterWidth,f=d-1-o.padInfo.left,h=c-1-o.padInfo.top,p=xe(r.shape,"float32"),y=1/(A*s),g=this.bufferSync(n),v=0;v<o.batchSize;++v)for(var w=0;w<o.inChannels;++w)for(var x=0;x<o.inHeight;++x)for(var B=0;B<o.inWidth;++B){for(var C=x-h,b=B-f,E=0,F=0;F<c;F+=u){var I=(C+F)/i;if(!(I<0||I>=o.outHeight||Math.floor(I)!==I))for(var T=0;T<d;T+=l){var Q=(b+T)/a;Q<0||Q>=o.outWidth||Math.floor(Q)!==Q||(E+=g.get(v,I,Q,w))}}p.set(E*y,v,x,B,w)}return p.toTensor()},t.prototype.pool3d=function(n,r,o){z(n,"pool3d");for(var i=r.strideDepth,a=r.strideHeight,A=r.strideWidth,s=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterDepth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.front,p=r.padInfo.top,y=r.padInfo.left,g=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(n.dataId),w=xe(r.outShape,n.dtype),x=w.values,B=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[2]*r.outShape[3]*r.outShape[4],b=r.outShape[3]*r.outShape[4],E=r.outShape[4],F=0;F<r.batchSize;++F)for(var I=F*B,T=F*n.strides[0],Q=0;Q<r.inChannels;++Q)for(var N=0;N<r.outDepth;++N){for(var M=N*i-h,O=M;O<0;)O+=s;for(var L=Math.min(r.inDepth,c+M),j=I+N*C,R=0;R<r.outHeight;++R){for(var P=R*a-p,H=P;H<0;)H+=u;for(var W=Math.min(r.inHeight,d+P),$=j+R*b,Y=0;Y<r.outWidth;++Y){for(var ee=Y*A-y,ie=ee;ie<0;)ie+=l;for(var oe=Math.min(r.inWidth,f+ee),fe=$+Y*E,Be=g,he=0,Te=0,pe=O;pe<L;pe+=s){for(var Qe=T+pe*n.strides[1],se=H;se<W;se+=u){for(var He=Qe+se*n.strides[2],je=ie;je<oe;je+=l){var Me=v[He+je*n.strides[3]+Q];if(o==="max"&&Me>Be?Be=Me:o==="avg"&&(he+=Me,Te++),isNaN(Be))break}if(isNaN(Be))break}if(isNaN(Be))break}x[fe+Q]=o==="avg"?he/Te:Be}}}return w.toTensor()},t.prototype.avgPool3d=function(n,r){return z(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(n,r,o){z([n,r],"avgPool3dBackprop");for(var i=o.strideDepth,a=o.strideHeight,A=o.strideWidth,s=o.filterDepth,u=o.filterHeight,l=o.filterWidth,c=o.dilationDepth,d=o.dilationHeight,f=o.dilationWidth,h=o.effectiveFilterDepth,p=o.effectiveFilterHeight,y=o.effectiveFilterWidth,g=h-1-o.padInfo.front,v=y-1-o.padInfo.left,w=p-1-o.padInfo.top,x=xe(r.shape,"float32"),B=1/(s*u*l),C=this.bufferSync(n),b=0;b<o.batchSize;++b)for(var E=0;E<o.inChannels;++E)for(var F=0;F<o.inDepth;++F)for(var I=0;I<o.inHeight;++I)for(var T=0;T<o.inWidth;++T){for(var Q=F-g,N=I-w,M=T-v,O=0,L=0;L<h;L+=c){var j=(Q+L)/i;if(!(j<0||j>=o.outDepth||Math.floor(j)!==j))for(var R=0;R<p;R+=d){var P=(N+R)/a;if(!(P<0||P>=o.outHeight||Math.floor(P)!==P))for(var H=0;H<y;H+=f){var W=(M+H)/A;W<0||W>=o.outWidth||Math.floor(W)!==W||(O+=C.get(b,j,P,W,E))}}}x.set(O*B,b,F,I,T,E)}return x.toTensor()},t.prototype.maxPool3d=function(n,r){return z(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},t.prototype.maxPool3dPositions=function(n,r){for(var o=xe(r.outShape,"int32"),i=r.strideDepth,a=r.strideHeight,A=r.strideWidth,s=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterDepth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.front,p=r.padInfo.top,y=r.padInfo.left,g=this.bufferSync(n),v=0;v<r.batchSize;++v)for(var w=0;w<r.inChannels;++w)for(var x=0;x<r.outDepth;++x){for(var B=x*i-h,C=B;C<0;)C+=s;for(var b=Math.min(r.inDepth,c+B),E=0;E<r.outHeight;++E){for(var F=E*a-p,I=F;I<0;)I+=u;for(var T=Math.min(r.inHeight,d+F),Q=0;Q<r.outWidth;++Q){for(var N=Q*A-y,M=N;M<0;)M+=l;for(var O=Math.min(r.inWidth,f+N),L=Number.NEGATIVE_INFINITY,j=-1,R=C;R<b;R+=s)for(var P=R-B,H=I;H<T;H+=u)for(var W=H-F,$=M;$<O;$+=l){var Y=$-N,ee=g.get(v,R,H,$,w);ee>=L&&(L=ee,j=P*d*f+W*d+Y)}o.set(j,v,x,E,Q,w)}}}return o.toTensor()},t.prototype.maxPool3dBackprop=function(n,r,o,i){z([r,o],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(r,i),A=i.strideDepth,s=i.strideHeight,u=i.strideWidth,l=i.dilationDepth,c=i.dilationHeight,d=i.dilationWidth,f=i.effectiveFilterDepth,h=i.effectiveFilterHeight,p=i.effectiveFilterWidth,y=f-1-i.padInfo.front,g=p-1-i.padInfo.left,v=h-1-i.padInfo.top,w=xe(r.shape,"float32"),x=this.bufferSync(a),B=this.bufferSync(n),C=0;C<i.batchSize;++C)for(var b=0;b<i.inChannels;++b)for(var E=0;E<i.inDepth;++E)for(var F=0;F<i.inHeight;++F)for(var I=0;I<i.inWidth;++I){for(var T=E-y,Q=F-v,N=I-g,M=0,O=0;O<f;O+=l){var L=(T+O)/A;if(!(L<0||L>=i.outDepth||Math.floor(L)!==L))for(var j=0;j<h;j+=c){var R=(Q+j)/s;if(!(R<0||R>=i.outHeight||Math.floor(R)!==R))for(var P=0;P<p;P+=d){var H=(N+P)/u;if(!(H<0||H>=i.outWidth||Math.floor(H)!==H)){var W=f*h*p-1-x.get(C,L,R,H,b)===O*h*p+j*p+P?1:0;W!==0&&(M+=B.get(C,L,R,H,b)*W)}}}}w.set(M,C,E,F,I,b)}return w.toTensor()},t.prototype.cast=function(n,r){return tU(n,r,this)},t.prototype.reshape=function(n,r){return cv(n,r)},t.prototype.avgPool=function(n,r){return z(n,"avgPool"),this.pool(n,r,"avg").toFloat()},t.prototype.resizeBilinear=function(n,r,o,i){z(n,"resizeBilinear");for(var a=n.shape,A=a[0],s=a[1],u=a[2],l=a[3],c=this.readSync(n.dataId),d=new Float32Array(ue([A,r,o,l])),f=[i&&r>1?s-1:s,i&&o>1?u-1:u],h=[i&&r>1?r-1:r,i&&o>1?o-1:o],p=0,y=f[0]/h[0],g=f[1]/h[1],v=0;v<A;v++)for(var w=0;w<r;w++)for(var x=y*w,B=Math.floor(x),C=x-B,b=Math.min(s-1,Math.ceil(x)),E=v*n.strides[0]+B*n.strides[1],F=v*n.strides[0]+b*n.strides[1],I=0;I<o;I++)for(var T=g*I,Q=Math.floor(T),N=T-Q,M=Math.min(u-1,Math.ceil(T)),O=E+Q*n.strides[2],L=F+Q*n.strides[2],j=E+M*n.strides[2],R=F+M*n.strides[2],P=0;P<l;P++){var H=c[O+P],W=c[L+P],$=H+(c[j+P]-H)*N,Y=$+(W+(c[R+P]-W)*N-$)*C;d[p++]=Y}return Wt(d,[A,r,o,l])},t.prototype.resizeBilinearBackprop=function(n,r,o){z([n,r],"resizeBilinearBackprop");for(var i=r.shape,a=i[0],A=i[1],s=i[2],u=i[3],l=n.shape,c=l[1],d=l[2],f=new Float32Array(a*A*s*u),h=[o&&c>1?A-1:A,o&&d>1?s-1:s],p=[o&&c>1?c-1:c,o&&d>1?d-1:d],y=h[0]/p[0],g=h[1]/p[1],v=this.readSync(n.dataId),w=0,x=0;x<a;x++)for(var B=x*r.strides[0],C=0;C<c;C++)for(var b=C*y,E=Math.floor(b),F=Math.min(Math.ceil(b),A-1),I=B+E*r.strides[1],T=B+F*r.strides[1],Q=b-E,N=1-Q,M=0;M<d;M++)for(var O=M*g,L=Math.floor(O),j=Math.min(Math.ceil(O),s-1),R=O-L,P=1-R,H=I+L*r.strides[2],W=I+j*r.strides[2],$=T+L*r.strides[2],Y=T+j*r.strides[2],ee=N*P,ie=N*R,oe=Q*P,fe=Q*R,Be=0;Be<u;Be++){var he=v[w++];f[H+Be]+=he*ee,f[W+Be]+=he*ie,f[$+Be]+=he*oe,f[Y+Be]+=he*fe}return Bn(f,[a,s,A,u],r.dtype)},t.prototype.resizeNearestNeighbor=function(n,r,o,i){z(n,"resizeNearestNeighbor");for(var a=n.shape,A=a[0],s=a[1],u=a[2],l=a[3],c=this.readSync(n.dataId),d=new Float32Array(A*r*o*l),f=[i&&r>1?s-1:s,i&&o>1?u-1:u],h=[i&&r>1?r-1:r,i&&o>1?o-1:o],p=f[0]/h[0],y=f[1]/h[1],g=0,v=0;v<A;v++)for(var w=v*n.strides[0],x=0;x<r;x++)for(var B=p*x,C=w+Math.min(s-1,i?Math.round(B):Math.floor(B))*n.strides[1],b=0;b<o;b++)for(var E=y*b,F=C+Math.min(u-1,i?Math.round(E):Math.floor(E))*n.strides[2],I=0;I<l;I++){var T=c[F+I];d[g++]=T}return Wt(d,[A,r,o,l],n.dtype)},t.prototype.resizeNearestNeighborBackprop=function(n,r,o){z([n,r],"resizeNearestNeighborBackprop");for(var i=r.shape,a=i[0],A=i[1],s=i[2],u=i[3],l=n.shape,c=l[1],d=l[2],f=new Float32Array(a*A*s*u),h=this.readSync(n.dataId),p=[o&&c>1?A-1:A,o&&d>1?s-1:s],y=[o&&c>1?c-1:c,o&&d>1?d-1:d],g=p[0]/y[0],v=p[1]/y[1],w=1/g,x=1/v,B=2*Math.ceil(w)+2,C=2*Math.ceil(x)+2,b=0;b<a;b++)for(var E=b*r.strides[0],F=0;F<A;F++)for(var I=E+F*r.strides[1],T=Math.floor(F*w),Q=Math.floor(T-B/2),N=0;N<s;N++)for(var M=I+N*r.strides[2],O=Math.floor(N*x),L=Math.floor(O-C/2),j=0;j<u;j++){for(var R=0,P=0;P<B;P++){var H=P+Q;if(!(H<0||H>=c)){var W=E+H*n.strides[1],$=H*g;if(F===Math.min(A-1,o?Math.round($):Math.floor($)))for(var Y=0;Y<C;Y++){var ee=Y+L;if(!(ee<0||ee>=d)){var ie=W+ee*n.strides[2],oe=ee*v;N===Math.min(s-1,o?Math.round(oe):Math.floor(oe))&&(R+=h[ie+j])}}}}f[M+j]=R}return Bn(f,r.shape,r.dtype)},t.prototype.batchNormalization=function(n,r,o,i,a,A){z([n,r,o,a,A],"batchNorm");for(var s=this.readSync(n.dataId),u=this.readSync(r.dataId),l=this.readSync(o.dataId),c=a?this.readSync(a.dataId):new Float32Array([1]),d=A?this.readSync(A.dataId):new Float32Array([0]),f=new Float32Array(s.length),h=d.length,p=c.length,y=l.length,g=u.length,v=0,w=0,x=0,B=0,C=0;C<s.length;++C)f[C]=d[v++]+(s[C]-u[w++])*c[x++]/Math.sqrt(l[B++]+i),v>=h&&(v=0),w>=g&&(w=0),x>=p&&(x=0),B>=y&&(B=0);return Bn(f,n.shape)},t.prototype.localResponseNormalization4D=function(n,r,o,i,a){z(n,"localResponseNormalization4D");var A=n.shape[3],s=A-1,u=this.readSync(n.dataId),l=n.size,c=new Float32Array(l);function d(y){for(var g=y%A,v=y-g+Math.max(0,g-r),w=y-g+Math.min(g+r,s),x=0;v<=w;v++){var B=u[v];x+=B*B}return x}for(var f=0;f<l;f++){var h=d(f),p=u[f]*Math.pow(o+i*h,-a);c[f]=p}return Bn(c,n.shape)},t.prototype.LRNGrad=function(n,r,o,i,a,A,s){z(n,"LRNGrad");for(var u=n.shape[3],l=this.readSync(n.dataId),c=this.readSync(r.dataId),d=this.readSync(o.dataId),f=new Float32Array(n.size),h=n.size,p=0;p<h;p++){for(var y=p%u,g=p-y+Math.max(0,y-i),v=p-y+Math.min(u,y+i+1),w=0,x=g;x<v;x++)w+=Math.pow(c[x],2);for(w=A*w+a,x=g;x<v;x++){var B=-2*A*s*c[x]*d[p]/w;p===x&&(B+=Math.pow(w,-s)),B*=l[p],f[x]+=B}}return Bn(f,n.shape)},t.prototype.multinomial=function(n,r,o,i){z(n,"multinomial");for(var a=r?n:jo(n),A=a.shape[0],s=a.shape[1],u=Xe([A,o],"int32"),l=this.readSync(u.dataId),c=this.readSync(a.dataId),d=0;d<A;++d){var f=d*s,h=new Float32Array(s-1);h[0]=c[f];for(var p=1;p<h.length;++p)h[p]=h[p-1]+c[f+p];for(var y=xh(i.toString()),g=d*o,v=0;v<o;++v){var w=y();l[g+v]=h.length;for(var x=0;x<h.length;x++)if(w<h[x]){l[g+v]=x;break}}}return u},t.prototype.oneHot=function(n,r,o,i){z(n,"oneHot");var a=new Float32Array(n.size*r);a.fill(i);for(var A=this.readSync(n.dataId),s=0;s<n.size;++s)A[s]>=0&&A[s]<r&&(a[s*r+A[s]]=o);return Ci(a,[n.size,r],"int32")},t.prototype.nonMaxSuppression=function(n,r,o,i,a){return z(n,"nonMaxSuppression"),Wy(this.readSync(n.dataId),this.readSync(r.dataId),o,i,a)},t.prototype.fft=function(n){return this.fftBatch(n,!1)},t.prototype.ifft=function(n){return this.fftBatch(n,!0)},t.prototype.fftBatch=function(n,r){for(var o=n.shape[0],i=n.shape[1],a=xe(n.shape,"float32"),A=xe(n.shape,"float32"),s=dr(n).as2D(o,i),u=eo(n).as2D(o,i),l=0;l<o;l++)for(var c=s.slice([l,0],[1,i]),d=u.slice([l,0],[1,i]),f=Ot(c,d),h=this.readSync(this.fftImpl(f,r).dataId),p=0;p<i;p++){var y=nC(h,p);a.values[l*i+p]=y.real,A.values[l*i+p]=y.imag}return Ot(a.toTensor(),A.toTensor()).as2D(o,i)},t.prototype.fftImpl=function(n,r){var o=n.as1D(),i=o.size;if(this.isExponentOf2(i)){var a=this.fftRadix2(o,i,r).as2D(n.shape[0],n.shape[1]);return r&&(a=Ot(dr(a).div(q(i)),eo(a).div(q(i)))),a}var A=this.readSync(n.dataId),s=function(u){for(var l=new Float32Array(u.length/2),c=new Float32Array(u.length/2),d=0;d<u.length;d+=2)l[d/2]=u[d],c[d/2]=u[d+1];return{real:l,imag:c}}(this.fourierTransformByMatmul(A,i,r));return Ot(s.real,s.imag).as2D(n.shape[0],n.shape[1])},t.prototype.isExponentOf2=function(n){return(n&n-1)==0},t.prototype.fftRadix2=function(n,r,o){if(r===1)return n;var i=this.readSync(n.dataId),a=r/2,A=function(g){for(var v=Math.ceil(g.length/4),w=new Float32Array(v),x=new Float32Array(v),B=0;B<g.length;B+=4)w[Math.floor(B/4)]=g[B],x[Math.floor(B/4)]=g[B+1];return{real:w,imag:x}}(i),s=Ot(A.real,A.imag).as1D(),u=function(g){for(var v=Math.floor(g.length/4),w=new Float32Array(v),x=new Float32Array(v),B=2;B<g.length;B+=4)w[Math.floor(B/4)]=g[B],x[Math.floor(B/4)]=g[B+1];return{real:w,imag:x}}(i),l=Ot(u.real,u.imag).as1D();s=this.fftRadix2(s,a,o),l=this.fftRadix2(l,a,o);var c=function(g,v){for(var w=new Float32Array(g/2),x=new Float32Array(g/2),B=0;B<Math.ceil(g/2);B++){var C=(v?2:-2)*Math.PI*(B/g);w[B]=Math.cos(C),x[B]=Math.sin(C)}return{real:w,imag:x}}(r,o),d=Ot(c.real,c.imag).mul(l),f=s.add(d),h=s.sub(d),p=dr(f).concat(dr(h)),y=eo(f).concat(eo(h));return Ot(p,y).as1D()},t.prototype.fourierTransformByMatmul=function(n,r,o){for(var i=new Float32Array(2*r),a=0;a<r;a++){for(var A=0,s=0,u=0;u<r;u++){var l=Zj(a*u,r,o),c=nC(n,u);A+=c.real*l.real-c.imag*l.imag,s+=c.real*l.imag+c.imag*l.real}o&&(A/=r,s/=r),Jj(i,A,s,a)}return i},t.prototype.depthToSpace=function(n,r,o){U(o==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+o}),U(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var i=n.shape[0],a=n.shape[1],A=n.shape[2],s=n.shape[3],u=a*r,l=A*r,c=s/(r*r),d=this.readSync(n.dataId),f=new Float32Array(i*u*l*c),h=0,p=0;p<i;++p)for(var y=0;y<u;++y)for(var g=Math.floor(y/r),v=y%r,w=0;w<l;++w)for(var x=Math.floor(w/r),B=(v*r+w%r)*c,C=0;C<c;++C){var b=C+B+s*(x+A*(g+a*p));f[h++]=d[b]}return Bn(f,[i,u,l,c])},t.prototype.broadcastedBinaryOp=function(n,r,o,i){var a=Ee(n.shape,r.shape),A=xe(a,o),s=this.readSync(n.dataId),u=this.readSync(r.dataId),l=si(n.shape,a),c=si(r.shape,a),d=A.values;if(l.length+c.length===0)for(var f=0;f<d.length;++f)d[f]=i(s[f%s.length],u[f%u.length]);else{var h=this.bufferSync(n),p=this.bufferSync(r),y=function(g){var v=A.indexToLoc(g),w=v.slice(-n.rank);l.forEach(function(b){return w[b]=0});var x=h.locToIndex(w),B=v.slice(-r.rank);c.forEach(function(b){return B[b]=0});var C=p.locToIndex(B);d[g]=i(s[x],u[C])};for(f=0;f<d.length;++f)y(f)}return A.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(n,r,o){var i=Ee(n.shape,r.shape),a=xe(i,"float32"),A=xe(i,"float32"),s=this.readSync(n.dataId),u=this.readSync(r.dataId),l=si(n.shape,i),c=si(r.shape,i),d=a.values,f=A.values;if(l.length+c.length===0)for(var h=0;h<d.length;h++){var p=h%s.length,y=h%u.length,g=o(s[2*p],s[2*p+1],u[2*y],u[2*y+1]);d[h]=g.real,f[h]=g.imag}else{var v=this.bufferSync(this.data.get(n.dataId).complexTensors.real),w=this.bufferSync(this.data.get(r.dataId).complexTensors.real),x=function(B){var C=a.indexToLoc(B),b=C.slice(-n.rank);l.forEach(function(Q){return b[Q]=0});var E=v.locToIndex(b),F=C.slice(-r.rank);c.forEach(function(Q){return F[Q]=0});var I=w.locToIndex(F),T=o(s[2*E],s[2*E+1],u[2*I],u[2*I+1]);d[B]=T.real,f[B]=T.imag};for(h=0;h<d.length;h++)x(h)}return this.complex(a.toTensor(),A.toTensor())},t.prototype.split=function(n,r,o){return oU(n,r,o)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(n,r,o,i,a,A){for(var s=n.shape,u=s[0],l=s[1],c=s[2],d=s[3],f=r.shape[0],h=i[0],p=i[1],y=xe([f,h,p,d],"float32"),g=this.readSync(r.dataId),v=this.readSync(o.dataId),w=this.readSync(n.dataId),x=n.strides,B=y.strides,C=0;C<f;C++){var b=4*C,E=g[b],F=g[b+1],I=g[b+2],T=g[b+3],Q=v[C];if(!(Q>=u))for(var N=h>1?(I-E)*(l-1)/(h-1):0,M=p>1?(T-F)*(c-1)/(p-1):0,O=0;O<h;O++){var L=h>1?E*(l-1)+O*N:.5*(E+I)*(l-1);if(L<0||L>l-1)for(var j=0;j<p;j++)for(var R=0;R<d;R++){var P=R+j*B[2]+O*B[1]+C*B[0];y.values[P]=A}else if(a==="bilinear"){var H=Math.floor(L),W=Math.ceil(L),$=L-H;for(j=0;j<p;j++)if((pe=p>1?F*(c-1)+j*M:.5*(F+T)*(c-1))<0||pe>c-1)for(R=0;R<d;R++)P=R+j*B[2]+O*B[1]+C*B[0],y.values[P]=A;else{var Y=Math.floor(pe),ee=Math.ceil(pe),ie=pe-Y;for(R=0;R<d;R++){var oe=w[P=R+Y*x[2]+H*x[1]+Q*x[0]],fe=w[P=R+ee*x[2]+H*x[1]+Q*x[0]],Be=w[P=R+Y*x[2]+W*x[1]+Q*x[0]],he=oe+(fe-oe)*ie,Te=Be+(w[P=R+ee*x[2]+W*x[1]+Q*x[0]]-Be)*ie;P=R+j*B[2]+O*B[1]+C*B[0],y.values[P]=he+(Te-he)*$}}}else for(j=0;j<p;++j){var pe;if((pe=p>1?F*(c-1)+j*M:.5*(F+T)*(c-1))<0||pe>c-1)for(R=0;R<d;R++)P=R+j*B[2]+O*B[1]+C*B[0],y.values[P]=A;else{var Qe=Math.round(pe),se=Math.round(L);for(R=0;R<d;R++){var He=R+Qe*x[2]+se*x[1]+Q*x[0],je=R+j*B[2]+O*B[1]+C*B[0];y.values[je]=w[He]}}}}}return y.toTensor()},t.prototype.sparseToDense=function(n,r,o,i){var a=zd(0,n,o),A=a.sliceRank,s=a.numUpdates,u=a.sliceSize,l=a.strides,c=a.outputSize;return this.scatter(n,r,o,c,u,s,A,l,i,!1)},t.prototype.gatherND=function(n,r){var o=r.shape,i=o[o.length-1],a=$S(n,r),A=a[0],s=a[1],u=a[2],l=a[3];if(s===0)return Wt([],A,n.dtype);for(var c=new Ru([s,u],n.dtype),d=this.readSync(r.dataId),f=this.readSync(n.dataId),h=0;h<s;h++){for(var p=[],y=0,g=0;g<i;g++){var v=d[h*i+g];y+=v*l[g],p.push(v)}if(y<0||y>=n.size/u)throw new Error("Invalid indices: "+p+" does not index into "+n.shape);for(var w=0;w<u;w++)c.values[h*u+w]=f[y*u+w]}return c.toTensor().reshape(A)},t.prototype.scatterND=function(n,r,o){var i=zd(0,n,o),a=i.sliceRank,A=i.numUpdates,s=i.sliceSize,u=i.strides,l=i.outputSize,c=q(0);return this.scatter(n,r,o,l,s,A,a,u,c,!0)},t.prototype.fill=function(n,r,o){var i=Md(o=o||rl(r),ue(n));return i.fill(r),D.makeTensor(i,n,o,this)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){var r=Md(n.dtype,ue(n.shape));return this.makeOutput(r,n.shape,n.dtype)},t.prototype.linspace=function(n,r,o){return nU(n,r,o)},t.prototype.scatter=function(n,r,o,i,a,A,s,u,l,c){var d=[i/a,a],f=this.readSync(n.dataId),h=this.readSync(r.dataId);if(i===0)return Wt([],o,r.dtype);var p=new Ru(d,r.dtype);p.values.fill(this.readSync(l.dataId)[0]);for(var y=0;y<A;y++){for(var g=[],v=0,w=0;w<s;w++){var x=f[y*s+w];g.push(x),v+=x*u[w]}if(v<0||v>=i/a)throw new Error("Invalid indices: "+g+" does not index into "+o);for(var B=0;B<a;B++)c?p.values[v*a+B]+=h[y*a+B]:p.values[v*a+B]=r.rank===0?h[0]:h[y*a+B]}return p.toTensor().reshape(o)},t}(ZS);D.registerBackend("cpu",function(){return new yW},1);for(var rg=0,bC=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,A=r,s=A.maxOutputSize,u=A.iouThreshold,l=A.scoreThreshold,c=A.softNmsSigma,d=n;z(i,"NonMaxSuppressionWithScore");var f=Gy(d.data.get(i.dataId).values,d.data.get(a.dataId).values,s,u,l,c);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;z(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),A=0;A<i.length;++A){var s=i[A];a[A]=s*s}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Mu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;z([o,i],Mu);var A=a.data.get(o.dataId).values,s=a.data.get(i.dataId).values,u=function(d,f,h,p,y,g){var v=Ee(d,f),w=v.length,x=so(v),B=_u(y,ue(v)),C=d.length,b=f.length,E=so(d),F=so(f),I=si(d,v),T=si(f,v);if(I.length+T.length===0)for(var Q=0;Q<B.length;++Q)B[Q]=g(h[Q%h.length],p[Q%p.length]);else{var N=function(M){var O=U5(M,w,x),L=O.slice(-C);I.forEach(function(H){return L[H]=0});var j=zB(L,C,E),R=O.slice(-b);T.forEach(function(H){return R[H]=0});var P=zB(R,b,F);B[M]=g(h[j],p[P])};for(Q=0;Q<B.length;++Q)N(Q)}return[B,v]}(o.shape,i.shape,A,s,o.dtype,function(d,f){var h=d-f;return h*h}),l=u[0],c=u[1];return{dataId:a.write(l,c,o.dtype),shape:c,dtype:o.dtype}}}];rg<bC.length;rg++)IS(bC[rg]);var Ma,wW=function(e){this.variableNames=["A"];var t=an(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},xW=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=an(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var og=0,EC=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,A=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,s=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],u=s[0],l=s[1],c=[l,u],d=[l,u,i];(A||a)&&(Ma==null&&(Ma=document.createElement("canvas").getContext("2d")),Ma.canvas.width=u,Ma.canvas.height=l,Ma.drawImage(o,0,0,u,l),o=Ma.canvas);var f=n.makeTensorInfo(c,"int32");n.texData.get(f.dataId).usage=On.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),o);var h=G().getBool("WEBGL_PACK")?new xW(d):new wW(d),p=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),p}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;Od("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,A=r,s=A.maxOutputSize,u=A.iouThreshold,l=A.scoreThreshold,c=A.softNmsSigma,d=n,f=Gy(d.readSync(i.dataId),d.readSync(a.dataId),s,u,l,c);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new Ce(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:Mu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,A=G().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bo("return (a - b) * (a - b);",o.shape,i.shape):new At("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(A,[o,i])}}];og<EC.length;og++)IS(EC[og]);for(var ig=0,FC=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:Mu,gradFunc:function(e,t){var n=t[0],r=t[1],o=q(2);return{a:function(){return sn(e,sn(o,Tt(n,r)))},b:function(){return sn(e,sn(o,Tt(r,n)))}}}}];ig<FC.length;ig++)v5(FC[ig]);var BW=function(){function e(){}return e.prototype.fetch=function(t,n){return fetch(t,n)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},e}();G().get("IS_BROWSER")&&G().setPlatform("browser",new BW);var ag,CW=function(){return require("node-fetch")},bW=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,n){return G().global.fetch!=null?G().global.fetch(t,n):(ag==null&&(ag=CW()),ag(t,n))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)},e}();G().get("IS_NODE")&&G().setPlatform("node",new bW);var hv={float32:4,int32:4,uint16:2,uint8:1,bool:1},ef=4;function YU(e,t){for(var n={},r=0,o=function(A){var s=A.name,u=A.dtype,l=A.shape,c=ue(l),d=void 0;if("quantization"in A){var f=A.quantization;if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error("Weight "+A.name+" has unknown quantization dtype "+f.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var h=hv[f.dtype],p=e.slice(r,r+c*h),y=f.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(u==="float32")d=Float32Array.from(y,function(C){return C*f.scale+f.min});else{if(u!=="int32")throw new Error("Unsupported dtype in weight '"+s+"': "+u);d=Int32Array.from(y,function(C){return Math.round(C*f.scale+f.min)})}r+=c*h}else if(u==="string"){var g=ue(A.shape);d=[];for(var v=0;v<g;v++){var w=new Uint32Array(e.slice(r,r+ef))[0];r+=ef;var x=new Uint8Array(e.slice(r,r+w));d.push(x),r+=w}}else{var B=hv[u];if(p=e.slice(r,r+c*B),u==="float32")d=new Float32Array(p);else if(u==="int32")d=new Int32Array(p);else{if(u!=="bool")throw new Error("Unsupported dtype in weight '"+s+"': "+u);d=new Uint8Array(p)}r+=c*B}n[s]=Wt(d,l,u)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function EW(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(i){if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var r=new Uint8Array(t),o=0;return n.forEach(function(i){r.set(new Uint8Array(i.buffer),o),o+=i.byteLength}),r.buffer}var pv=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function IC(e){return pv?Buffer.byteLength(e):new Blob([e]).size}function c1(e){var t=0;e.forEach(function(o){t+=o.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(o){n.set(new Uint8Array(o),r),r+=o.byteLength}),n.buffer}function SC(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function ll(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:IC(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:IC(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var jn=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(i){var a=i(t,r);a!==null&&o.push(a)}),o},e}(),IA="://",bi=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,n){U(t!=null,function(){return"scheme must not be undefined or null."}),t.endsWith(IA)&&(t=t.slice(0,t.indexOf(IA))),U(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();U(r.managers[t]==null,function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(t){var n=this.getInstance().managers[t];if(n==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function zc(e){if(e.indexOf(IA)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+bi.getSchemes().join(","));return{scheme:e.split(IA)[0],path:e.split(IA)[1]}}function UC(e,t,n){return n===void 0&&(n=!1),ae(this,void 0,void 0,function(){var r,o,i,a,A,s,u,l,c;return Ae(this,function(d){switch(d.label){case 0:return U(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),U((r=jn.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),U(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),o=r[0],U((i=jn.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),U(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),a=i[0],A=zc(e).scheme,s=zc(e).path,u=A===zc(e).scheme,[4,o.load()];case 1:return l=d.sent(),n&&u?[4,bi.getManager(A).removeModel(s)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,a.save(l)];case 4:return c=d.sent(),!n||u?[3,6]:[4,bi.getManager(A).removeModel(s)];case 5:d.sent(),d.label=6;case 6:return[2,c.modelArtifactsInfo]}})})}var Aa="models_store",ui="model_info_store";function qU(){if(!G().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function gv(e){var t=e.result;t.createObjectStore(Aa,{keyPath:"modelPath"}),t.createObjectStore(ui,{keyPath:"modelPath"})}var SA=function(){function e(t){if(this.indexedDB=qU(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return ae(this,void 0,void 0,function(){return Ae(this,function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},e.prototype.load=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(t,n){var r=this;return new Promise(function(o,i){var a=r.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return gv(a)},a.onsuccess=function(){var A=a.result;if(n==null){var s=A.transaction(Aa,"readonly"),u=s.objectStore(Aa).get(r.modelPath);u.onsuccess=function(){if(u.result==null)return A.close(),i(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));o(u.result.modelArtifacts)},u.onerror=function(p){return A.close(),i(u.error)},s.oncomplete=function(){return A.close()}}else{var l,c=ll(n),d=A.transaction(ui,"readwrite"),f=d.objectStore(ui),h=f.put({modelPath:r.modelPath,modelArtifactsInfo:c});h.onsuccess=function(){var p=(l=A.transaction(Aa,"readwrite")).objectStore(Aa).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:c});p.onsuccess=function(){return o({modelArtifactsInfo:c})},p.onerror=function(y){var g=(f=d.objectStore(ui)).delete(r.modelPath);g.onsuccess=function(){return A.close(),i(p.error)},g.onerror=function(v){return A.close(),i(p.error)}}},h.onerror=function(p){return A.close(),i(h.error)},d.oncomplete=function(){l==null?A.close():l.oncomplete=function(){return A.close()}}}},a.onerror=function(A){return i(a.error)}})},e.URL_SCHEME="indexeddb://",e}(),QC=function(e){return G().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(SA.URL_SCHEME)?(t=e.slice(SA.URL_SCHEME.length),new SA(t)):null;var t};jn.registerSaveRouter(QC),jn.registerLoadRouter(QC);var FW=function(){function e(){this.indexedDB=qU()}return e.prototype.listModels=function(){return ae(this,void 0,void 0,function(){var t=this;return Ae(this,function(n){return[2,new Promise(function(r,o){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return gv(i)},i.onsuccess=function(){var a=i.result,A=a.transaction(ui,"readonly"),s=A.objectStore(ui).getAll();s.onsuccess=function(){for(var u={},l=0,c=s.result;l<c.length;l++){var d=c[l];u[d.modelPath]=d.modelArtifactsInfo}r(u)},s.onerror=function(u){return a.close(),o(s.error)},A.oncomplete=function(){return a.close()}},i.onerror=function(a){return o(i.error)}})]})})},e.prototype.removeModel=function(t){return ae(this,void 0,void 0,function(){var n=this;return Ae(this,function(r){var o;return t=(o=t).startsWith(SA.URL_SCHEME)?o.slice(SA.URL_SCHEME.length):o,[2,new Promise(function(i,a){var A=n.indexedDB.open("tensorflowjs",1);A.onupgradeneeded=function(){return gv(A)},A.onsuccess=function(){var s,u=A.result,l=u.transaction(ui,"readwrite"),c=l.objectStore(ui),d=c.get(t);d.onsuccess=function(){if(d.result==null)return u.close(),a(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var f=c.delete(t),h=function(){var p=(s=u.transaction(Aa,"readwrite")).objectStore(Aa).delete(t);p.onsuccess=function(){return i(d.result.modelArtifactsInfo)},p.onerror=function(y){return a(d.error)}};f.onsuccess=h,f.onerror=function(p){return h(),u.close(),a(d.error)}},d.onerror=function(f){return u.close(),a(d.error)},l.oncomplete=function(){s==null?u.close():s.oncomplete=function(){return u.close()}}},A.onerror=function(s){return a(A.error)}})]})})},e}();if(G().getBool("IS_BROWSER"))try{bi.registerManager(SA.URL_SCHEME,new FW)}catch{}var Eo="/",Xa="tensorflowjs_models",JU="info",IW="model_topology",SW="weight_specs",UW="weight_data",QW="model_metadata";function ZU(e){return{info:[Xa,e,JU].join(Eo),topology:[Xa,e,IW].join(Eo),weightSpecs:[Xa,e,SW].join(Eo),weightData:[Xa,e,UW].join(Eo),modelMetadata:[Xa,e,QW].join(Eo)}}function TW(e){var t=e.split(Eo);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Eo)}var UA=function(){function e(t){if(!G().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=ZU(this.modelPath)}return e.prototype.save=function(t){return ae(this,void 0,void 0,function(){var n,r,o;return Ae(this,function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),o=ll(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(a){if(pv)return Buffer.from(a).toString("base64");for(var A=new Uint8Array(a),s="",u=0,l=A.length;u<l;u++)s+=String.fromCharCode(A[u]);return btoa(s)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return ae(this,void 0,void 0,function(){var t,n,r,o,i,a,A;return Ae(this,function(s){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=o,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(a=JSON.parse(i),n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,n.userDefinedMetadata=a.userDefinedMetadata),(A=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(u){if(pv){var l=Buffer.from(u,"base64");return l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}for(var c=atob(u),d=new Uint8Array(c.length),f=0;f<c.length;++f)d.set([c.charCodeAt(f)],f);return d.buffer}(A),[2,n]})})},e.URL_SCHEME="localstorage://",e}(),TC=function(e){return G().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(UA.URL_SCHEME)?(t=e.slice(UA.URL_SCHEME.length),new UA(t)):null;var t};jn.registerSaveRouter(TC),jn.registerLoadRouter(TC);var kW=function(){function e(){U(G().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),U(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return ae(this,void 0,void 0,function(){var t,n,r,o,i,a;return Ae(this,function(A){for(t={},n=Xa+Eo,r=Eo+JU,o=0;o<this.LS.length;++o)(i=this.LS.key(o)).startsWith(n)&&i.endsWith(r)&&(a=TW(i),t[a]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},e.prototype.removeModel=function(t){return ae(this,void 0,void 0,function(){var n,r;return Ae(this,function(o){var i;if(t=(i=t).startsWith(UA.URL_SCHEME)?i.slice(UA.URL_SCHEME.length):i,n=ZU(t),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},e}();if(G().getBool("IS_BROWSER"))try{bi.registerManager(UA.URL_SCHEME,new kW)}catch{}var _W="model",RW=".json",DW=".weights.bin";function kC(e){return new Promise(function(t){return setTimeout(t)}).then(e)}var Ag=function(){function e(t){if(!G().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=_W),this.modelTopologyFileName=t+RW,this.weightDataFileName=t+DW}return e.prototype.save=function(t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A;return Ae(this,function(s){switch(s.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(a=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,kC(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),t.weightData==null?[3,4]:((A=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,A.href=n,[4,kC(function(){return A.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:ll(t)}]}})})},e.URL_SCHEME="downloads://",e}(),NW=function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return ae(this,void 0,void 0,function(){var t,n,r=this;return Ae(this,function(o){return t=this.files[0],n=this.files.slice(1),[2,new Promise(function(i,a){var A=new FileReader;A.onload=function(s){var u=JSON.parse(s.target.result),l=u.modelTopology;if(l!=null){n.length===0&&i({modelTopology:l});var c=u.weightsManifest;if(c!=null){var d;try{d=r.checkManifestAndWeightFiles(c,n)}catch(y){return void a(y)}var f=[],h=[],p=[];c.forEach(function(y){y.paths.forEach(function(g){h.push(g),p.push(null)}),f.push.apply(f,y.weights)}),c.forEach(function(y){y.paths.forEach(function(g){var v=new FileReader;v.onload=function(w){var x=w.target.result,B=h.indexOf(g);p[B]=x,p.indexOf(null)===-1&&i({modelTopology:l,weightSpecs:f,weightData:c1(p),format:u.format,generatedBy:u.generatedBy,convertedBy:u.convertedBy,userDefinedMetadata:u.userDefinedMetadata})},v.onerror=function(w){return a("Failed to weights data from file of path '"+g+"'.")},v.readAsArrayBuffer(d[g])})})}else a(new Error("weightManifest field is missing from file "+t.name))}else a(new Error("modelTopology field is missing from file "+t.name))},A.onerror=function(s){return a("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},A.readAsText(t)})]})})},e.prototype.checkManifestAndWeightFiles=function(t,n){for(var r=[],o=n.map(function(s){return SC(s.name)}),i={},a=0,A=t;a<A.length;a++)A[a].paths.forEach(function(s){var u=SC(s);if(r.indexOf(u)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+u+"'");if(r.push(u),o.indexOf(u)===-1)throw new Error("Weight file with basename '"+u+"' is not provided.");i[s]=n[o.indexOf(u)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return i},e}();function _C(e,t,n,r){(function(i){U(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(e),function(i,a){U(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),U(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+a}),U(a>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+a})}(n=n??0,r=r??1);var o=0;return Promise.all(e.map(function(i){return i.then(function(a){var A=n+ ++o/e.length*(r-n);return t(A),a}),i}))}function e4(e,t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l;return Ae(this,function(c){switch(c.label){case 0:return t==null&&(t={}),n=t.fetchFunc==null?G().platform.fetch:t.fetchFunc,r=e.map(function(d){return n(d,t.requestInit,{isBinary:!0})}),o=0,i=.5,t.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return a=c.sent(),[3,4];case 2:return[4,_C(r,t.onProgress,o,i)];case 3:a=c.sent(),c.label=4;case 4:return A=a.map(function(d){return d.arrayBuffer()}),s=.5,u=1,t.onProgress!=null?[3,6]:[4,Promise.all(A)];case 5:return l=c.sent(),[3,8];case 6:return[4,_C(A,t.onProgress,s,u)];case 7:l=c.sent(),c.label=8;case 8:return[2,l]}})})}function RC(e){var t=this;return function(n,r,o){return r===void 0&&(r=""),ae(t,void 0,void 0,function(){var i,a,A,s,u,l,c,d,f,h;return Ae(this,function(p){switch(p.label){case 0:if(i=n.map(function(){return!1}),a={},A=o!=null?o.map(function(){return!1}):[],s=[],n.forEach(function(y,g){var v=0;y.weights.forEach(function(w){var x="quantization"in w?w.quantization.dtype:w.dtype,B=hv[x]*ue(w.shape),C=function(){i[g]=!0,a[g]==null&&(a[g]=[]),a[g].push({manifestEntry:w,groupOffset:v,sizeBytes:B})};o!=null?o.forEach(function(b,E){b===w.name&&(C(),A[E]=!0)}):C(),s.push(w.name),v+=B})}),!A.every(function(y){return y}))throw u=o.filter(function(y,g){return!A[g]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+`. 
Manifest JSON has weights with names: `+s.join(", ")+".");return l=i.reduce(function(y,g,v){return g&&y.push(v),y},[]),c=[],l.forEach(function(y){n[y].paths.forEach(function(g){var v=r+(r.endsWith("/")?"":"/")+g;c.push(v)})}),[4,e(c)];case 1:return d=p.sent(),f={},h=0,l.forEach(function(y){for(var g=n[y].paths.length,v=0,w=0;w<g;w++)v+=d[h+w].byteLength;for(var x=new ArrayBuffer(v),B=new Uint8Array(x),C=0,b=0;b<g;b++){var E=new Uint8Array(d[h+b]);B.set(E,C),C+=E.byteLength}a[y].forEach(function(F){var I=YU(x.slice(F.groupOffset,F.groupOffset+F.sizeBytes),[F.manifestEntry]);for(var T in I)f[T]=I[T]}),h+=g}),[2,f]}})})}}jn.registerSaveRouter(function(e){return G().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ag.URL_SCHEME)?function(t){return t===void 0&&(t="model"),new Ag(t)}(e.slice(Ag.URL_SCHEME.length)):null});var t4=function(){function e(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(U(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=G().platform.fetch,U(t!=null&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&U(t.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return e.prototype.save=function(t){return ae(this,void 0,void 0,function(){var n,r,o,i;return Ae(this,function(a){switch(a.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),t.weightData!=null&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:ll(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return ae(this,void 0,void 0,function(){var t,n,r,o,i,a,A,s,u,l,c,d;return Ae(this,function(f){switch(f.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=f.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");f.label=2;case 2:return f.trys.push([2,4,,5]),[4,t.json()];case 3:return n=f.sent(),[3,5];case 4:throw f.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(o=n.modelTopology,i=n.weightsManifest,a=n.generatedBy,A=n.convertedBy,s=n.format,u=n.userDefinedMetadata,o==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:d=f.sent(),l=d[0],c=d[1],f.label=7;case 7:return[2,{modelTopology:o,weightSpecs:l,weightData:c,userDefinedMetadata:u,generatedBy:a,convertedBy:A,format:s}]}})})},e.prototype.loadWeights=function(t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l,c,d;return Ae(this,function(f){switch(f.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(h){var p=h.lastIndexOf("/"),y=h.lastIndexOf("?"),g=h.substring(0,p),v=y>p?h.substring(y):"";return[g+"/",v]}(n),o=r[0],i=r[1],a=this.weightPathPrefix||o,A=[],s=0,u=t;s<u.length;s++)l=u[s],A.push.apply(A,l.weights);return c=[],t.forEach(function(h){h.paths.forEach(function(p){c.push(a+p+i)})}),[4,e4(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=f.sent(),[2,[A,c1(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function mv(e){return e.match(t4.URL_SCHEME_REGEX)!=null}var DC=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(n){return mv(n)}):mv(e))?vv(e,{onProgress:t}):null};function vv(e,t){return new t4(e,t)}jn.registerSaveRouter(DC),jn.registerLoadRouter(DC);var sg=function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(t){return[2,this.modelArtifacts]})})},e}(),MW=function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return ae(this,void 0,void 0,function(){return Ae(this,function(n){return[2,this.saveHandler(t)]})})},e}(),n4=Object.freeze({browserFiles:function(e){return new NW(e)},browserHTTPRequest:function(e,t){return vv(e,t)},concatenateArrayBuffers:c1,decodeWeights:YU,encodeWeights:function(e,t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A=this;return Ae(this,function(s){switch(s.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map(function(u){return u.name}):Object.keys(e),i=function(u){var l=o[u],c=Array.isArray(e)?e[u].tensor:e[l];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string")throw new Error("Unsupported dtype in weight '"+l+"': "+c.dtype);var d={name:l,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){var f=new Promise(function(h){return ae(A,void 0,void 0,function(){var p,y,g,v,w,x,B;return Ae(this,function(C){switch(C.label){case 0:return[4,c.bytes()];case 1:for(p=C.sent(),y=p.reduce(function(b,E){return b+E.length},0)+ef*p.length,g=new Uint8Array(y),v=0,w=0;w<p.length;w++)x=p[w],B=new Uint8Array(new Uint32Array([x.length]).buffer),g.set(B,v),v+=ef,g.set(x,v),v+=x.length;return h(g),[2]}})})});r.push(f)}else r.push(c.data());t!=null&&(d.group=t),n.push(d)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:EW(s.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new sg(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new sg({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new sg({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return jn.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:ll,getSaveHandlers:function(e){return jn.getSaveHandlers(e)},http:vv,isHTTPScheme:mv,loadWeights:function(e,t,n,r){return t===void 0&&(t=""),ae(this,void 0,void 0,function(){return Ae(this,function(o){return[2,RC(function(i){return e4(i,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return jn.registerLoadRouter(e)},registerSaveRouter:function(e){return jn.registerSaveRouter(e)},weightsLoaderFactory:RC,withSaveHandler:function(e){return new MW(e)},copyModel:function(e,t){return ae(this,void 0,void 0,function(){return Ae(this,function(n){return[2,UC(e,t,!1)]})})},listModels:function(){return ae(this,void 0,void 0,function(){var e,t,n,r,o,i,a;return Ae(this,function(A){switch(A.label){case 0:e=bi.getSchemes(),t={},n=0,r=e,A.label=1;case 1:return n<r.length?(o=r[n],[4,bi.getManager(o).listModels()]):[3,4];case 2:for(a in i=A.sent())t[o+IA+a]=i[a];A.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return ae(this,void 0,void 0,function(){return Ae(this,function(n){return[2,UC(e,t,!0)]})})},removeModel:function(e){return ae(this,void 0,void 0,function(){var t;return Ae(this,function(n){return t=zc(e),[2,bi.getManager(t.scheme).removeModel(t.path)]})})}}),Pa;_({confusionMatrix_:function(e,t,n){var r=S(e,"labels","confusionMatrix"),o=S(t,"predictions","confusionMatrix");U(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),U(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),U(o.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+o.rank}),U(r.shape[0]===o.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."}),U(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=uv(r.asType("int32"),n),a=uv(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}});var PW=_({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(FS("FromPixels",D.backendName)!=null)return D.runKernel("FromPixels",{pixels:e},{numChannels:t});var A,s,u=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=u[0],c=u[1];if(a?A=e.getContext("2d").getImageData(0,0,l,c).data:r||n?A=e.data:(i||o)&&(Pa==null&&(Pa=document.createElement("canvas").getContext("2d")),Pa.canvas.width=l,Pa.canvas.height=c,Pa.drawImage(e,0,0,l,c),A=Pa.getImageData(0,0,l,c).data),t===4)s=new Int32Array(A);else{var d=l*c;s=new Int32Array(d*t);for(var f=0;f<d;f++)for(var h=0;h<t;++h)s[f*t+h]=A[4*f+h]}return Hy(s,[c,l,t],"int32")}}),d1=Object.freeze({toPixels:function(e,t){return ae(this,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E;return Ae(this,function(F){switch(F.label){case 0:if(n=S(e,"img","toPixels"),e instanceof tt||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=n.rank===2?1:n.shape[2])>4||a===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return A=F.sent(),s=n.min(),u=n.max(),[4,Promise.all([s.data(),u.data()])];case 2:if(l=F.sent(),c=l[0],d=l[1],f=c[0],h=d[0],s.dispose(),u.dispose(),n.dtype==="float32"){if(f<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+h+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+h+"].")}for(p=n.dtype==="float32"?255:1,y=new Uint8ClampedArray(i*o*4),g=0;g<o*i;++g)v=void 0,w=void 0,x=void 0,B=void 0,a===1?(v=A[g]*p,w=A[g]*p,x=A[g]*p,B=255):a===3?(v=A[3*g]*p,w=A[3*g+1]*p,x=A[3*g+2]*p,B=255):a===4&&(v=A[4*g]*p,w=A[4*g+1]*p,x=A[4*g+2]*p,B=A[4*g+3]*p),y[(C=4*g)+0]=Math.round(v),y[C+1]=Math.round(w),y[C+2]=Math.round(x),y[C+3]=Math.round(B);return t!=null&&(t.width=i,t.height=o,b=t.getContext("2d"),E=new ImageData(y,i,o),b.putImageData(E,0,0)),n!==e&&n.dispose(),[2,y]}})})},fromPixels:PW}),LW=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,n){return new t(n)},e}(),HW=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function Sa(e){U(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),U(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),U(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),HW.register(e)}var Ua=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Lr(t,e),t.prototype.minimize=function(n,r,o){r===void 0&&(r=!1);var i=this.computeGradients(n,o),a=i.value,A=i.grads;if(o!=null){var s=o.map(function(u){return{name:u.name,tensor:A[u.name]}});this.applyGradients(s)}else this.applyGradients(A);return Un(A),r?a:(a.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(n,r){return Yj(n,r)},t.prototype.dispose=function(){this.iterations_!=null&&Un(this.iterations_)},t.prototype.saveIterations=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:q(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(n){return ae(this,void 0,void 0,function(){var r;return Ae(this,function(o){switch(o.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=o.sent()[0],[2,n.slice(1)]}})})},t}(LW);Object.defineProperty(Ua,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var OW=function(e){function t(n,r,o){o===void 0&&(o=null);var i=e.call(this)||this;return i.learningRate=n,i.rho=r,i.epsilon=o,i.accumulatedGrads=[],i.accumulatedUpdates=[],o==null&&(i.epsilon=D.backend.epsilon()),i}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,i){var a=D.registeredVariables[o];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:o+"/accum_grad",variable:ne(function(){return Se(a).variable(!1)})}),r.accumulatedUpdates[i]==null&&(r.accumulatedUpdates[i]={originalName:o+"/accum_var",variable:ne(function(){return Se(a).variable(!1)})});var A=Array.isArray(n)?n[i].tensor:n[o];if(A!=null){var s=r.accumulatedGrads[i].variable,u=r.accumulatedUpdates[i].variable;ne(function(){var l=s.mul(r.rho).add(A.square().mul(1-r.rho)),c=u.add(r.epsilon).sqrt().div(s.add(r.epsilon).sqrt()).mul(A),d=u.mul(r.rho).add(c.square().mul(1-r.rho));s.assign(l),u.assign(d);var f=c.mul(-r.learningRate).add(a);a.assign(f)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(Un(this.accumulatedGrads.map(function(n){return n.variable})),Un(this.accumulatedUpdates.map(function(n){return n.variable})))},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){var n;return Ae(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){var r;return Ae(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},t.className="Adadelta",t}(Ua);Sa(OW);var jW=function(e){function t(n,r){r===void 0&&(r=.1);var o=e.call(this)||this;return o.learningRate=n,o.initialAccumulatorValue=r,o.accumulatedGrads=[],o}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,i){var a=D.registeredVariables[o];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:o+"/accumulator",variable:ne(function(){return uo(a.shape,r.initialAccumulatorValue).variable(!1)})});var A=Array.isArray(n)?n[i].tensor:n[o];if(A!=null){var s=r.accumulatedGrads[i].variable;ne(function(){var u=s.add(A.square());s.assign(u);var l=A.div(u.add(D.backend.epsilon()).sqrt()).mul(-r.learningRate).add(a);a.assign(l)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&Un(this.accumulatedGrads.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},t.className="Adagrad",t}(Ua);Sa(jW);var VW=function(e){function t(n,r,o,i){i===void 0&&(i=null);var a=e.call(this)||this;return a.learningRate=n,a.beta1=r,a.beta2=o,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],ne(function(){a.accBeta1=q(r).variable(),a.accBeta2=q(o).variable()}),i==null&&(a.epsilon=D.backend.epsilon()),a}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);ne(function(){var i=Tt(1,r.accBeta1),a=Tt(1,r.accBeta2);o.forEach(function(A,s){var u=D.registeredVariables[A];r.accumulatedFirstMoment[s]==null&&(r.accumulatedFirstMoment[s]={originalName:A+"/m",variable:ne(function(){return Se(u).variable(!1)})}),r.accumulatedSecondMoment[s]==null&&(r.accumulatedSecondMoment[s]={originalName:A+"/v",variable:ne(function(){return Se(u).variable(!1)})});var l=Array.isArray(n)?n[s].tensor:n[A];if(l!=null){var c=r.accumulatedFirstMoment[s].variable,d=r.accumulatedSecondMoment[s].variable,f=c.mul(r.beta1).add(l.mul(1-r.beta1)),h=d.mul(r.beta2).add(l.square().mul(1-r.beta2)),p=f.div(i),y=h.div(a);c.assign(f),d.assign(h);var g=p.div(y.sqrt().add(r.epsilon)).mul(-r.learningRate).add(u);u.assign(g)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Un(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&Un(this.accumulatedSecondMoment.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){var n;return Ae(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){var r,o=this;return Ae(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(n)];case 1:return n=i.sent(),ne(function(){o.accBeta1.assign(Jd(o.beta1,o.iterations_+1)),o.accBeta2.assign(Jd(o.beta2,o.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},t.className="Adam",t}(Ua);Sa(VW);var KW=function(e){function t(n,r,o,i,a){i===void 0&&(i=null),a===void 0&&(a=0);var A=e.call(this)||this;return A.learningRate=n,A.beta1=r,A.beta2=o,A.epsilon=i,A.decay=a,A.accumulatedFirstMoment=[],A.accumulatedWeightedInfNorm=[],ne(function(){A.iteration=q(0).variable(),A.accBeta1=q(r).variable()}),i==null&&(A.epsilon=D.backend.epsilon()),A}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);ne(function(){var i=Tt(1,r.accBeta1),a=Tr(-r.learningRate,r.iteration.mul(r.decay).add(1));o.forEach(function(A,s){var u=D.registeredVariables[A];r.accumulatedFirstMoment[s]==null&&(r.accumulatedFirstMoment[s]={originalName:A+"/m",variable:Se(u).variable(!1)}),r.accumulatedWeightedInfNorm[s]==null&&(r.accumulatedWeightedInfNorm[s]={originalName:A+"/v",variable:Se(u).variable(!1)});var l=Array.isArray(n)?n[s].tensor:n[A];if(l!=null){var c=r.accumulatedFirstMoment[s].variable,d=r.accumulatedWeightedInfNorm[s].variable,f=c.mul(r.beta1).add(l.mul(1-r.beta1)),h=d.mul(r.beta2),p=l.abs(),y=h.maximum(p);c.assign(f),d.assign(y);var g=a.div(i).mul(f.div(y.add(r.epsilon))).add(u);u.assign(g)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Un(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&Un(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},t.className="Adamax",t}(Ua);Sa(KW);var r4=function(e){function t(n){var r=e.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,i){var a=Array.isArray(n)?n[i].tensor:n[o];if(a!=null){var A=D.registeredVariables[o];ne(function(){var s=r.c.mul(a).add(A);A.assign(s)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=lj(q(-n))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(n,r){return new n(r.learningRate)},t.className="SGD",t}(Ua);Sa(r4);var WW=function(e){function t(n,r,o){o===void 0&&(o=!1);var i=e.call(this,n)||this;return i.learningRate=n,i.momentum=r,i.useNesterov=o,i.accumulations=[],i.m=q(i.momentum),i}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,i){var a=D.registeredVariables[o];r.accumulations[i]==null&&(r.accumulations[i]={originalName:o+"/momentum",variable:ne(function(){return Se(a).variable(!1)})});var A=r.accumulations[i].variable,s=Array.isArray(n)?n[i].tensor:n[o];s!=null&&ne(function(){var u,l=r.m.mul(A).add(s);u=r.useNesterov?r.c.mul(s.add(l.mul(r.m))).add(a):r.c.mul(l).add(a),A.assign(l),a.assign(u)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&Un(this.accumulations.map(function(n){return n.variable}))},t.prototype.setMomentum=function(n){this.momentum=n},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){return Ae(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){return Ae(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},t.className="Momentum",t}(r4);Sa(WW);var GW=function(e){function t(n,r,o,i,a){r===void 0&&(r=.9),o===void 0&&(o=0),i===void 0&&(i=null),a===void 0&&(a=!1);var A=e.call(this)||this;if(A.learningRate=n,A.decay=r,A.momentum=o,A.epsilon=i,A.accumulatedMeanSquares=[],A.accumulatedMoments=[],A.accumulatedMeanGrads=[],A.centered=a,i==null&&(A.epsilon=D.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return A}return Lr(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,i){var a=D.registeredVariables[o];r.accumulatedMeanSquares[i]==null&&(r.accumulatedMeanSquares[i]={originalName:o+"/rms",variable:ne(function(){return Se(a).variable(!1)})}),r.accumulatedMoments[i]==null&&(r.accumulatedMoments[i]={originalName:o+"/momentum",variable:ne(function(){return Se(a).variable(!1)})}),r.accumulatedMeanGrads[i]==null&&r.centered&&(r.accumulatedMeanGrads[i]={originalName:o+"/mg",variable:ne(function(){return Se(a).variable(!1)})});var A=Array.isArray(n)?n[i].tensor:n[o];if(A!=null){var s=r.accumulatedMeanSquares[i].variable,u=r.accumulatedMoments[i].variable;ne(function(){var l=s.mul(r.decay).add(A.square().mul(1-r.decay));if(r.centered){var c=r.accumulatedMeanGrads[i].variable,d=c.mul(r.decay).add(A.mul(1-r.decay)),f=u.mul(r.momentum).add(A.mul(r.learningRate).div(l.sub(d.square().add(r.epsilon)).sqrt()));s.assign(l),c.assign(d),u.assign(f);var h=a.sub(f);a.assign(h)}else{var p=s.mul(r.decay).add(A.square().mul(1-r.decay));f=u.mul(r.momentum).add(A.mul(r.learningRate).div(p.add(r.epsilon).sqrt())),s.assign(p),u.assign(f),h=a.sub(f),a.assign(h)}})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&Un(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&Un(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&Un(this.accumulatedMoments.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return ae(this,void 0,void 0,function(){var n;return Ae(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},t.prototype.setWeights=function(n){return ae(this,void 0,void 0,function(){var r;return Ae(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},t.className="RMSProp",t}(Ua);Sa(GW);tt.prototype.squaredDifference=function(e){return vU(this,e)},K=vW;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yv=function(e,t){return yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},yv(e,t)};function ye(e,t){yv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var on=function(){return on=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},on.apply(this,arguments)};function ce(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function A(l){try{u(r.next(l))}catch(c){a(c)}}function s(l){try{u(r.throw(l))}catch(c){a(c)}}function u(l){l.done?i(l.value):o(l.value).then(A,s)}u((r=r.apply(e,t||[])).next())})}function de(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(u){return function(l){return s([u,l])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function tu(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,A=i.length;a<A;a++,o++)r[o]=i[a];return r}var QA=function(){function e(t,n){if(!ca(t)||!ca(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:n}));this._width=t,this._height=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function Uh(e,t){return e instanceof tt&&e.shape.length===t}function zW(e){return Uh(e,2)}function Qh(e){return Uh(e,3)}function Ei(e){return Uh(e,4)}function $W(e){return e%1!==0}function NC(e){return e%2===0}function XW(e,t){t===void 0&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function MC(e){return e&&e.width&&e.height}function YW(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new QA(Math.round(n*o),Math.round(r*o))}function f1(e){return e.reduce(function(t,n){return t.add(n)},new Re(0,0)).div(new Re(e.length,e.length))}function Pu(e,t,n){return Array(e).fill(0).map(function(r,o){return t+o*n})}function ca(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function PC(e){return ca(e)&&0<=e&&e<=1}var Re=function(){function e(t,n){this._x=t,this._y=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),_i=function(){function e(t,n){n===void 0&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(ca),i=[r.x,r.y,r.width,r.height].every(ca);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],A=a[0],s=a[1],u=a[2],l=a[3];e.assertIsValidBox({x:A,y:s,width:u,height:l},"Box.constructor",n),this._x=A,this._y=s,this._width=u,this._height=l}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(ca)},e.assertIsValidBox=function(t,n,r){if(r===void 0&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Re(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Re(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Re(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Re(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(a){return Math.round(a)}),n=t[0],r=t[1],o=t[2],i=t[3];return new e({x:n,y:r,width:o,height:i})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(a){return Math.floor(a)}),n=t[0],r=t[1],o=t[2],i=t[3];return new e({x:n,y:r,width:o,height:i})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,i=t.height,a=Math.abs(o-i);return o<i&&(n-=a/2,o+=a),i<o&&(r-=a/2,i+=a),new e({x:n,y:r,width:o,height:i})},e.prototype.rescale=function(t){var n=MC(t)?t.width:t,r=MC(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n],o=r[0],i=r[1],a=r[2],A=r[3];return new e({x:o,y:i,width:a,height:A})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,i=r.y,a=r.right,A=r.bottom,s=Math.max(o,0),u=Math.max(i,0),l=a-s,c=A-u,d=Math.min(l,t-s),f=Math.min(c,n-u);return new e({x:s,y:u,width:d,height:f}).floor()},e.prototype.shift=function(t,n){var r=this,o=r.width,i=r.height,a=this.x+t,A=this.y+n;return new e({x:a,y:A,width:o,height:i})},e.prototype.padAtBorders=function(t,n){var r=this.width+1,o=this.height+1,i=1,a=1,A=r,s=o,u=this.left,l=this.top,c=this.right,d=this.bottom;return c>n&&(A=-c+n+r,c=n),d>t&&(s=-d+t+o,d=t),u<1&&(s=2-u,u=1),l<1&&(s=2-l,l=1),{dy:a,edy:s,dx:i,edx:A,y:l,ey:d,x:u,ex:c,w:r,h:o}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Th=function(e){ye(t,e);function t(n,r,o,i,a){return a===void 0&&(a=!1),e.call(this,{left:n,top:r,right:o,bottom:i},a)||this}return t}(_i),o4=function(){function e(t,n,r,o,i){this._imageDims=new QA(i.width,i.height),this._score=t,this._classScore=n,this._className=r,this._box=new _i(o).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new _i(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),po=function(e){ye(t,e);function t(n,r,o){return e.call(this,n,n,"",r,o)||this}return t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r),i=o.score,a=o.relativeBox,A=o.imageDims;return new t(i,a,A)},t}(o4);function qW(e,t,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),o=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=r*o;return n?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function JW(e){var t=e.map(function(A){return A.x}),n=e.map(function(A){return A.y}),r=t.reduce(function(A,s){return s<A?s:A},1/0),o=n.reduce(function(A,s){return s<A?s:A},1/0),i=t.reduce(function(A,s){return A<s?s:A},0),a=n.reduce(function(A,s){return A<s?s:A},0);return new Th(r,o,i,a)}function Lu(e,t,n,r){r===void 0&&(r=!0);for(var o=t.map(function(A,s){return{score:A,boxIndex:s}}).sort(function(A,s){return A.score-s.score}).map(function(A){return A.boxIndex}),i=[],a=function(){var A=o.pop();i.push(A);for(var s=o,u=[],l=0;l<s.length;l++){var c=s[l],d=e[A],f=e[c];u.push(qW(d,f,r))}o=o.filter(function(h,p){return u[p]<=n})};o.length>0;)a();return i}function cl(e,t){return ne(function(){var n=t[0],r=t[1],o=t[2],i=uo(tu(e.shape.slice(0,3),[1]),n),a=uo(tu(e.shape.slice(0,3),[1]),r),A=uo(tu(e.shape.slice(0,3),[1]),o),s=St([i,a,A],3);return Tt(e,s)})}function ZW(e,t){return t===void 0&&(t=!1),ne(function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var i=Math.abs(r-o),a=Math.round(i*(t?.5:1)),A=r>o?2:1,s=function(f){var h=e.shape.slice();return h[A]=f,uo(h,0)},u=s(a),l=i-u.shape[A],c=t&&l?s(l):null,d=[c,e,u].filter(function(f){return!!f}).map(function(f){return f.toFloat()});return St(d,A)})}function ug(e){return 1/(1+Math.exp(-e))}var h1=function(e){ye(t,e);function t(n,r,o,i,a){return a===void 0&&(a=!1),e.call(this,{x:n,y:r,width:o,height:i},a)||this}return t}(_i),eG=.5,tG=.43,nG=.45,tf=function(){function e(t,n,r){r===void 0&&(r=new Re(0,0));var o=n.width,i=n.height;this._imgDims=new QA(o,i),this._shift=r,this._positions=t.map(function(a){return a.mul(new Re(o,i)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Re(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(n){return n.sub(t._shift).div(new Re(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new this.constructor(this.relativePositions,{width:t,height:n})},e.prototype.shiftBy=function(t,n){return new this.constructor(this.relativePositions,this._imgDims,new Re(t,n))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,n){if(n===void 0&&(n={}),t){var r=t instanceof po?t.box.floor():new _i(t);return this.shiftBy(r.x,r.y).align(null,n)}var o=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),i=o.useDlibAlignment,a=o.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),n=t[0],r=t[1],o=t[2],i=function(c){return o.sub(c).magnitude()},a=(i(n)+i(r))/2,A=Math.floor(a/nG),s=f1(t),u=Math.floor(Math.max(0,s.x-eG*A)),l=Math.floor(Math.max(0,s.y-tG*A));return new h1(u,l,Math.min(A,this.imageWidth+u),Math.min(A,this.imageHeight+l))},e.prototype.alignMinBbox=function(t){var n=JW(this.positions);return n.pad(n.width*t,n.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),rG=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],f1([n[3],n[4]])]},t}(tf),oG=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(f1)},t}(tf),LC=function(){function e(t,n){this._label=t,this._distance=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+XW(this.distance)+")":"")},e}(),HC=function(e){ye(t,e);function t(n,r){var o=e.call(this,n)||this;return o._label=r,o}return t.assertIsValidLabeledBox=function(n,r){if(_i.assertIsValidBox(n,r),!ca(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(_i),ec=function(){function e(t,n){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(r){return new Float32Array(r)});return new e(t.label,n)},e}();(function(e){ye(t,e);function t(n,r,o,i){var a=e.call(this,n,r)||this;return a._score=o,a._classScore=i,a}return t.assertIsValidPredictedBox=function(n,r){if(HC.assertIsValidLabeledBox(n,r),!PC(n.score)||!PC(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(HC);function iG(e){return e.detection instanceof po}function p1(e,t){var n={detection:t};return Object.assign({},e,n)}function i4(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function a4(e){var t="";if(!e)try{e=require("fs")}catch(r){t=r.toString()}var n=e?function(r){return new Promise(function(o,i){e.readFile(r,function(a,A){return a?i(a):o(A)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:n}}function A4(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},o=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=a4();return on({Canvas:e||function(){function a(){}return a}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function a(){}return a}(),Image:t||function(){function a(){}return a}(),ImageData:global.ImageData||function(){function a(){}return a}(),Video:global.HTMLVideoElement||function(){function a(){}return a}(),createCanvasElement:n,createImageElement:r,fetch:o},i)}function s4(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function u4(){return typeof global=="object"&&typeof require=="function"&&typeof iT<"u"&&typeof process<"u"&&!!process.version}var bt;function aG(){if(!bt)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return bt}function wv(e){bt=e}function g1(){s4()&&wv(i4()),u4()&&wv(A4())}function AG(e){if(bt||g1(),!bt)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=t===void 0?bt.Canvas:t,r=e.Image,o=r===void 0?bt.Image:r;bt.Canvas=n,bt.Image=o,bt.createCanvasElement=e.createCanvasElement||function(){return new n},bt.createImageElement=e.createImageElement||function(){return new o},bt.ImageData=e.ImageData||bt.ImageData,bt.Video=e.Video||bt.Video,bt.fetch=e.fetch||bt.fetch,bt.readFile=e.readFile||bt.readFile}var ln={getEnv:aG,setEnv:wv,initialize:g1,createBrowserEnv:i4,createFileSystem:a4,createNodejsEnv:A4,monkeyPatch:AG,isBrowser:s4,isNodejs:u4};g1();function l4(e){return!ln.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function wa(e){var t=ln.getEnv(),n=t.Canvas,r=t.CanvasRenderingContext2D;if(e instanceof r)return e;var o=l4(e);if(!(o instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=o.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var OC;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(OC||(OC={}));function c4(e){var t=ln.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function sG(e){return new Promise(function(t,n){if(e instanceof ln.getEnv().Canvas||c4(e))return t();function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",o),t(i))}function o(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",o),n(i))}e.addEventListener("load",r),e.addEventListener("error",o)})}function d4(e){var t=ln.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new QA(e.naturalWidth,e.naturalHeight):e instanceof r?new QA(e.videoWidth,e.videoHeight):new QA(e.width,e.height)}function kh(e){var t=e.width,n=e.height,r=ln.getEnv().createCanvasElement,o=r();return o.width=t,o.height=n,o}function m1(e,t){var n=ln.getEnv().ImageData;if(!(e instanceof n)&&!c4(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||d4(e),o=r.width,i=r.height,a=kh({width:o,height:i});return e instanceof n?wa(a).putImageData(e,0,0):wa(a).drawImage(e,0,0,o,i),a}function uG(e,t){return ce(this,void 0,void 0,function(){var n,r,o,i,a,A;return de(this,function(s){switch(s.label){case 0:return n=t||ln.getEnv().createCanvasElement(),r=e.shape.slice(Ei(e)?1:0),o=r[0],i=r[1],a=r[2],A=ne(function(){return e.as3D(o,i,a).toInt()}),[4,d1.toPixels(A,n)];case 1:return s.sent(),A.dispose(),[2,n]}})})}function jC(e){var t=ln.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}function lG(e,t,n){n===void 0&&(n=!1);var r=ln.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=d4(e),A=t/Math.max(a.height,a.width),s=A*a.width,u=A*a.height,l=kh({width:t,height:t}),c=e instanceof i?e:m1(e),d=Math.abs(s-u)/2,f=n&&s<u?d:0,h=n&&u<s?d:0;return wa(l).drawImage(c,f,h,s,u),l}var nf=function(){function e(t,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=n,this._batchSize=t.length,t.forEach(function(o,i){if(Qh(o)){r._imageTensors[i]=o,r._inputDimensions[i]=o.shape;return}if(Ei(o)){var a=o.shape[0];if(a!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+a+" passed, but not supported in input array");r._imageTensors[i]=o,r._inputDimensions[i]=o.shape.slice(1);return}var A=o instanceof ln.getEnv().Canvas?o:m1(o);r._canvases[i]=A,r._inputDimensions[i]=[A.height,A.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return Pu(this.batchSize,0,1).map(function(n,r){return t.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(t),r=this.getInputHeight(t);return YW({width:n,height:r},this.inputSize)},e.prototype.toBatchTensor=function(t,n){var r=this;return n===void 0&&(n=!0),this._inputSize=t,ne(function(){var o=Pu(r.batchSize,0,1).map(function(a){var A=r.getInput(a);if(A instanceof tt){var s=Ei(A)?A:A.expandDims();return s=ZW(s,n),(s.shape[1]!==t||s.shape[2]!==t)&&(s=a1.resizeBilinear(s,[t,t])),s.as3D(t,t,3)}if(A instanceof ln.getEnv().Canvas)return d1.fromPixels(lG(A,t,n));throw new Error("toBatchTensor - at batchIdx "+a+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+A)}),i=Gn(o.map(function(a){return a.toFloat()})).as4D(r.batchSize,t,t,3);return i})},e}();function Pt(e){return ce(this,void 0,void 0,function(){var t,n,r;return de(this,function(o){switch(o.label){case 0:if(e instanceof nf)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return n=function(i){return Array.isArray(e)?" at input index "+i+":":""},r=t.map(l4),r.forEach(function(i,a){if(!jC(i)&&!Qh(i)&&!Ei(i))throw typeof t[a]=="string"?new Error("toNetInput -"+n(a)+" string passed, but could not resolve HTMLElement for element id "+t[a]):new Error("toNetInput -"+n(a)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(Ei(i)){var A=i.shape[0];if(A!==1)throw new Error("toNetInput -"+n(a)+" tf.Tensor4D with batchSize "+A+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(i){return jC(i)&&sG(i)}))];case 1:return o.sent(),[2,new nf(r,Array.isArray(e))]}})})}function v1(e,t){return ce(this,void 0,void 0,function(){var n,r,o,i,a,A,s;return de(this,function(u){switch(u.label){case 0:return n=ln.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Pt(e)];case 1:if(o=u.sent(),o.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=o.getInput(0),i instanceof n?(a=i,[3,4]):[3,2];case 2:return[4,uG(i)];case 3:a=u.sent(),u.label=4;case 4:r=a,u.label=5;case 5:return A=wa(r),s=t.map(function(l){return l instanceof po?l.forSize(r.width,r.height).box.floor():l}).map(function(l){return l.clipAtImageBorders(r.width,r.height)}),[2,s.map(function(l){var c=l.x,d=l.y,f=l.width,h=l.height,p=kh({width:f,height:h});return wa(p).putImageData(A.getImageData(c,d,f,h),0,0),p})]}})})}function y1(e,t){return ce(this,void 0,void 0,function(){return de(this,function(n){if(!Qh(e)&&!Ei(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Ei(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,ne(function(){var r=e.shape.slice(Ei(e)?1:0),o=r[0],i=r[1],a=r[2],A=t.map(function(u){return u instanceof po?u.forSize(i,o).box:u}).map(function(u){return u.clipAtImageBorders(i,o)}),s=A.map(function(u){var l=u.x,c=u.y,d=u.width,f=u.height;return LU(e.as3D(o,i,a),[c,l,0],[f,d,a])});return s})]})})}function cG(e,t){return ce(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return n=ln.getEnv().fetch,[4,n(e,t)];case 1:if(r=o.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function dG(e){return ce(this,void 0,void 0,function(){return de(this,function(t){switch(t.label){case 0:return[4,cG(e)];case 1:return[2,t.sent().json()]}})})}function f4(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var o=e.split("/").filter(function(A){return A}),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return a=e.startsWith("/")?"/"+a:a,{modelBaseUri:a,manifestUri:a==="/"?"/"+i:a+"/"+i}}function fG(e,t){return ce(this,void 0,void 0,function(){var n,r,o,i;return de(this,function(a){switch(a.label){case 0:return n=f4(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,dG(r)];case 1:return i=a.sent(),[2,n4.loadWeights(i,o)]}})})}var Ko=function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var n=this.traversePropertyPath(t),r=n.obj,o=n.objProp;return r[o]},e.prototype.reassignParamFromPath=function(t,n){var r=this.traversePropertyPath(t),o=r.obj,i=r.objProp;o[i].dispose(),o[i]=n},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:t.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof KA})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof KA)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(n){var r=n.path,o=n.tensor;t.reassignParamFromPath(r,o.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(n){var r=n.path,o=n.tensor,i=Wt(o.dataSync());o.dispose(),t.reassignParamFromPath(r,i)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(n){if(t&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var n=t.tensor;return Array.from(n.dataSync())}).reduce(function(t,n){return t.concat(n)}))},e.prototype.load=function(t){return ce(this,void 0,void 0,function(){return de(this,function(n){switch(n.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return n.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return ce(this,void 0,void 0,function(){var n;return de(this,function(r){switch(r.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,fG(t,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},e.prototype.loadFromDisk=function(t){return ce(this,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l,c;return de(this,function(d){switch(d.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=ln.getEnv().readFile,r=f4(t,this.getDefaultModelName()),o=r.manifestUri,i=r.modelBaseUri,a=function(f){return Promise.all(f.map(function(h){return n(h).then(function(p){return p.buffer})}))},A=n4.weightsLoaderFactory(a),l=(u=JSON).parse,[4,n(o)];case 1:return s=l.apply(u,[d.sent().toString()]),[4,A(s,i)];case 2:return c=d.sent(),this.loadFromWeightMap(c),[2]}})})},e.prototype.loadFromWeightMap=function(t){var n=this.extractParamsFromWeigthMap(t),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},e.prototype.extractWeights=function(t){var n=this.extractParams(t),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=t.split("/").reduce(function(i,a){if(!i.nextObj.hasOwnProperty(a))throw new Error("traversePropertyPath - object does not have property "+a+", for path "+t);return{obj:i.nextObj,objProp:a,nextObj:i.nextObj[a]}},{nextObj:this.params}),r=n.obj,o=n.objProp;if(!r||!o||!(r[o]instanceof tt))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:r,objProp:o}},e}();function Vn(e,t,n){return ne(function(){var r=t1(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=be(r,t.bias),r})}function lg(e,t,n){return n===void 0&&(n=!1),ne(function(){var r=rt(n?be(Cr(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Vn(e,t.conv0,[2,2])),o=Vn(r,t.conv1,[1,1]),i=rt(be(r,o)),a=Vn(i,t.conv2,[1,1]);return rt(be(r,be(o,a)))})}function tc(e,t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),ne(function(){var o=rt(n?be(Cr(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Vn(e,t.conv0,r?[2,2]:[1,1])),i=Vn(o,t.conv1,[1,1]),a=rt(be(o,i)),A=Vn(a,t.conv2,[1,1]),s=rt(be(o,be(i,A))),u=Vn(s,t.conv3,[1,1]);return rt(be(o,be(i,be(A,u))))})}function Nr(e,t,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),ne(function(){var o=be(Cr(e,t.filters,[1,1],n),t.bias);return r?rt(o):o})}function Wo(e,t){Object.keys(e).forEach(function(n){t.some(function(r){return r.originalPath===n})||e[n].dispose()})}function _h(e,t){return function(n,r,o,i){var a=Bn(e(n*r*o*o),[o,o,n,r]),A=Ct(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:A}}}function w1(e,t){return function(n,r,o){var i=Ci(e(n*r),[n,r]),a=Ct(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:i,bias:a}}}var h4=function(){function e(t,n,r){this.depthwise_filter=t,this.pointwise_filter=n,this.bias=r}return e}();function x1(e,t){return function(n,r,o){var i=Bn(e(9*n),[3,3,n,1]),a=Bn(e(n*r),[1,1,n,r]),A=Ct(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new h4(i,a,A)}}function B1(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new h4(n,r,o)}}function ji(e,t){return function(n,r,o){var i=e[n];if(!Uh(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function Go(e){var t=e;function n(o){var i=t.slice(0,o);return t=t.slice(o),i}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function p4(e,t){var n=_h(e,t),r=x1(e,t);function o(a,A,s,u){u===void 0&&(u=!1);var l=u?n(a,A,3,s+"/conv0"):r(a,A,s+"/conv0"),c=r(A,A,s+"/conv1"),d=r(A,A,s+"/conv2");return{conv0:l,conv1:c,conv2:d}}function i(a,A,s,u){u===void 0&&(u=!1);var l=o(a,A,s,u),c=l.conv0,d=l.conv1,f=l.conv2,h=r(A,A,s+"/conv3");return{conv0:c,conv1:d,conv2:f,conv3:h}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:i}}function hG(e){var t=[],n=Go(e),r=n.extractWeights,o=n.getRemainingWeights,i=p4(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),A=i(32,64,"dense1"),s=i(64,128,"dense2"),u=i(128,256,"dense3");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:A,dense2:s,dense3:u}}}function g4(e){return function(t){var n=e(t+"/filters",4),r=e(t+"/bias",1);return{filters:n,bias:r}}}function m4(e,t){var n=ji(e,t),r=g4(n),o=B1(n);function i(A,s){s===void 0&&(s=!1);var u=s?r(A+"/conv0"):o(A+"/conv0"),l=o(A+"/conv1"),c=o(A+"/conv2");return{conv0:u,conv1:l,conv2:c}}function a(A,s){s===void 0&&(s=!1);var u=s?r(A+"/conv0"):o(A+"/conv0"),l=o(A+"/conv1"),c=o(A+"/conv2"),d=o(A+"/conv3");return{conv0:u,conv1:l,conv2:c,conv3:d}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:a}}function pG(e){var t=[],n=m4(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Wo(e,t),{params:r,paramMappings:t}}var v4=function(e){ye(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return ne(function(){var o=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],a=cl(o,i).div(q(255)),A=tc(a,r.dense0,!0);return A=tc(A,r.dense1),A=tc(A,r.dense2),A=tc(A,r.dense3),A=ul(A,[7,7],[2,2],"valid"),A})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(n){return pG(n)},t.prototype.extractParams=function(n){return hG(n)},t}(Ko);function to(e,t){return ne(function(){return be(Fh(e,t.weights),t.bias)})}function gG(e,t,n){var r=[],o=Go(e),i=o.extractWeights,a=o.getRemainingWeights,A=w1(i,r),s=A(t,n,"fc");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}function mG(e){var t=[],n=ji(e,t);function r(i){var a=n(i+"/weights",2),A=n(i+"/bias",1);return{weights:a,bias:A}}var o={fc:r("fc")};return Wo(e,t),{params:o,paramMappings:t}}function y4(e){var t={},n={};return Object.keys(e).forEach(function(r){var o=r.startsWith("fc")?n:t;o[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var w4=function(e){ye(t,e);function t(n,r){var o=e.call(this,n)||this;return o._faceFeatureExtractor=r,o}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return ne(function(){var i=n instanceof nf?r.faceFeatureExtractor.forwardInput(n):n;return to(i.as2D(i.shape[0],-1),o.fc)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,i=r.paramMappings;this._params=o,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return gG(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(n){var r=y4(n),o=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),mG(i)},t.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),o=this.getClassifierChannelsOut(),i=o*r+o,a=n.slice(0,n.length-i),A=n.slice(n.length-i);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(A)},t}(Ko),VC=["neutral","happy","sad","angry","fearful","disgusted","surprised"],vG=function(){function e(t){var n=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);VC.forEach(function(r,o){n[r]=t[o]})}return e.prototype.asSortedArray=function(){var t=this;return VC.map(function(n){return{expression:n,probability:t[n]}}).sort(function(n,r){return r.probability-n.probability})},e}(),yG=function(e){ye(t,e);function t(n){return n===void 0&&(n=new v4),e.call(this,"FaceExpressionNet",n)||this}return t.prototype.forwardInput=function(n){var r=this;return ne(function(){return jo(r.runNet(n))})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.predictExpressions=function(n){return ce(this,void 0,void 0,function(){var r,o,i,a,A=this;return de(this,function(s){switch(s.label){case 0:return[4,Pt(n)];case 1:return r=s.sent(),[4,this.forwardInput(r)];case 2:return o=s.sent(),[4,Promise.all(Ut(o).map(function(u){return ce(A,void 0,void 0,function(){var l;return de(this,function(c){switch(c.label){case 0:return[4,u.data()];case 1:return l=c.sent(),u.dispose(),[2,l]}})})}))];case 3:return i=s.sent(),o.dispose(),a=i.map(function(u){return new vG(u)}),[2,r.isBatchInput?a:a[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(w4);function x4(e,t){var n={expressions:t};return Object.assign({},e,n)}function wG(e){return iG(e)&&e.landmarks instanceof tf&&e.unshiftedLandmarks instanceof tf&&e.alignedRect instanceof po}function C1(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a=new po(e.detection.score,o.rescale(i.reverse()),i),A={landmarks:r,unshiftedLandmarks:t,alignedRect:a};return Object.assign({},e,A)}function xG(e,t){var n=_h(e,t),r=x1(e,t);function o(a,A,s){var u=r(a,A,s+"/separable_conv0"),l=r(A,A,s+"/separable_conv1"),c=n(a,A,1,s+"/expansion_conv");return{separable_conv0:u,separable_conv1:l,expansion_conv:c}}function i(a,A){var s=r(a,a,A+"/separable_conv0"),u=r(a,a,A+"/separable_conv1"),l=r(a,a,A+"/separable_conv2");return{separable_conv0:s,separable_conv1:u,separable_conv2:l}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:o,extractMainBlockParams:i}}function BG(e,t){var n=[],r=Go(e),o=r.extractWeights,i=r.getRemainingWeights,a=xG(o,n),A=a.extractConvParams,s=a.extractSeparableConvParams,u=a.extractReductionBlockParams,l=a.extractMainBlockParams,c=A(3,32,3,"entry_flow/conv_in"),d=u(32,64,"entry_flow/reduction_block_0"),f=u(64,128,"entry_flow/reduction_block_1"),h={conv_in:c,reduction_block_0:d,reduction_block_1:f},p={};Pu(t,0,1).forEach(function(w){p["main_block_"+w]=l(128,"middle_flow/main_block_"+w)});var y=u(128,256,"exit_flow/reduction_block"),g=s(256,512,"exit_flow/separable_conv"),v={reduction_block:y,separable_conv:g};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:h,middle_flow:p,exit_flow:v}}}function CG(e,t){var n=ji(e,t),r=g4(n),o=B1(n);function i(A){var s=o(A+"/separable_conv0"),u=o(A+"/separable_conv1"),l=r(A+"/expansion_conv");return{separable_conv0:s,separable_conv1:u,expansion_conv:l}}function a(A){var s=o(A+"/separable_conv0"),u=o(A+"/separable_conv1"),l=o(A+"/separable_conv2");return{separable_conv0:s,separable_conv1:u,separable_conv2:l}}return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:i,extractMainBlockParams:a}}function bG(e,t){var n=[],r=CG(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,A=r.extractMainBlockParams,s=o("entry_flow/conv_in"),u=a("entry_flow/reduction_block_0"),l=a("entry_flow/reduction_block_1"),c={conv_in:s,reduction_block_0:u,reduction_block_1:l},d={};Pu(t,0,1).forEach(function(y){d["main_block_"+y]=A("middle_flow/main_block_"+y)});var f=a("exit_flow/reduction_block"),h=i("exit_flow/separable_conv"),p={reduction_block:f,separable_conv:h};return Wo(e,n),{params:{entry_flow:c,middle_flow:d,exit_flow:p},paramMappings:n}}function B4(e,t,n){return be(Cr(e,t.filters,n,"same"),t.bias)}function cg(e,t,n){n===void 0&&(n=!0);var r=n?rt(e):e;return r=Vn(r,t.separable_conv0,[1,1]),r=Vn(rt(r),t.separable_conv1,[1,1]),r=Rt(r,[3,3],[2,2],"same"),r=be(r,B4(e,t.expansion_conv,[2,2])),r}function EG(e,t){var n=Vn(rt(e),t.separable_conv0,[1,1]);return n=Vn(rt(n),t.separable_conv1,[1,1]),n=Vn(rt(n),t.separable_conv2,[1,1]),n=be(n,e),n}var FG=function(e){ye(t,e);function t(n){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return t.prototype.forwardInput=function(n){var r=this,o=this.params;if(!o)throw new Error("TinyXception - load model before inference");return ne(function(){var i=n.toBatchTensor(112,!0),a=[122.782,117.001,104.298],A=cl(i,a).div(q(256)),s=rt(B4(A,o.entry_flow.conv_in,[2,2]));return s=cg(s,o.entry_flow.reduction_block_0,!1),s=cg(s,o.entry_flow.reduction_block_1),Pu(r._numMainBlocks,0,1).forEach(function(u){s=EG(s,o.middle_flow["main_block_"+u])}),s=cg(s,o.exit_flow.reduction_block),s=rt(Vn(s,o.exit_flow.separable_conv,[1,1])),s})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(n){return bG(n,this._numMainBlocks)},t.prototype.extractParams=function(n){return BG(n,this._numMainBlocks)},t}(Ko);function IG(e){var t=[],n=Go(e),r=n.extractWeights,o=n.getRemainingWeights,i=w1(r,t),a=i(512,1,"fc/age"),A=i(512,2,"fc/gender");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:A}}}}function SG(e){var t=[],n=ji(e,t);function r(i){var a=n(i+"/weights",2),A=n(i+"/bias",1);return{weights:a,bias:A}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Wo(e,t),{params:o,paramMappings:t}}var rf;(function(e){e.FEMALE="female",e.MALE="male"})(rf||(rf={}));var UG=function(e){ye(t,e);function t(n){n===void 0&&(n=new FG(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return ne(function(){var i=n instanceof nf?r.faceFeatureExtractor.forwardInput(n):n,a=ul(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),A=to(a,o.fc.age).as1D(),s=to(a,o.fc.gender);return{age:A,gender:s}})},t.prototype.forwardInput=function(n){var r=this;return ne(function(){var o=r.runNet(n),i=o.age,a=o.gender;return{age:i,gender:jo(a)}})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.predictAgeAndGender=function(n){return ce(this,void 0,void 0,function(){var r,o,i,a,A,s,u=this;return de(this,function(l){switch(l.label){case 0:return[4,Pt(n)];case 1:return r=l.sent(),[4,this.forwardInput(r)];case 2:return o=l.sent(),i=Ut(o.age),a=Ut(o.gender),A=i.map(function(c,d){return{ageTensor:c,genderTensor:a[d]}}),[4,Promise.all(A.map(function(c){var d=c.ageTensor,f=c.genderTensor;return ce(u,void 0,void 0,function(){var h,p,y,g,v;return de(this,function(w){switch(w.label){case 0:return[4,d.data()];case 1:return h=w.sent()[0],[4,f.data()];case 2:return p=w.sent()[0],y=p>.5,g=y?rf.MALE:rf.FEMALE,v=y?p:1-p,d.dispose(),f.dispose(),[2,{age:h,gender:g,genderProbability:v}]}})})}))];case 3:return s=l.sent(),o.age.dispose(),o.gender.dispose(),[2,r.isBatchInput?s:s[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,i=r.paramMappings;this._params=o,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return IG(n)},t.prototype.extractParamsFromWeigthMap=function(n){var r=y4(n),o=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),SG(i)},t.prototype.extractParams=function(n){var r=1539,o=n.slice(0,n.length-r),i=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(Ko),C4=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(n,r,o){var i=o.map(function(A){var s=A.width,u=A.height,l=r/Math.max(u,s);return{width:s*l,height:u*l}}),a=i.length;return ne(function(){var A=function(d,f){return Gn([uo([68],d),uo([68],f)],1).as2D(1,136).as1D()},s=function(d,f){var h=i[d],p=h.width,y=h.height;return f(p,y)?Math.abs(p-y)/2:0},u=function(d){return s(d,function(f,h){return f<h})},l=function(d){return s(d,function(f,h){return h<f})},c=n.mul(uo([a,136],r)).sub(Gn(Array.from(Array(a),function(d,f){return A(u(f),l(f))}))).div(Gn(Array.from(Array(a),function(d,f){return A(i[f].width,i[f].height)})));return c})},t.prototype.forwardInput=function(n){var r=this;return ne(function(){var o=r.runNet(n);return r.postProcess(o,n.inputSize,n.inputDimensions.map(function(i){var a=i[0],A=i[1];return{height:a,width:A}}))})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.detectLandmarks=function(n){return ce(this,void 0,void 0,function(){var r,o,i,a=this;return de(this,function(A){switch(A.label){case 0:return[4,Pt(n)];case 1:return r=A.sent(),o=ne(function(){return Ut(a.forwardInput(r))}),[4,Promise.all(o.map(function(s,u){return ce(a,void 0,void 0,function(){var l,c,d,f,h;return de(this,function(p){switch(p.label){case 0:return d=(c=Array).from,[4,s.data()];case 1:return l=d.apply(c,[p.sent()]),f=l.filter(function(y,g){return NC(g)}),h=l.filter(function(y,g){return!NC(g)}),[2,new oG(Array(68).fill(0).map(function(y,g){return new Re(f[g],h[g])}),{height:r.getInputHeight(u),width:r.getInputWidth(u)})]}})})}))];case 2:return i=A.sent(),o.forEach(function(s){return s.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(w4),b4=function(e){ye(t,e);function t(n){return n===void 0&&(n=new v4),e.call(this,"FaceLandmark68Net",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(C4);function QG(e){var t=[],n=m4(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Wo(e,t),{params:r,paramMappings:t}}function TG(e){var t=[],n=Go(e),r=n.extractWeights,o=n.getRemainingWeights,i=p4(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),A=i(32,64,"dense1"),s=i(64,128,"dense2");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:A,dense2:s}}}var kG=function(e){ye(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return ne(function(){var o=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],a=cl(o,i).div(q(255)),A=lg(a,r.dense0,!0);return A=lg(A,r.dense1),A=lg(A,r.dense2),A=ul(A,[14,14],[2,2],"valid"),A})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(n){return QG(n)},t.prototype.extractParams=function(n){return TG(n)},t}(Ko),_G=function(e){ye(t,e);function t(n){return n===void 0&&(n=new kG),e.call(this,"FaceLandmark68TinyNet",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(C4);(function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(b4);function RG(e,t){return be(sn(e,t.weights),t.biases)}function b1(e,t,n,r,o){o===void 0&&(o="same");var i=t.conv,a=i.filters,A=i.bias,s=Cr(e,a,n,o);return s=be(s,A),s=RG(s,t.scale),r?rt(s):s}function DG(e,t){return b1(e,t,[1,1],!0)}function E4(e,t){return b1(e,t,[1,1],!1)}function F4(e,t){return b1(e,t,[2,2],!0,"valid")}function NG(e,t){function n(A,s,u){var l=e(A),c=l.length/(s*u*u);if($W(c))throw new Error("depth has to be an integer: "+c+", weights.length: "+l.length+", numFilters: "+s+", filterSize: "+u);return ne(function(){return ki(Bn(l,[s,c,u,u]),[2,3,1,0])})}function r(A,s,u,l){var c=n(A,s,u),d=Ct(e(s));return t.push({paramPath:l+"/filters"},{paramPath:l+"/bias"}),{filters:c,bias:d}}function o(A,s){var u=Ct(e(A)),l=Ct(e(A));return t.push({paramPath:s+"/weights"},{paramPath:s+"/biases"}),{weights:u,biases:l}}function i(A,s,u,l){var c=r(A,s,u,l+"/conv"),d=o(s,l+"/scale");return{conv:c,scale:d}}function a(A,s,u,l,c){c===void 0&&(c=!1);var d=i((c?.5:1)*A,s,u,l+"/conv1"),f=i(A,s,u,l+"/conv2");return{conv1:d,conv2:f}}return{extractConvLayerParams:i,extractResidualLayerParams:a}}function MG(e){var t=Go(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=NG(n,o),a=i.extractConvLayerParams,A=i.extractResidualLayerParams,s=a(4704,32,7,"conv32_down"),u=A(9216,32,3,"conv32_1"),l=A(9216,32,3,"conv32_2"),c=A(9216,32,3,"conv32_3"),d=A(36864,64,3,"conv64_down",!0),f=A(36864,64,3,"conv64_1"),h=A(36864,64,3,"conv64_2"),p=A(36864,64,3,"conv64_3"),y=A(147456,128,3,"conv128_down",!0),g=A(147456,128,3,"conv128_1"),v=A(147456,128,3,"conv128_2"),w=A(589824,256,3,"conv256_down",!0),x=A(589824,256,3,"conv256_1"),B=A(589824,256,3,"conv256_2"),C=A(589824,256,3,"conv256_down_out"),b=ne(function(){return ki(Ci(n(256*128),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var E={conv32_down:s,conv32_1:u,conv32_2:l,conv32_3:c,conv64_down:d,conv64_1:f,conv64_2:h,conv64_3:p,conv128_down:y,conv128_1:g,conv128_2:v,conv256_down:w,conv256_1:x,conv256_2:B,conv256_down_out:C,fc:b};return{params:E,paramMappings:o}}function PG(e,t){var n=ji(e,t);function r(a){var A=n(a+"/scale/weights",1),s=n(a+"/scale/biases",1);return{weights:A,biases:s}}function o(a){var A=n(a+"/conv/filters",4),s=n(a+"/conv/bias",1),u=r(a);return{conv:{filters:A,bias:s},scale:u}}function i(a){return{conv1:o(a+"/conv1"),conv2:o(a+"/conv2")}}return{extractConvLayerParams:o,extractResidualLayerParams:i}}function LG(e){var t=[],n=PG(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),A=o("conv32_2"),s=o("conv32_3"),u=o("conv64_down"),l=o("conv64_1"),c=o("conv64_2"),d=o("conv64_3"),f=o("conv128_down"),h=o("conv128_1"),p=o("conv128_2"),y=o("conv256_down"),g=o("conv256_1"),v=o("conv256_2"),w=o("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!zW(x))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var B={conv32_down:i,conv32_1:a,conv32_2:A,conv32_3:s,conv64_down:u,conv64_1:l,conv64_2:c,conv64_3:d,conv128_down:f,conv128_1:h,conv128_2:p,conv256_down:y,conv256_1:g,conv256_2:v,conv256_down_out:w,fc:x};return Wo(e,t),{params:B,paramMappings:t}}function Wr(e,t){var n=DG(e,t.conv1);return n=E4(n,t.conv2),n=be(n,e),n=rt(n),n}function nc(e,t){var n=F4(e,t.conv1);n=E4(n,t.conv2);var r=ul(e,2,2,"valid"),o=Xe(r.shape),i=r.shape[3]!==n.shape[3],a=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(a){var A=tu(n.shape);A[1]=1;var s=Xe(A);n=St([n,s],1);var u=tu(n.shape);u[2]=1;var l=Xe(u);n=St([n,l],2)}return r=i?St([r,o],3):r,n=be(r,n),n=rt(n),n}var HG=function(e){ye(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return ne(function(){var o=n.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],a=cl(o,i).div(q(256)),A=F4(a,r.conv32_down);A=Rt(A,3,2,"valid"),A=Wr(A,r.conv32_1),A=Wr(A,r.conv32_2),A=Wr(A,r.conv32_3),A=nc(A,r.conv64_down),A=Wr(A,r.conv64_1),A=Wr(A,r.conv64_2),A=Wr(A,r.conv64_3),A=nc(A,r.conv128_down),A=Wr(A,r.conv128_1),A=Wr(A,r.conv128_2),A=nc(A,r.conv256_down),A=Wr(A,r.conv256_1),A=Wr(A,r.conv256_2),A=nc(A,r.conv256_down_out);var s=A.mean([1,2]),u=Fh(s,r.fc);return u})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.computeFaceDescriptor=function(n){return ce(this,void 0,void 0,function(){var r,o,i,a=this;return de(this,function(A){switch(A.label){case 0:return[4,Pt(n)];case 1:return r=A.sent(),o=ne(function(){return Ut(a.forwardInput(r))}),[4,Promise.all(o.map(function(s){return s.data()}))];case 2:return i=A.sent(),o.forEach(function(s){return s.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(n){return LG(n)},t.prototype.extractParams=function(n){return MG(n)},t}(Ko);function I4(e,t){var n={descriptor:t};return Object.assign({},e,n)}function S4(e,t){var n={age:t};return Object.assign({},e,n)}function U4(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var Q4=function(){function e(t){var n=t===void 0?{}:t,r=n.minFaceSize,o=n.scaleFactor,i=n.maxNumScales,a=n.scoreThresholds,A=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=o||.709,this._maxNumScales=i||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=A,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(s){return typeof s!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(s){return typeof s!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function OG(e,t){function n(s,u){var l=Bn(e(9*s),[3,3,s,1]),c=Ct(e(s)),d=Ct(e(s)),f=Ct(e(s)),h=Ct(e(s));return t.push({paramPath:u+"/filters"},{paramPath:u+"/batch_norm_scale"},{paramPath:u+"/batch_norm_offset"},{paramPath:u+"/batch_norm_mean"},{paramPath:u+"/batch_norm_variance"}),{filters:l,batch_norm_scale:c,batch_norm_offset:d,batch_norm_mean:f,batch_norm_variance:h}}function r(s,u,l,c,d){var f=Bn(e(s*u*l*l),[l,l,s,u]),h=Ct(e(u));return t.push({paramPath:c+"/filters"},{paramPath:c+"/"+(d?"batch_norm_offset":"bias")}),{filters:f,bias:h}}function o(s,u,l,c){var d=r(s,u,l,c,!0),f=d.filters,h=d.bias;return{filters:f,batch_norm_offset:h}}function i(s,u,l){var c=n(s,l+"/depthwise_conv"),d=o(s,u,1,l+"/pointwise_conv");return{depthwise_conv:c,pointwise_conv:d}}function a(){var s=o(3,32,3,"mobilenetv1/conv_0"),u=i(32,64,"mobilenetv1/conv_1"),l=i(64,128,"mobilenetv1/conv_2"),c=i(128,128,"mobilenetv1/conv_3"),d=i(128,256,"mobilenetv1/conv_4"),f=i(256,256,"mobilenetv1/conv_5"),h=i(256,512,"mobilenetv1/conv_6"),p=i(512,512,"mobilenetv1/conv_7"),y=i(512,512,"mobilenetv1/conv_8"),g=i(512,512,"mobilenetv1/conv_9"),v=i(512,512,"mobilenetv1/conv_10"),w=i(512,512,"mobilenetv1/conv_11"),x=i(512,1024,"mobilenetv1/conv_12"),B=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:s,conv_1:u,conv_2:l,conv_3:c,conv_4:d,conv_5:f,conv_6:h,conv_7:p,conv_8:y,conv_9:g,conv_10:v,conv_11:w,conv_12:x,conv_13:B}}function A(){var s=o(1024,256,1,"prediction_layer/conv_0"),u=o(256,512,3,"prediction_layer/conv_1"),l=o(512,128,1,"prediction_layer/conv_2"),c=o(128,256,3,"prediction_layer/conv_3"),d=o(256,128,1,"prediction_layer/conv_4"),f=o(128,256,3,"prediction_layer/conv_5"),h=o(256,64,1,"prediction_layer/conv_6"),p=o(64,128,3,"prediction_layer/conv_7"),y=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),g=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),v=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),w=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),x=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),B=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),C=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),b=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),E=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),F=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),I=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),T=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),Q={box_encoding_predictor:y,class_predictor:g},N={box_encoding_predictor:v,class_predictor:w},M={box_encoding_predictor:x,class_predictor:B},O={box_encoding_predictor:C,class_predictor:b},L={box_encoding_predictor:E,class_predictor:F},j={box_encoding_predictor:I,class_predictor:T};return{conv_0:s,conv_1:u,conv_2:l,conv_3:c,conv_4:d,conv_5:f,conv_6:h,conv_7:p,box_predictor_0:Q,box_predictor_1:N,box_predictor_2:M,box_predictor_3:O,box_predictor_4:L,box_predictor_5:j}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:A}}function jG(e){var t=[],n=Go(e),r=n.extractWeights,o=n.getRemainingWeights,i=OG(r,t),a=i.extractMobilenetV1Params,A=i.extractPredictionLayerParams,s=a(),u=A(),l=Hy(r(5118*4),[1,5118,4]),c={extra_dim:l};if(t.push({paramPath:"output_layer/extra_dim"}),o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:s,prediction_layer:u,output_layer:c},paramMappings:t}}function VG(e,t){var n=ji(e,t);function r(u,l,c){var d=n(u+"/Conv2d_"+l+"_pointwise/weights",4,c+"/filters"),f=n(u+"/Conv2d_"+l+"_pointwise/convolution_bn_offset",1,c+"/batch_norm_offset");return{filters:d,batch_norm_offset:f}}function o(u){var l="mobilenetv1/conv_"+u,c="MobilenetV1/Conv2d_"+u+"_depthwise",d=l+"/depthwise_conv",f=l+"/pointwise_conv",h=n(c+"/depthwise_weights",4,d+"/filters"),p=n(c+"/BatchNorm/gamma",1,d+"/batch_norm_scale"),y=n(c+"/BatchNorm/beta",1,d+"/batch_norm_offset"),g=n(c+"/BatchNorm/moving_mean",1,d+"/batch_norm_mean"),v=n(c+"/BatchNorm/moving_variance",1,d+"/batch_norm_variance");return{depthwise_conv:{filters:h,batch_norm_scale:p,batch_norm_offset:y,batch_norm_mean:g,batch_norm_variance:v},pointwise_conv:r("MobilenetV1",u,f)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}}function a(u,l){var c=n(u+"/weights",4,l+"/filters"),d=n(u+"/biases",1,l+"/bias");return{filters:c,bias:d}}function A(u){var l=a("Prediction/BoxPredictor_"+u+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+u+"/box_encoding_predictor"),c=a("Prediction/BoxPredictor_"+u+"/ClassPredictor","prediction_layer/box_predictor_"+u+"/class_predictor");return{box_encoding_predictor:l,class_predictor:c}}function s(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:A(0),box_predictor_1:A(1),box_predictor_2:A(2),box_predictor_3:A(3),box_predictor_4:A(4),box_predictor_5:A(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:s}}function KG(e){var t=[],n=VG(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Qh(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return Wo(e,t),{params:a,paramMappings:t}}function $r(e,t,n){return ne(function(){var r=Cr(e,t.filters,n,"same");return r=be(r,t.batch_norm_offset),qy(r,0,6)})}var WG=.0010000000474974513;function GG(e,t,n){return ne(function(){var r=Eh(e,t.filters,n,"same");return r=bU(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,WG),qy(r,0,6)})}function zG(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function $G(e,t){return ne(function(){var n=null,r=$r(e,t.conv_0,[2,2]),o=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(o.forEach(function(i,a){var A=a+1,s=zG(A);r=GG(r,i.depthwise_conv,s),r=$r(r,i.pointwise_conv,[1,1]),A===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function XG(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),A=t.map(function(l,c){return{score:l,boxIndex:c}}).filter(function(l){return l.score>o}).sort(function(l,c){return c.score-l.score}),s=function(l){return l<=r?1:0},u=[];return A.forEach(function(l){if(!(u.length>=a)){for(var c=l.score,d=u.length-1;d>=0;--d){var f=YG(e,l.boxIndex,u[d]);if(f!==0&&(l.score*=s(f),l.score<=o))break}c===l.score&&u.push(l.boxIndex)}}),u}function YG(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),A=Math.max(r[t][1],r[t][3]),s=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),c=Math.max(r[n][1],r[n][3]),d=(a-o)*(A-i),f=(l-s)*(c-u);if(d<=0||f<=0)return 0;var h=Math.max(o,s),p=Math.max(i,u),y=Math.min(a,l),g=Math.min(A,c),v=Math.max(y-h,0)*Math.max(g-p,0);return v/(d+f-v)}function qG(e){var t=Ut(ki(e,[1,0])),n=[Tt(t[2],t[0]),Tt(t[3],t[1])],r=[be(t[0],Tr(n[0],q(2))),be(t[1],Tr(n[1],q(2)))];return{sizes:n,centers:r}}function JG(e,t){var n=qG(e),r=n.sizes,o=n.centers,i=Ut(ki(t,[1,0])),a=Tr(sn(fv(Tr(i[2],q(5))),r[0]),q(2)),A=be(sn(Tr(i[0],q(10)),r[0]),o[0]),s=Tr(sn(fv(Tr(i[3],q(5))),r[1]),q(2)),u=be(sn(Tr(i[1],q(10)),r[1]),o[1]);return ki(Gn([Tt(A,a),Tt(u,s),be(A,a),be(u,s)]),[1,0])}function ZG(e,t,n){return ne(function(){var r=e.shape[0],o=JG(_r(EA(n.extra_dim,[r,1,1]),[-1,4]),_r(e,[-1,4]));o=_r(o,[r,o.shape[0]/r,4]);var i=wU(lo(t,[0,0,1],[-1,-1,-1])),a=lo(i,[0,0,0],[-1,-1,1]);a=_r(a,[r,a.shape[1]]);var A=Ut(o),s=Ut(a);return{boxes:A,scores:s}})}function La(e,t){return ne(function(){var n=e.shape[0],r=_r(Nr(e,t.box_encoding_predictor),[n,-1,1,4]),o=_r(Nr(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:o}})}function ez(e,t,n){return ne(function(){var r=$r(e,n.conv_0,[1,1]),o=$r(r,n.conv_1,[2,2]),i=$r(o,n.conv_2,[1,1]),a=$r(i,n.conv_3,[2,2]),A=$r(a,n.conv_4,[1,1]),s=$r(A,n.conv_5,[2,2]),u=$r(s,n.conv_6,[1,1]),l=$r(u,n.conv_7,[2,2]),c=La(t,n.box_predictor_0),d=La(e,n.box_predictor_1),f=La(o,n.box_predictor_2),h=La(a,n.box_predictor_3),p=La(s,n.box_predictor_4),y=La(l,n.box_predictor_5),g=St([c.boxPredictionEncoding,d.boxPredictionEncoding,f.boxPredictionEncoding,h.boxPredictionEncoding,p.boxPredictionEncoding,y.boxPredictionEncoding],1),v=St([c.classPrediction,d.classPrediction,f.classPrediction,h.classPrediction,p.classPrediction,y.classPrediction],1);return{boxPredictions:g,classPredictions:v}})}var Rh=function(){function e(t){var n=t===void 0?{}:t,r=n.minConfidence,o=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=o||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),T4=function(e){ye(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return ne(function(){var o=n.toBatchTensor(512,!1).toFloat(),i=Tt(sn(o,q(.007843137718737125)),q(1)),a=$G(i,r.mobilenetv1),A=ez(a.out,a.conv11,r.prediction_layer),s=A.boxPredictions,u=A.classPredictions;return ZG(s,u,r.output_layer)})},t.prototype.forward=function(n){return ce(this,void 0,void 0,function(){var r;return de(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Pt(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),ce(this,void 0,void 0,function(){var o,i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E;return de(this,function(F){switch(F.label){case 0:return o=new Rh(r),i=o.maxResults,a=o.minConfidence,[4,Pt(n)];case 1:for(A=F.sent(),s=this.forwardInput(A),u=s.boxes,l=s.scores,c=u[0],d=l[0],f=1;f<u.length;f++)u[f].dispose(),l[f].dispose();return y=(p=Array).from,[4,d.data()];case 2:return h=y.apply(p,[F.sent()]),g=.5,v=XG(c,h,i,g,a),w=A.getReshapedInputDimensions(0),x=A.inputSize,B=x/w.width,C=x/w.height,b=c.arraySync(),E=v.map(function(I){var T=[Math.max(0,b[I][0]),Math.min(1,b[I][2])].map(function(j){return j*C}),Q=T[0],N=T[1],M=[Math.max(0,b[I][1]),Math.min(1,b[I][3])].map(function(j){return j*B}),O=M[0],L=M[1];return new po(h[I],new h1(O,Q,L-O,N-Q),{height:A.getInputHeight(0),width:A.getInputWidth(0)})}),c.dispose(),d.dispose(),[2,E]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(n){return KG(n)},t.prototype.extractParams=function(n){return jG(n)},t}(Ko);(function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(T4);var tz=.4,nz=[new Re(.738768,.874946),new Re(2.42204,2.65704),new Re(4.30971,7.04493),new Re(10.246,4.59428),new Re(12.6868,11.8741)],rz=[new Re(1.603231,2.094468),new Re(6.041143,7.080126),new Re(2.882459,3.518061),new Re(4.266906,5.178857),new Re(9.041765,10.66308)],oz=[117.001,114.697,97.404],iz="tiny_yolov2_model",az="tiny_yolov2_separable_conv_model",rc=function(e){return typeof e=="number"};function Az(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!rc(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return rc(t.x)&&rc(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(rc)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function E1(e){return ne(function(){var t=sn(e,q(.10000000149011612));return be(rt(Tt(e,t)),t)})}function $o(e,t){return ne(function(){var n=Fa(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Cr(n,t.conv.filters,[1,1],"valid"),n=Tt(n,t.bn.sub),n=sn(n,t.bn.truediv),n=be(n,t.conv.bias),E1(n)})}function Xo(e,t){return ne(function(){var n=Fa(e,[[0,0],[1,1],[1,1],[0,0]]);return n=t1(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=be(n,t.bias),E1(n)})}function sz(e,t){var n=_h(e,t);function r(a,A){var s=Ct(e(a)),u=Ct(e(a));return t.push({paramPath:A+"/sub"},{paramPath:A+"/truediv"}),{sub:s,truediv:u}}function o(a,A,s){var u=n(a,A,3,s+"/conv"),l=r(A,s+"/bn");return{conv:u,bn:l}}var i=x1(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:o,extractSeparableConvParams:i}}function uz(e,t,n,r){var o=Go(e),i=o.extractWeights,a=o.getRemainingWeights,A=[],s=sz(i,A),u=s.extractConvParams,l=s.extractConvWithBatchNormParams,c=s.extractSeparableConvParams,d;if(t.withSeparableConvs){var f=r[0],h=r[1],p=r[2],y=r[3],g=r[4],v=r[5],w=r[6],x=r[7],B=r[8],C=t.isFirstLayerConv2d?u(f,h,3,"conv0"):c(f,h,"conv0"),b=c(h,p,"conv1"),E=c(p,y,"conv2"),F=c(y,g,"conv3"),I=c(g,v,"conv4"),T=c(v,w,"conv5"),Q=x?c(w,x,"conv6"):void 0,N=B?c(x,B,"conv7"):void 0,M=u(B||x||w,5*n,1,"conv8");d={conv0:C,conv1:b,conv2:E,conv3:F,conv4:I,conv5:T,conv6:Q,conv7:N,conv8:M}}else{var f=r[0],h=r[1],p=r[2],y=r[3],g=r[4],v=r[5],w=r[6],x=r[7],B=r[8],C=l(f,h,"conv0"),b=l(h,p,"conv1"),E=l(p,y,"conv2"),F=l(y,g,"conv3"),I=l(g,v,"conv4"),T=l(v,w,"conv5"),Q=l(w,x,"conv6"),N=l(x,B,"conv7"),M=u(B,5*n,1,"conv8");d={conv0:C,conv1:b,conv2:E,conv3:F,conv4:I,conv5:T,conv6:Q,conv7:N,conv8:M}}if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:d,paramMappings:A}}function lz(e,t){var n=ji(e,t);function r(A){var s=n(A+"/sub",1),u=n(A+"/truediv",1);return{sub:s,truediv:u}}function o(A){var s=n(A+"/filters",4),u=n(A+"/bias",1);return{filters:s,bias:u}}function i(A){var s=o(A+"/conv"),u=r(A+"/bn");return{conv:s,bn:u}}var a=B1(n);return{extractConvParams:o,extractConvWithBatchNormParams:i,extractSeparableConvParams:a}}function cz(e,t){var n=[],r=lz(e,n),o=r.extractConvParams,i=r.extractConvWithBatchNormParams,a=r.extractSeparableConvParams,A;if(t.withSeparableConvs){var s=t.filterSizes&&t.filterSizes.length||9;A={conv0:t.isFirstLayerConv2d?o("conv0"):a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:s>7?a("conv6"):void 0,conv7:s>8?a("conv7"):void 0,conv8:o("conv8")}}else A={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:o("conv8")};return Wo(e,n),{params:A,paramMappings:n}}var KC;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(KC||(KC={}));var F1=function(){function e(t){var n=t===void 0?{}:t,r=n.inputSize,o=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=o||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),k4=function(e){ye(t,e);function t(n){var r=e.call(this,"TinyYolov2")||this;return Az(n),r._config=n,r}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(n,r){var o=$o(n,r.conv0);return o=Rt(o,[2,2],[2,2],"same"),o=$o(o,r.conv1),o=Rt(o,[2,2],[2,2],"same"),o=$o(o,r.conv2),o=Rt(o,[2,2],[2,2],"same"),o=$o(o,r.conv3),o=Rt(o,[2,2],[2,2],"same"),o=$o(o,r.conv4),o=Rt(o,[2,2],[2,2],"same"),o=$o(o,r.conv5),o=Rt(o,[2,2],[1,1],"same"),o=$o(o,r.conv6),o=$o(o,r.conv7),Nr(o,r.conv8,"valid",!1)},t.prototype.runMobilenet=function(n,r){var o=this.config.isFirstLayerConv2d?E1(Nr(n,r.conv0,"valid",!1)):Xo(n,r.conv0);return o=Rt(o,[2,2],[2,2],"same"),o=Xo(o,r.conv1),o=Rt(o,[2,2],[2,2],"same"),o=Xo(o,r.conv2),o=Rt(o,[2,2],[2,2],"same"),o=Xo(o,r.conv3),o=Rt(o,[2,2],[2,2],"same"),o=Xo(o,r.conv4),o=Rt(o,[2,2],[2,2],"same"),o=Xo(o,r.conv5),o=Rt(o,[2,2],[1,1],"same"),o=r.conv6?Xo(o,r.conv6):o,o=r.conv7?Xo(o,r.conv7):o,Nr(o,r.conv8,"valid",!1)},t.prototype.forwardInput=function(n,r){var o=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return ne(function(){var a=n.toBatchTensor(r,!1).toFloat();return a=o.config.meanRgb?cl(a,o.config.meanRgb):a,a=a.div(q(256)),o.config.withSeparableConvs?o.runMobilenet(a,i):o.runTinyYolov2(a,i)})},t.prototype.forward=function(n,r){return ce(this,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,Pt(n)];case 1:return[4,o.apply(this,[i.sent(),r])];case 2:return[2,i.sent()]}})})},t.prototype.detect=function(n,r){return r===void 0&&(r={}),ce(this,void 0,void 0,function(){var o,i,a,A,s,u,l,c,d,f,h,p,y,g,v=this;return de(this,function(w){switch(w.label){case 0:return o=new F1(r),i=o.inputSize,a=o.scoreThreshold,[4,Pt(n)];case 1:return A=w.sent(),[4,this.forwardInput(A,i)];case 2:return s=w.sent(),u=ne(function(){return Ut(s)[0].expandDims()}),l={width:A.getInputWidth(0),height:A.getInputHeight(0)},[4,this.extractBoxes(u,A.getReshapedInputDimensions(0),a)];case 3:return c=w.sent(),s.dispose(),u.dispose(),d=c.map(function(x){return x.box}),f=c.map(function(x){return x.score}),h=c.map(function(x){return x.classScore}),p=c.map(function(x){return v.config.classes[x.label]}),y=Lu(d.map(function(x){return x.rescale(i)}),f,this.config.iouThreshold,!0),g=y.map(function(x){return new o4(f[x],h[x],p[x],d[x],l)}),[2,g]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(n){return cz(n,this.config)},t.prototype.extractParams=function(n){var r=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,o=r?r.length:void 0;if(o!==7&&o!==8&&o!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+o+" filterSizes in config");return uz(n,this.config,this.boxEncodingSize,r)},t.prototype.extractBoxes=function(n,r,o){return ce(this,void 0,void 0,function(){var i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E,F,I,T,Q,N,M,O,L,j,R=this;return de(this,function(P){switch(P.label){case 0:return i=r.width,a=r.height,A=Math.max(i,a),s=A/i,u=A/a,l=n.shape[1],c=this.config.anchors.length,d=ne(function(){var H=n.reshape([l,l,c,R.boxEncodingSize]),W=H.slice([0,0,0,0],[l,l,c,4]),$=H.slice([0,0,0,4],[l,l,c,1]),Y=R.withClassScores?jo(H.slice([0,0,0,5],[l,l,c,R.config.classes.length]),3):q(0);return[W,$,Y]}),f=d[0],h=d[1],p=d[2],y=[],[4,h.array()];case 1:return g=P.sent(),[4,f.array()];case 2:v=P.sent(),w=0,P.label=3;case 3:if(!(w<l))return[3,12];x=0,P.label=4;case 4:if(!(x<l))return[3,11];B=0,P.label=5;case 5:return B<c?(C=ug(g[w][x][B][0]),!o||C>o?(b=(x+ug(v[w][x][B][0]))/l*s,E=(w+ug(v[w][x][B][1]))/l*u,F=Math.exp(v[w][x][B][2])*this.config.anchors[B].x/l*s,I=Math.exp(v[w][x][B][3])*this.config.anchors[B].y/l*u,T=b-F/2,Q=E-I/2,N={row:w,col:x,anchor:B},this.withClassScores?[4,this.extractPredictedClass(p,N)]:[3,7]):[3,9]):[3,10];case 6:return j=P.sent(),[3,8];case 7:j={classScore:1,label:0},P.label=8;case 8:M=j,O=M.classScore,L=M.label,y.push(on({box:new Th(T,Q,T+F,Q+I),score:C,classScore:C*O,label:L},N)),P.label=9;case 9:return B++,[3,5];case 10:return x++,[3,4];case 11:return w++,[3,3];case 12:return f.dispose(),h.dispose(),p.dispose(),[2,y]}})})},t.prototype.extractPredictedClass=function(n,r){return ce(this,void 0,void 0,function(){var o,i,a,A;return de(this,function(s){switch(s.label){case 0:return o=r.row,i=r.col,a=r.anchor,[4,n.array()];case 1:return A=s.sent(),[2,Array(this.config.classes.length).fill(0).map(function(u,l){return A[o][i][a][l]}).map(function(u,l){return{classScore:u,label:l}}).reduce(function(u,l){return u.classScore>l.classScore?u:l})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Ko),dz=function(e){ye(t,e);function t(n){n===void 0&&(n=!0);var r=this,o=Object.assign({},{withSeparableConvs:n,iouThreshold:tz,classes:["face"]},n?{anchors:rz,meanRgb:oz}:{anchors:nz,withClassScores:!0});return r=e.call(this,o)||this,r}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return ce(this,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return o=i.sent(),[2,o.map(function(a){return new po(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?az:iz},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(k4),_4=function(e){ye(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return t}(F1),dl=function(){function e(){}return e.prototype.then=function(t){return ce(this,void 0,void 0,function(){var n;return de(this,function(r){switch(r.label){case 0:return n=t,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return ce(this,void 0,void 0,function(){return de(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e}();function Dh(e,t,n,r,o){return o===void 0&&(o=function(i){var a=i.alignedRect;return a}),ce(this,void 0,void 0,function(){var i,a,A,s,u;return de(this,function(l){switch(l.label){case 0:return i=e.map(function(c){return wG(c)?o(c):c.detection}),A=r,A?[3,5]:t instanceof tt?[4,y1(t,i)]:[3,2];case 1:return s=l.sent(),[3,4];case 2:return[4,v1(t,i)];case 3:s=l.sent(),l.label=4;case 4:A=s,l.label=5;case 5:return a=A,[4,n(a)];case 6:return u=l.sent(),a.forEach(function(c){return c instanceof tt&&c.dispose()}),[2,u]}})})}function I1(e,t,n,r,o){return ce(this,void 0,void 0,function(){var i=this;return de(this,function(a){return[2,Dh([e],t,function(A){return ce(i,void 0,void 0,function(){return de(this,function(s){return[2,n(A[0])]})})},r,o)]})})}function fz(e){return ne(function(){return Gn(Ut(e,3).reverse(),3)})}var oc=2,of=12;function hz(e,t){var n=_h(e,t),r=w1(e,t);function o(u,l){var c=Ct(e(u));return t.push({paramPath:l}),c}function i(u,l,c){c===void 0&&(c=!1);var d=n(u[0],u[1],3,l+"/conv1"),f=o(u[1],l+"/prelu1_alpha"),h=n(u[1],u[2],3,l+"/conv2"),p=o(u[2],l+"/prelu2_alpha"),y=n(u[2],u[3],c?2:3,l+"/conv3"),g=o(u[3],l+"/prelu3_alpha");return{conv1:d,prelu1_alpha:f,conv2:h,prelu2_alpha:p,conv3:y,prelu3_alpha:g}}function a(){var u=i([3,10,16,32],"pnet"),l=n(32,2,1,"pnet/conv4_1"),c=n(32,4,1,"pnet/conv4_2");return on(on({},u),{conv4_1:l,conv4_2:c})}function A(){var u=i([3,28,48,64],"rnet",!0),l=r(576,128,"rnet/fc1"),c=o(128,"rnet/prelu4_alpha"),d=r(128,2,"rnet/fc2_1"),f=r(128,4,"rnet/fc2_2");return on(on({},u),{fc1:l,prelu4_alpha:c,fc2_1:d,fc2_2:f})}function s(){var u=i([3,32,64,64],"onet"),l=n(64,128,2,"onet/conv4"),c=o(128,"onet/prelu4_alpha"),d=r(1152,256,"onet/fc1"),f=o(256,"onet/prelu5_alpha"),h=r(256,2,"onet/fc2_1"),p=r(256,4,"onet/fc2_2"),y=r(256,10,"onet/fc2_3");return on(on({},u),{conv4:l,prelu4_alpha:c,fc1:d,prelu5_alpha:f,fc2_1:h,fc2_2:p,fc2_3:y})}return{extractPNetParams:a,extractRNetParams:A,extractONetParams:s}}function pz(e){var t=Go(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=hz(n,o),a=i.extractPNetParams,A=i.extractRNetParams,s=i.extractONetParams,u=a(),l=A(),c=s();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:u,rnet:l,onet:c},paramMappings:o}}function gz(e,t){var n=ji(e,t);function r(l){var c=n(l+"/weights",4,l+"/filters"),d=n(l+"/bias",1);return{filters:c,bias:d}}function o(l){var c=n(l+"/weights",2),d=n(l+"/bias",1);return{weights:c,bias:d}}function i(l){return n(l,1)}function a(l){var c=r(l+"/conv1"),d=i(l+"/prelu1_alpha"),f=r(l+"/conv2"),h=i(l+"/prelu2_alpha"),p=r(l+"/conv3"),y=i(l+"/prelu3_alpha");return{conv1:c,prelu1_alpha:d,conv2:f,prelu2_alpha:h,conv3:p,prelu3_alpha:y}}function A(){var l=a("pnet"),c=r("pnet/conv4_1"),d=r("pnet/conv4_2");return on(on({},l),{conv4_1:c,conv4_2:d})}function s(){var l=a("rnet"),c=o("rnet/fc1"),d=i("rnet/prelu4_alpha"),f=o("rnet/fc2_1"),h=o("rnet/fc2_2");return on(on({},l),{fc1:c,prelu4_alpha:d,fc2_1:f,fc2_2:h})}function u(){var l=a("onet"),c=r("onet/conv4"),d=i("onet/prelu4_alpha"),f=o("onet/fc1"),h=i("onet/prelu5_alpha"),p=o("onet/fc2_1"),y=o("onet/fc2_2"),g=o("onet/fc2_3");return on(on({},l),{conv4:c,prelu4_alpha:d,fc1:f,prelu5_alpha:h,fc2_1:p,fc2_2:y,fc2_3:g})}return{extractPNetParams:A,extractRNetParams:s,extractONetParams:u}}function mz(e){var t=[],n=gz(e,t),r=n.extractPNetParams,o=n.extractRNetParams,i=n.extractONetParams,a=r(),A=o(),s=i();return Wo(e,t),{params:{pnet:a,rnet:A,onet:s},paramMappings:t}}function xv(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}function vz(e,t,n){for(var r=n[0],o=n[1],i=of/e,a=[],A=Math.min(r,o)*i,s=0;A>=12;)a.push(i*Math.pow(t,s)),A=A*t,s+=1;return a}var S1=function(e){ye(t,e);function t(n,r,o,i){return e.call(this,{left:n,top:r,right:o,bottom:i},!0)||this}return t}(_i);function R4(e){return ne(function(){return sn(Tt(e,q(127.5)),q(.0078125))})}function TA(e,t){return ne(function(){return be(rt(e),sn(t,qd(rt(qd(e)))))})}function U1(e,t,n){return n===void 0&&(n=!1),ne(function(){var r=Nr(e,t.conv1,"valid");return r=TA(r,t.prelu1_alpha),r=Rt(r,n?[2,2]:[3,3],[2,2],"same"),r=Nr(r,t.conv2,"valid"),r=TA(r,t.prelu2_alpha),r=n?r:Rt(r,[3,3],[2,2],"valid"),r=Nr(r,t.conv3,"valid"),r=TA(r,t.prelu3_alpha),r})}function yz(e,t){return ne(function(){var n=U1(e,t,!0),r=Nr(n,t.conv4_1,"valid"),o=lr(Ih(r,3),3),i=jo(Tt(r,o),3),a=Nr(n,t.conv4_2,"valid");return{prob:i,regions:a}})}function wz(e,t){return ne(function(){var n=xv(t,e.shape.slice(1)),r=n.height,o=n.width,i=a1.resizeBilinear(e,[r,o]),a=R4(i);return ki(a,[0,2,1,3])})}function xz(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var A=0;A<e.shape[1];A++)i[a][A]>=r&&o.push(new Re(A,a));var s=o.map(function(u){var l=new Th(Math.round((u.y*oc+1)/n),Math.round((u.x*oc+1)/n),Math.round((u.y*oc+of)/n),Math.round((u.x*oc+of)/n)),c=i[u.y][u.x],d=t.arraySync(),f=new S1(d[u.y][u.x][0],d[u.y][u.x][1],d[u.y][u.x][2],d[u.y][u.x][3]);return{cell:l,score:c,region:f}});return s}function Bz(e,t,n,r,o){o.stage1=[];var i=t.map(function(d){return ne(function(){var f={scale:d},h=wz(e,d),p=Date.now(),y=yz(h,r),g=y.prob,v=y.regions;f.pnet=Date.now()-p;var w=Ut(Ut(g,3)[1])[0],x=Ut(v)[0];return{scoresTensor:w,regionsTensor:x,scale:d,statsForScale:f}})}),a=i.map(function(d){var f=d.scoresTensor,h=d.regionsTensor,p=d.scale,y=d.statsForScale,g=xz(f,h,p,n);if(f.dispose(),h.dispose(),!g.length)return o.stage1.push(y),[];var v=Date.now(),w=Lu(g.map(function(x){return x.cell}),g.map(function(x){return x.score}),.5);return y.nms=Date.now()-v,y.numBoxes=w.length,o.stage1.push(y),w.map(function(x){return g[x]})}),A=a.reduce(function(d,f){return d.concat(f)},[]),s=[],u=[];if(A.length>0){var l=Date.now(),c=Lu(A.map(function(d){return d.cell}),A.map(function(d){return d.score}),.7);o.stage1_nms=Date.now()-l,u=c.map(function(d){return A[d].score}),s=c.map(function(d){return A[d]}).map(function(d){var f=d.cell,h=d.region;return new Th(f.left+h.left*f.width,f.top+h.top*f.height,f.right+h.right*f.width,f.bottom+h.bottom*f.height).toSquare().round()})}return{boxes:s,scores:u}}function D4(e,t,n){var r=n.width,o=n.height;return ce(this,void 0,void 0,function(){var i,a,A,s=this;return de(this,function(u){switch(u.label){case 0:return i=wa(e),[4,Promise.all(t.map(function(l){return ce(s,void 0,void 0,function(){var c,d,f,h,p,y,g,v;return de(this,function(w){return c=l.padAtBorders(e.height,e.width),d=c.y,f=c.ey,h=c.x,p=c.ex,y=h-1,g=d-1,v=i.getImageData(y,g,p-y,f-g),[2,ln.isNodejs()?m1(v):createImageBitmap(v)]})})}))];case 1:return a=u.sent(),A=[],a.forEach(function(l){var c=kh({width:r,height:o}),d=wa(c);d.drawImage(l,0,0,r,o);for(var f=d.getImageData(0,0,r,o).data,h=[],p=0;p<f.length;p+=4)h.push(f[p+2]),h.push(f[p+1]),h.push(f[p]);A.push(h)}),[2,A.map(function(l){var c=ne(function(){var d=ki(Bn(l,[1,r,o,3]),[0,2,1,3]).toFloat();return R4(d)});return c})]}})})}function Cz(e,t){return ne(function(){var n=U1(e,t),r=_r(n,[n.shape[0],t.fc1.weights.shape[0]]),o=to(r,t.fc1),i=TA(o,t.prelu4_alpha),a=to(i,t.fc2_1),A=lr(Ih(a,1),1),s=jo(Tt(a,A),1),u=to(i,t.fc2_2),l=Ut(s,1)[1];return{scores:l,regions:u}})}function bz(e,t,n,r,o){return ce(this,void 0,void 0,function(){var i,a,A,s,u,l,c,d,f,h,p,y,g,v;return de(this,function(w){switch(w.label){case 0:return i=Date.now(),[4,D4(e,t,{width:24,height:24})];case 1:return a=w.sent(),o.stage2_extractImagePatches=Date.now()-i,i=Date.now(),A=a.map(function(x){var B=Cz(x,r);return x.dispose(),B}),o.stage2_rnet=Date.now()-i,s=A.length>1?St(A.map(function(x){return x.scores})):A[0].scores,c=(l=Array).from,[4,s.data()];case 2:return u=c.apply(l,[w.sent()]),s.dispose(),d=u.map(function(x,B){return{score:x,idx:B}}).filter(function(x){return x.score>n}).map(function(x){var B=x.idx;return B}),f=d.map(function(x){return t[x]}),h=d.map(function(x){return u[x]}),p=[],y=[],f.length>0&&(i=Date.now(),g=Lu(f,h,.7),o.stage2_nms=Date.now()-i,v=g.map(function(x){var B=A[d[x]].regions.arraySync();return new S1(B[0][0],B[0][1],B[0][2],B[0][3])}),y=g.map(function(x){return h[x]}),p=g.map(function(x,B){return f[x].calibrate(v[B])})),A.forEach(function(x){x.regions.dispose(),x.scores.dispose()}),[2,{boxes:p,scores:y}]}})})}function Ez(e,t){return ne(function(){var n=U1(e,t);n=Rt(n,[2,2],[2,2],"same"),n=Nr(n,t.conv4,"valid"),n=TA(n,t.prelu4_alpha);var r=_r(n,[n.shape[0],t.fc1.weights.shape[0]]),o=to(r,t.fc1),i=TA(o,t.prelu5_alpha),a=to(i,t.fc2_1),A=lr(Ih(a,1),1),s=jo(Tt(a,A),1),u=to(i,t.fc2_2),l=to(i,t.fc2_3),c=Ut(s,1)[1];return{scores:c,regions:u,points:l}})}function Fz(e,t,n,r,o){return ce(this,void 0,void 0,function(){var i,a,A,s,u,l,c,d,f,h,p,y,g,v,w;return de(this,function(x){switch(x.label){case 0:return i=Date.now(),[4,D4(e,t,{width:48,height:48})];case 1:return a=x.sent(),o.stage3_extractImagePatches=Date.now()-i,i=Date.now(),A=a.map(function(B){var C=Ez(B,r);return B.dispose(),C}),o.stage3_onet=Date.now()-i,s=A.length>1?St(A.map(function(B){return B.scores})):A[0].scores,c=(l=Array).from,[4,s.data()];case 2:return u=c.apply(l,[x.sent()]),s.dispose(),d=u.map(function(B,C){return{score:B,idx:C}}).filter(function(B){return B.score>n}).map(function(B){var C=B.idx;return C}),f=d.map(function(B){var C=A[B].regions.arraySync();return new S1(C[0][0],C[0][1],C[0][2],C[0][3])}),h=d.map(function(B,C){return t[B].calibrate(f[C])}),p=d.map(function(B){return u[B]}),y=[],g=[],v=[],h.length>0&&(i=Date.now(),w=Lu(h,p,.7,!1),o.stage3_nms=Date.now()-i,y=w.map(function(B){return h[B]}),g=w.map(function(B){return p[B]}),v=w.map(function(B,C){return Array(5).fill(0).map(function(b,E){var F=A[B].points.arraySync();return new Re(F[0][E]*(y[C].width+1)+y[C].left,F[0][E+5]*(y[C].height+1)+y[C].top)})})),A.forEach(function(B){B.regions.dispose(),B.scores.dispose(),B.points.dispose()}),[2,{boxes:y,scores:g,points:v}]}})})}var Iz=function(e){ye(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(n){return ce(this,void 0,void 0,function(){return de(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,n)]})})},t.prototype.loadFromDisk=function(n){return ce(this,void 0,void 0,function(){return de(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,n)]})})},t.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),ce(this,void 0,void 0,function(){var o,i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E;return de(this,function(F){switch(F.label){case 0:if(o=this.params,!o)throw new Error("Mtcnn - load model before inference");if(i=n.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},A=Date.now(),s=ne(function(){return fz(lr(d1.fromPixels(i)).toFloat())}),u=function(I){return s.dispose(),a.total=Date.now()-A,I},l=s.shape.slice(1),c=l[0],d=l[1],f=new Q4(r),h=f.minFaceSize,p=f.scaleFactor,y=f.maxNumScales,g=f.scoreThresholds,v=f.scaleSteps,w=(v||vz(h,p,[c,d])).filter(function(I){var T=xv(I,[c,d]);return Math.min(T.width,T.height)>of}).slice(0,y),a.scales=w,a.pyramid=w.map(function(I){return xv(I,[c,d])}),x=Date.now(),[4,Bz(s,w,g[0],o.pnet,a)];case 1:return B=F.sent(),a.total_stage1=Date.now()-x,B.boxes.length?(a.stage2_numInputBoxes=B.boxes.length,x=Date.now(),[4,bz(i,B.boxes,g[1],o.rnet,a)]):[2,u({results:[],stats:a})];case 2:return C=F.sent(),a.total_stage2=Date.now()-x,C.boxes.length?(a.stage3_numInputBoxes=C.boxes.length,x=Date.now(),[4,Fz(i,C.boxes,g[2],o.onet,a)]):[2,u({results:[],stats:a})];case 3:return b=F.sent(),a.total_stage3=Date.now()-x,E=b.boxes.map(function(I,T){return C1(p1({},new po(b.scores[T],new h1(I.left/d,I.top/c,I.width/d,I.height/c),{height:c,width:d})),new rG(b.points[T].map(function(Q){return Q.sub(new Re(I.left,I.top)).div(new Re(I.width,I.height))}),{width:I.width,height:I.height}))}),[2,u({results:E,stats:a})]}})})},t.prototype.forward=function(n,r){return r===void 0&&(r={}),ce(this,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,Pt(n)];case 1:return[4,o.apply(this,[i.sent(),r])];case 2:return[2,i.sent().results]}})})},t.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),ce(this,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,Pt(n)];case 1:return[2,o.apply(this,[i.sent(),r])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(n){return mz(n)},t.prototype.extractParams=function(n){return pz(n)},t}(Ko),Sz=.4,Uz=[new Re(1.603231,2.094468),new Re(6.041143,7.080126),new Re(2.882459,3.518061),new Re(4.266906,5.178857),new Re(9.041765,10.66308)],Qz=[117.001,114.697,97.404],Tz=function(e){ye(t,e);function t(){var n=this,r={withSeparableConvs:!0,iouThreshold:Sz,classes:["face"],anchors:Uz,meanRgb:Qz,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=e.call(this,r)||this,n}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return ce(this,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return o=i.sent(),[2,o.map(function(a){return new po(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(k4),En={ssdMobilenetv1:new T4,tinyFaceDetector:new Tz,tinyYolov2:new dz,mtcnn:new Iz,faceLandmark68Net:new b4,faceLandmark68TinyNet:new _G,faceRecognitionNet:new HG,faceExpressionNet:new yG,ageGenderNet:new UG},N4=function(e){ye(t,e);function t(n,r,o){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=o,i}return t}(dl),Q1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o=this;return de(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,Dh(n,this.input,function(a){return ce(o,void 0,void 0,function(){return de(this,function(A){switch(A.label){case 0:return[4,Promise.all(a.map(function(s){return En.faceExpressionNet.predictExpressions(s)}))];case 1:return[2,A.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(a,A){return x4(a,r[A])})]}})})},t.prototype.withAgeAndGender=function(){return new R1(this,this.input)},t}(N4),T1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,I1(n,this.input,function(i){return En.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return r=o.sent(),[2,x4(n,r)]}})})},t.prototype.withAgeAndGender=function(){return new D1(this,this.input)},t}(N4),k1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new N1(this,this.input)},t.prototype.withFaceDescriptors=function(){return new P1(this,this.input)},t}(Q1),_1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new M1(this,this.input)},t.prototype.withFaceDescriptor=function(){return new L1(this,this.input)},t}(T1),M4=function(e){ye(t,e);function t(n,r,o){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=o,i}return t}(dl),R1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o=this;return de(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,Dh(n,this.input,function(a){return ce(o,void 0,void 0,function(){return de(this,function(A){switch(A.label){case 0:return[4,Promise.all(a.map(function(s){return En.ageGenderNet.predictAgeAndGender(s)}))];case 1:return[2,A.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(a,A){var s=r[A],u=s.age,l=s.gender,c=s.genderProbability;return S4(U4(a,l,c),u)})]}})})},t.prototype.withFaceExpressions=function(){return new Q1(this,this.input)},t}(M4),D1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o,i,a;return de(this,function(A){switch(A.label){case 0:return[4,this.parentTask];case 1:return n=A.sent(),n?[4,I1(n,this.input,function(s){return En.ageGenderNet.predictAgeAndGender(s)},this.extractedFaces)]:[2];case 2:return r=A.sent(),o=r.age,i=r.gender,a=r.genderProbability,[2,S4(U4(n,i,a),o)]}})})},t.prototype.withFaceExpressions=function(){return new T1(this,this.input)},t}(M4),N1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new k1(this,this.input)},t.prototype.withFaceDescriptors=function(){return new P1(this,this.input)},t}(R1),M1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new _1(this,this.input)},t.prototype.withFaceDescriptor=function(){return new L1(this,this.input)},t}(D1),P4=function(e){ye(t,e);function t(n,r){var o=e.call(this)||this;return o.parentTask=n,o.input=r,o}return t}(dl),P1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),[4,Dh(n,this.input,function(i){return Promise.all(i.map(function(a){return En.faceRecognitionNet.computeFaceDescriptor(a)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=o.sent(),[2,r.map(function(i,a){return I4(n[a],i)})]}})})},t.prototype.withFaceExpressions=function(){return new k1(this,this.input)},t.prototype.withAgeAndGender=function(){return new N1(this,this.input)},t}(P4),L1=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,I1(n,this.input,function(i){return En.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=o.sent(),[2,I4(n,r)]}})})},t.prototype.withFaceExpressions=function(){return new _1(this,this.input)},t.prototype.withAgeAndGender=function(){return new M1(this,this.input)},t}(P4),L4=function(e){ye(t,e);function t(n,r,o){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.useTinyLandmarkNet=o,i}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?En.faceLandmark68TinyNet:En.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(dl),kz=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o,i,a,A=this;return de(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),r=n.map(function(u){return u.detection}),this.input instanceof tt?[4,y1(this.input,r)]:[3,3];case 2:return i=s.sent(),[3,5];case 3:return[4,v1(this.input,r)];case 4:i=s.sent(),s.label=5;case 5:return o=i,[4,Promise.all(o.map(function(u){return A.landmarkNet.detectLandmarks(u)}))];case 6:return a=s.sent(),o.forEach(function(u){return u instanceof tt&&u.dispose()}),[2,n.map(function(u,l){return C1(u,a[l])})]}})})},t.prototype.withFaceExpressions=function(){return new k1(this,this.input)},t.prototype.withAgeAndGender=function(){return new N1(this,this.input)},t.prototype.withFaceDescriptors=function(){return new P1(this,this.input)},t}(L4),_z=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o,i,a;return de(this,function(A){switch(A.label){case 0:return[4,this.parentTask];case 1:return n=A.sent(),n?(r=n.detection,this.input instanceof tt?[4,y1(this.input,[r])]:[3,3]):[2];case 2:return i=A.sent(),[3,5];case 3:return[4,v1(this.input,[r])];case 4:i=A.sent(),A.label=5;case 5:return o=i,[4,this.landmarkNet.detectLandmarks(o[0])];case 6:return a=A.sent(),o.forEach(function(s){return s instanceof tt&&s.dispose()}),[2,C1(n,a)]}})})},t.prototype.withFaceExpressions=function(){return new _1(this,this.input)},t.prototype.withAgeAndGender=function(){return new M1(this,this.input)},t.prototype.withFaceDescriptor=function(){return new L1(this,this.input)},t}(L4),H4=function(e){ye(t,e);function t(n,r){r===void 0&&(r=new Rh);var o=e.call(this)||this;return o.input=n,o.options=r,o}return t}(dl),O4=function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r,o,i;return de(this,function(a){switch(a.label){case 0:return n=this,r=n.input,o=n.options,o instanceof Q4?[4,En.mtcnn.forward(r,o)]:[3,2];case 1:return[2,a.sent().map(function(A){return A.detection})];case 2:if(i=o instanceof _4?function(A){return En.tinyFaceDetector.locateFaces(A,o)}:o instanceof Rh?function(A){return En.ssdMobilenetv1.locateFaces(A,o)}:o instanceof F1?function(A){return En.tinyYolov2.locateFaces(A,o)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(r)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return ce(n,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return o=i.sent(),[2,r(o.map(function(a){return p1({},a)}))]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new kz(this.runAndExtendWithFaceDetections(),this.input,n)},t.prototype.withFaceExpressions=function(){return new Q1(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new R1(this.runAndExtendWithFaceDetections(),this.input)},t}(H4);(function(e){ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return ce(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return[4,new O4(this.input,this.options)];case 1:return n=o.sent(),r=n[0],n.forEach(function(i){i.score>r.score&&(r=i)}),[2,r]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return ce(n,void 0,void 0,function(){var o;return de(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return o=i.sent(),[2,r(o?p1({},o):void 0)]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new _z(this.runAndExtendWithFaceDetection(),this.input,n)},t.prototype.withFaceExpressions=function(){return new T1(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new D1(this.runAndExtendWithFaceDetection(),this.input)},t})(H4);function Rz(e,t){return t===void 0&&(t=new Rh),new O4(e,t)}function Dz(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(o,i){return o-r[i]}).reduce(function(o,i){return o+Math.pow(i,2)},0))}(function(){function e(t,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(t)?t:[t];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var o=1,i=function(){return"person "+o++};this._labeledDescriptors=r.map(function(a){if(a instanceof ec)return a;if(a instanceof Float32Array)return new ec(i(),[a]);if(a.descriptor&&a.descriptor instanceof Float32Array)return new ec(i(),[a.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,n){return n.map(function(r){return Dz(r,t)}).reduce(function(r,o){return r+o},0)/(n.length||1)},e.prototype.matchDescriptor=function(t){var n=this;return this.labeledDescriptors.map(function(r){var o=r.descriptors,i=r.label;return new LC(i,n.computeMeanDistance(t,o))}).reduce(function(r,o){return r.distance<o.distance?r:o})},e.prototype.findBestMatch=function(t){var n=this.matchDescriptor(t);return n.distance<this.distanceThreshold?n:new LC("unknown",n.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(r){return ec.fromJSON(r)});return new e(n,t.distanceThreshold)},e})();function Nz(e){return e?e instanceof HTMLImageElement?e.complete&&e.naturalWidth>0:e instanceof HTMLVideoElement?e.readyState>=2&&e.videoWidth>0:!1:!1}function Mz(e){const t=Object.values(e).reduce((n,r)=>n+r,0);return t===0?{angry:0,disgusted:0,fearful:0,happy:0,neutral:1,sad:0,surprised:0}:{angry:e.angry/t,disgusted:e.disgusted/t,fearful:e.fearful/t,happy:e.happy/t,neutral:e.neutral/t,sad:e.sad/t,surprised:e.surprised/t}}const j4=["/models","https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/","https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/weights/","https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model/"];let Bv=!1,$c=0,Bs=null;async function Pz(){const e=j4[$c];try{return await Promise.all([En.tinyFaceDetector.loadFromUri(e),En.faceExpressionNet.loadFromUri(e)]),!0}catch{return console.warn(`Failed to load from ${e}`),!1}}async function V4(){if(Bv)return!0;if(Bs)return Bs;Bs=(async()=>{for(;$c<j4.length;){try{if(await Pz())return Bv=!0,!0}catch{console.error(`Failed to load models from URL ${$c}`)}$c++}throw new Error("Failed to load models from all available sources")})();try{return await Bs}finally{Bs=null}}function Cv(){return Bv}async function K4(e){try{if(!Nz(e))throw new Error("Invalid image input");Cv()||await V4();const t=await Rz(e,new _4({inputSize:224})).withFaceExpressions();return!t||t.length===0?[]:t.map(n=>({expressions:Mz(n.expressions),detection:{box:{x:n.detection.box.x,y:n.detection.box.y,width:n.detection.box.width,height:n.detection.box.height}}}))}catch(t){throw console.error("Face detection error:",t),t}}function Lz(e,t,n){const[r,o]=k.useState([]),[i,a]=k.useState(!1),[A,s]=k.useState(null),u=k.useRef(),l=k.useRef(0),c=3,d=1e3;return k.useEffect(()=>{let f=!0;async function h(){var y;if(!(!((y=e.current)!=null&&y.video)||!t||!Cv())){try{const g=await K4(e.current.video);f&&t&&(o(g),n==null||n(g),s(null),l.current=0)}catch{if(l.current+=1,l.current>=c){s("Detection failed. Please refresh and try again.");return}await new Promise(v=>setTimeout(v,d)),f&&t&&(u.current=requestAnimationFrame(h))}f&&t&&(u.current=requestAnimationFrame(h))}}async function p(){if(t&&!Cv()){a(!0),s(null);try{await V4(),f&&(a(!1),h())}catch{f&&(a(!1),s("Failed to load face detection models. Please check your connection and refresh."))}}else t?h():(o([]),n==null||n([]))}return p(),()=>{f=!1,u.current&&cancelAnimationFrame(u.current)}},[e,t,n]),{detections:r,isLoading:i,error:A}}const W4=k.createContext(void 0),Hz=({children:e})=>{const[t,n]=k.useState([]);return m.jsx(W4.Provider,{value:{detections:t,setDetections:n},children:e})},G4=()=>{const e=k.useContext(W4);if(e===void 0)throw new Error("useEmotionContext must be used within an EmotionProvider");return e},z4=k.createContext(void 0),Oz=({children:e})=>{const[t,n]=k.useState(!1),r=()=>n(!t);return m.jsx(z4.Provider,{value:{isWebcamOn:t,toggleWebcam:r},children:e})},$4=()=>{const e=k.useContext(z4);if(e===void 0)throw new Error("useWebcam must be used within a WebcamProvider");return e},jz=({isAnalyzing:e,onToggleAnalysis:t,isProcessing:n})=>{const{isWebcamOn:r,toggleWebcam:o}=$4(),{currentProfile:i}=Pr(),a=(i==null?void 0:i.color)||"#3B82F6";return m.jsxs("div",{className:"flex justify-center gap-2",children:[m.jsx(Lx,{variant:"contained",onClick:t,disabled:!r||n,sx:{backgroundColor:e?"#EF4444":a,"&:hover":{backgroundColor:e?"#DC2626":`${a}dd`}},className:"disabled:opacity-50 disabled:cursor-not-allowed px-6 py-2 rounded-xl font-medium",children:n?"Loading...":e?"Stop Analysis":"Start Analysis"}),m.jsx(Lx,{variant:"outlined",onClick:o,disabled:n,sx:{borderColor:`${a}80`,color:a,"&:hover":{borderColor:a,backgroundColor:`${a}10`}},className:`border-2 hover:bg-white/5 font-medium px-6 py-2 rounded-xl
          disabled:opacity-50 disabled:cursor-not-allowed`,children:r?"Turn Off Camera":"Turn On Camera"})]})},Vz=({isActive:e,onToggle:t,isProcessing:n})=>{const r=kr.useRef(null),{setDetections:o}=G4(),{isWebcamOn:i}=$4(),{isLoading:a,error:A}=Lz(r,e&&i,o);return m.jsxs("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-2xl border border-border overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-border",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Live Analysis"}),m.jsx(jz,{isAnalyzing:e,onToggleAnalysis:t,isProcessing:n})]})}),m.jsx("div",{className:"relative aspect-video",children:i?m.jsxs(m.Fragment,{children:[m.jsx(h5,{ref:r,screenshotFormat:"image/jpeg",className:"w-full h-full object-cover",videoConstraints:{width:1280,height:720,facingMode:"user"}}),a&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:m.jsx("div",{className:"text-primary animate-pulse",children:"Initializing AI Models..."})}),A&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:m.jsx("div",{className:"text-red-400 bg-red-500/20 p-4 rounded-xl border border-red-500/30",children:A})})]}):m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:m.jsx("p",{className:"text-gray-400 text-lg",children:'Click "Turn On Camera" to begin analysis'})})})]})};function Kz(e){let t="neutral",n=0;return Object.entries(e).forEach(([r,o])=>{o>n&&(n=o,t=r)}),n<.5?"neutral":t}function H1(e){const t={happy:"#D97706",sad:"#3B82F6",angry:"#EF4444",fearful:"#8B5CF6",disgusted:"#10B981",surprised:"#EC4899",neutral:"#6B7280"};return t[e]||t.neutral}function Wz(e){const t={happy:"",sad:"",angry:"",fearful:"",disgusted:"",surprised:"",neutral:""};return t[e]||t.neutral}const Gz=({detection:e})=>{const t=Kz(e.expressions),n=e.expressions[t],r=Wz(t),o=H1(t),i=120,a=8,A=(i-a)/2,s=2*Math.PI*A,l=`${n*s} ${s}`;return m.jsxs("div",{className:"relative w-30 h-30",children:[m.jsxs("svg",{width:i,height:i,className:"transform -rotate-90",children:[m.jsx("circle",{cx:i/2,cy:i/2,r:A,fill:"none",stroke:"currentColor",strokeWidth:a,className:"text-gray-200 dark:text-gray-700"}),m.jsx("circle",{cx:i/2,cy:i/2,r:A,fill:"none",stroke:o,strokeWidth:a,strokeDasharray:l,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",style:{color:o},children:[m.jsx("span",{className:"text-3xl",children:r}),m.jsx("span",{className:"text-sm font-medium capitalize mt-1",children:t}),m.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(n*100),"%"]})]})]})},X4=({detections:e})=>m.jsx("div",{className:"w-72 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4",children:e.length===0?m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No faces detected"}):m.jsx("div",{className:"space-y-6",children:e.map((t,n)=>m.jsx("div",{className:"flex flex-col items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-700",children:m.jsx(Gz,{detection:t})},n))})}),zz=()=>{const{detections:e}=G4();return m.jsxs("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-2xl border border-border p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Analysis Results"}),m.jsx(X4,{detections:e})]})},$z=()=>{const e=k.useRef(null),[t,n]=k.useState([]),[r,o]=k.useState(!1),[i,a]=k.useState(null),{currentProfile:A}=Pr(),s=(A==null?void 0:A.color)||"#3B82F6",u=async l=>{o(!0);try{const c=URL.createObjectURL(l);a(c);const d=new Image;d.src=c,await new Promise(h=>d.onload=h);const f=await K4(d);n(f)}catch(c){console.error("Failed to analyze image:",c)}finally{o(!1)}};return m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"glass-panel p-8",children:m.jsxs("div",{className:"flex flex-col items-center gap-8",children:[m.jsxs("div",{className:"text-center max-w-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Upload Image for Analysis"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Upload a photo to analyze facial expressions and detect emotions."}),m.jsx("input",{type:"file",ref:e,onChange:l=>{var c;return((c=l.target.files)==null?void 0:c[0])&&u(l.target.files[0])},accept:"image/*",className:"hidden"}),m.jsxs("button",{onClick:()=>{var l;return(l=e.current)==null?void 0:l.click()},className:`inline-flex items-center gap-2 px-8 py-3 text-white rounded-xl 
                transition-all duration-200 text-lg font-medium hover:opacity-90`,style:{backgroundColor:s},disabled:r,children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r?"Analyzing...":"Upload Image"]}),m.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Supported formats: JPG, PNG, GIF (max 5MB)"})]}),i&&m.jsx("div",{className:"w-full max-w-2xl",children:m.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-border",children:[m.jsx("img",{src:i,alt:"Uploaded",className:"w-full h-full object-contain bg-card"}),r&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:m.jsx("div",{className:"animate-pulse",style:{color:s},children:"Analyzing image..."})})]})}),t.length>0&&m.jsx("div",{className:"w-full",children:m.jsx(X4,{detections:t})})]})})})},Xz=()=>m.jsxs("section",{children:[m.jsx("h2",{className:"text-3xl font-display font-bold mb-6",children:"Face Detection Algorithm"}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-8",children:[m.jsxs("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl p-6",children:[m.jsx("h3",{className:"text-xl font-display font-semibold mb-4",children:"TinyFaceDetector Model"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300",children:[m.jsx("li",{children:"Single-shot detection network based on MobileNet architecture"}),m.jsx("li",{children:"Optimized for real-time performance (60+ FPS on modern devices)"}),m.jsx("li",{children:"Input size: 416x416 pixels"}),m.jsx("li",{children:"Uses depthwise separable convolutions for efficiency"}),m.jsx("li",{children:"Model size: ~190KB"})]})]}),m.jsxs("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl p-6",children:[m.jsx("h3",{className:"text-xl font-display font-semibold mb-4",children:"Detection Pipeline"}),m.jsxs("ol",{className:"list-decimal pl-6 space-y-4",children:[m.jsxs("li",{children:[m.jsx("div",{className:"font-medium mb-2",children:"Image preprocessing"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-600 dark:text-gray-300",children:[m.jsx("li",{children:"Resize input to 416x416"}),m.jsx("li",{children:"Normalize pixel values to [-1, 1]"}),m.jsx("li",{children:"Convert to tensor format"})]})]}),m.jsxs("li",{children:[m.jsx("div",{className:"font-medium mb-2",children:"Feature extraction"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-600 dark:text-gray-300",children:[m.jsx("li",{children:"13 convolutional layers"}),m.jsx("li",{children:"Depthwise separable convolutions"}),m.jsx("li",{children:"ReLU activation functions"})]})]}),m.jsxs("li",{children:[m.jsx("div",{className:"font-medium mb-2",children:"Detection head"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-600 dark:text-gray-300",children:[m.jsx("li",{children:"Confidence score prediction"}),m.jsx("li",{children:"Bounding box regression"}),m.jsx("li",{children:"Non-maximum suppression"})]})]})]})]})]})]}),Yz=()=>m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Emotion Recognition Algorithm"}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[m.jsx("h3",{className:"text-xl font-medium mb-2",children:"CNN Architecture"}),m.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[m.jsx("li",{children:"Based on MobileNet with custom emotion classification head"}),m.jsx("li",{children:"Input: 224x224x3 RGB image"}),m.jsx("li",{children:"Output: 7 emotion probabilities"}),m.jsx("li",{children:"Uses transfer learning from face recognition task"})]}),m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Recognition Pipeline"}),m.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[m.jsxs("li",{children:["Face alignment",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Extract face region using detection bounds"}),m.jsx("li",{children:"Resize to 224x224 pixels"}),m.jsx("li",{children:"Apply pixel normalization"})]})]}),m.jsxs("li",{children:["Feature extraction",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"MobileNet backbone network"}),m.jsx("li",{children:"Global average pooling"}),m.jsx("li",{children:"1024-dimensional feature vector"})]})]}),m.jsxs("li",{children:["Emotion classification",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Fully connected layers"}),m.jsx("li",{children:"Softmax activation"}),m.jsx("li",{children:"7-class probability distribution"})]})]})]}),m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Emotion Classes"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-2",children:"Primary Emotions"}),m.jsxs("ul",{className:"list-disc pl-6",children:[m.jsx("li",{children:"Happy (Joy)"}),m.jsx("li",{children:"Sad"}),m.jsx("li",{children:"Angry"}),m.jsx("li",{children:"Fearful"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-2",children:"Secondary Emotions"}),m.jsxs("ul",{className:"list-disc pl-6",children:[m.jsx("li",{children:"Disgusted"}),m.jsx("li",{children:"Surprised"}),m.jsx("li",{children:"Neutral"})]})]})]})]})]}),qz=()=>m.jsxs("section",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Model Architecture Details"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Technical Specifications"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[m.jsx("li",{children:"Framework: TensorFlow.js"}),m.jsx("li",{children:"Base Network: MobileNet"}),m.jsx("li",{children:"Model Size: ~2MB total"}),m.jsx("li",{children:"Inference Time: ~30ms"}),m.jsx("li",{children:"FLOPs: 569M"}),m.jsx("li",{children:"Parameters: 3.2M"})]})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Performance Metrics"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[m.jsx("li",{children:"Accuracy: ~90% on FER2013"}),m.jsx("li",{children:"FPS: 30-60 (device dependent)"}),m.jsx("li",{children:"Min Face Size: 20x20 pixels"}),m.jsx("li",{children:"Max Faces: No fixed limit"}),m.jsx("li",{children:"Latency: 30-50ms"})]})]})]})]}),Jz=()=>m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Token Sentiment Analysis"}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Analysis Components"}),m.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[m.jsxs("li",{children:["Technical Analysis",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"RSI (Relative Strength Index)"}),m.jsx("li",{children:"MACD (Moving Average Convergence Divergence)"}),m.jsx("li",{children:"Bollinger Bands"}),m.jsx("li",{children:"Volume Analysis"})]})]}),m.jsxs("li",{children:["Fundamental Analysis",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Market Cap Evaluation"}),m.jsx("li",{children:"Liquidity Analysis"}),m.jsx("li",{children:"Volume to Market Cap Ratio"})]})]})]}),m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Sentiment Calculation"}),m.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[m.jsxs("li",{children:["Signal Collection",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Gather technical indicators"}),m.jsx("li",{children:"Analyze price action"}),m.jsx("li",{children:"Evaluate volume patterns"})]})]}),m.jsxs("li",{children:["Signal Classification",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Bullish signals"}),m.jsx("li",{children:"Bearish signals"}),m.jsx("li",{children:"Neutral signals"})]})]}),m.jsxs("li",{children:["Sentiment Scoring",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Weight-based calculation"}),m.jsx("li",{children:"Signal strength evaluation"}),m.jsx("li",{children:"Confidence scoring"})]})]})]})]})]}),Zz=()=>m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Chart Analysis Algorithm"}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Detection Pipeline"}),m.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[m.jsxs("li",{children:["Color Analysis",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"RGB channel separation"}),m.jsx("li",{children:"Candlestick pattern detection"}),m.jsx("li",{children:"Color threshold optimization"})]})]}),m.jsxs("li",{children:["Level Detection",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Support level identification"}),m.jsx("li",{children:"Resistance level detection"}),m.jsx("li",{children:"Level strength calculation"})]})]}),m.jsxs("li",{children:["Pattern Recognition",m.jsxs("ul",{className:"list-disc pl-6 mt-1",children:[m.jsx("li",{children:"Trend line analysis"}),m.jsx("li",{children:"Price action patterns"}),m.jsx("li",{children:"Volume profile analysis"})]})]})]}),m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Scenario Analysis"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-green-400 mb-2",children:"Bullish Scenario"}),m.jsxs("ul",{className:"list-disc pl-4 text-sm",children:[m.jsx("li",{children:"Strong support levels"}),m.jsx("li",{children:"Increasing volume"}),m.jsx("li",{children:"Higher highs pattern"})]})]}),m.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-red-400 mb-2",children:"Bearish Scenario"}),m.jsxs("ul",{className:"list-disc pl-4 text-sm",children:[m.jsx("li",{children:"Strong resistance levels"}),m.jsx("li",{children:"Decreasing volume"}),m.jsx("li",{children:"Lower lows pattern"})]})]}),m.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-blue-400 mb-2",children:"Neutral Scenario"}),m.jsxs("ul",{className:"list-disc pl-4 text-sm",children:[m.jsx("li",{children:"Range-bound trading"}),m.jsx("li",{children:"Stable volume"}),m.jsx("li",{children:"Sideways movement"})]})]})]})]})]}),e$=()=>m.jsx("div",{className:"max-w-4xl mx-auto space-y-12",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[m.jsx("h1",{className:"text-4xl font-display font-bold mb-12 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Technical Documentation"}),m.jsxs("div",{className:"space-y-16",children:[m.jsx(Xz,{}),m.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),m.jsx(Yz,{}),m.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),m.jsx(qz,{}),m.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),m.jsx(Jz,{}),m.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),m.jsx(Zz,{})]})]})}),t$={style:"kHsjoCQGgI0GWASmgIdIAyCCAwwrA6GAIwQEKBgNQfAeDEAwBVeBNuIGARgAVaChbIInigx+ODAVIAPZgFxmCOoICIGgPhmBYBoCfvgNPSCKSoEAEwJAKgQAPAEesAnwCNVgFvBAAAWBiAMCIdIETRwAQigXYxAuHyA3z8A5ZIELaQJUQgC6TAJ3CAHB8BVu4DUKwFNHgMQiAMIA9DwB96gBInABREA7QEIxgImGgFUegB9dgAYpgAQRACWAAASAHn2AADmAI3iAjoyAkAiAkwSAlTCAABCAiDeAmpiAnpyAplWAHqOAHwuACDqAEJ2AlJKAAD2AxjSABIqAm5mAy8KApLuADASAI5uAwL6AxMKAPbAANYDLl4DOt4C8uoAV0oDWqICtwYCxr4DKiIC4zIChEoAh0YAlQIAG04AGI4CmCoBlzgBxgCFCgKS8gBEIgMABgIAWgA8ugL4tgCAYgIw4gALAgAo8gFoXQBRSoBA4MAACeABSlAIBigEAAwBxxIAMAQAUIBdC8ACZSAAPjAF6AgAAHwCHM4BK0UAMuiAaFDAItDgBKMQDsbIAJBEASQ+AFEnAPZXgAGIQAmwIBGDUATwqAKjJAIi8gBOiwCPjIA+kMA9J6ASUhACGlgBixwAYgYAIGEAJseARqnAJ8cgAp5QByWYBAlUAQqqAI0XANNTgCMCwALl4AFh0A2+SABPPANGAgF4uwAWZYAwLwAQIBDpEAQ6cAOEAAQ6AHORAFfUgC33wB1BoAUH8AwYCAYSFAMNggGXEQBIXIA0ycAgqCALt9AEl2gCrIQA0F0TAAwlgHxSQAXa4Au98AptKAdFHAJZzgHsUQDFIYAcvkAQF+AKKHAOqCgHlqwBMDIBpJMAhaqAZDHAKaegGBSwBDEYATokAJQ+AOVpAOFNgEXUwAYVoAPTcAAHiARBJAPBQgEbiwBHH4Bzs0AcuGAZkRADgzgAM9wCgT4A0+kAEMCAIuxAPBLgCagwAUhoBxNMAGIKAVGxABDjgAXQBXbcAJrXAEaEwAwBEAB4VAAfHwBYQEASbeAD23UAX/NAHlDQAoDcANEpAHDqQAN40AYTvACNAgAAIA=="},bv="Surprise_CKY0O";async function n$(e){if(document.querySelector(`script[src="${e}"]`))return;const t=document.createElement("script");t.src=e,t.defer=!0,document.head.appendChild(t)}function r$(){document.querySelectorAll('script[src*="pickaxeproject"]').forEach(e=>e.remove())}async function o$(){window.PICKAXE={pickaxes:[],style:t$.style},window.PICKAXE.pickaxes.push({id:bv,type:"inline"});try{const e=await fetch(`https://embed.pickaxeproject.com/axe/api/script/${bv}`),{v:t}=await e.json(),n=`https://cdn.jsdelivr.net/gh/pickaxeproject/cdn@${t}/dist/bundle.js`;await n$(n)}catch(e){console.error("Failed to initialize Pickaxe:",e)}}const i$=()=>(k.useEffect(()=>(o$(),()=>r$()),[]),m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{id:`pickaxe-inline-${bv}`,className:"w-full max-w-2xl"})})})}));async function a$(){try{const e=await fetch("https://api.example.com/tickers?window=2h");if(!e.ok)throw new Error("Failed to fetch tickers");return await e.json()}catch{return A$()}}function A$(){return["DOGE","SHIB","PEPE","FLOKI","WOJAK","BONK","ELON","SAMO"].map(t=>({symbol:t,mentions:Math.floor(Math.random()*15e3)+1e3,change:Number((Math.random()*20-10).toFixed(1))})).sort((t,n)=>n.mentions-t.mentions)}function s$(){const[e,t]=k.useState([]),[n,r]=k.useState(!0),[o,i]=k.useState(null),a=k.useCallback(async()=>{try{r(!0);const s=await a$();t(s),i(new Date)}catch(s){console.error("Failed to fetch tickers:",s)}finally{r(!1)}},[]),A=k.useCallback(()=>{a()},[a]);return k.useEffect(()=>{a();const s=setInterval(a,12e4);return()=>clearInterval(s)},[a]),{tickers:e,isLoading:n,refresh:A,lastUpdated:o}}const u$=({rank:e,symbol:t,mentions:n,change:r})=>{const o=r>=0?"text-green-500":"text-red-500",i=r>=0?"":"";return m.jsxs("div",{className:"flex items-center justify-between p-4 bg-card text-card-foreground rounded-xl border border-border hover:bg-card/80 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-foreground/60 font-mono w-6",children:e}),m.jsxs("span",{className:"text-primary font-bold",children:["$",t]})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("span",{className:"text-foreground/60",children:[n.toLocaleString()," mentions"]}),m.jsxs("span",{className:`${o} font-mono flex items-center gap-1`,children:[i," ",Math.abs(r),"%"]})]})]})},l$=({count:e})=>m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-black/30 dark:bg-gray-900/30 backdrop-blur-xl rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"h-8 w-48 bg-white/5 rounded-lg mb-6 animate-pulse"}),m.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,n)=>m.jsx("div",{className:"h-16 bg-white/5 rounded-xl border border-white/10 animate-pulse"},n))})]})}),c$=({onRefresh:e,lastUpdated:t,isLoading:n})=>{const r=o=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric"}).format(o);return m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Top Tickers"}),m.jsx("p",{className:"text-sm text-foreground/60 mt-1",children:"Last 2 hours"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[t&&m.jsxs("span",{className:"text-sm text-foreground/60",children:["Last updated: ",r(t)]}),m.jsx("button",{onClick:e,disabled:n,className:`
            p-2 rounded-lg text-primary hover:bg-primary/10 
            transition-colors disabled:opacity-50
            ${n?"animate-spin":""}
          `,title:"Refresh data",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})},d$=()=>{const{tickers:e,isLoading:t,refresh:n,lastUpdated:r}=s$();return t&&!e.length?m.jsx(l$,{count:10}):m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"glass-panel p-6",children:[m.jsx(c$,{onRefresh:n,lastUpdated:r,isLoading:t}),m.jsx("div",{className:"space-y-4",children:e.map((o,i)=>m.jsx(u$,{rank:i+1,symbol:o.symbol,mentions:o.mentions,change:o.change},o.symbol))})]})})},f$=({onSearch:e})=>{const[t,n]=k.useState(""),{currentProfile:r}=Pr(),o=(r==null?void 0:r.color)||"#3B82F6",i=a=>{a.preventDefault(),t.trim()&&e(t.trim())};return m.jsxs("form",{onSubmit:i,className:"flex gap-2",children:[m.jsx("input",{type:"text",value:t,onChange:a=>n(a.target.value),placeholder:"Paste the Contract Address",className:`flex-1 px-4 py-2 bg-card border border-border rounded-lg 
          focus:outline-none focus:ring-2 text-foreground placeholder:text-muted-foreground`,style:{"--tw-ring-color":`${o}40`,"--tw-ring-opacity":.4}}),m.jsx("button",{type:"submit",style:{backgroundColor:o},className:`px-6 py-2 text-white rounded-lg transition-colors duration-200 
          hover:opacity-90 font-medium`,children:"Analyze"})]})},h$=({name:e,symbol:t,profileColor:n})=>m.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col",children:[m.jsx("h1",{className:"text-4xl font-bold font-display mb-2",style:{background:`-webkit-linear-gradient(${n}, ${n}80)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"text-lg px-3 py-1 rounded-full font-medium",style:{backgroundColor:`${n}10`,color:n},children:["$",t]}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"Contract Token"})]})]}),p$=({data:e,profileColor:t})=>m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx(h$,{name:e.name,symbol:e.symbol,profileColor:t}),m.jsxs("div",{className:"flex gap-4 mt-1",children:[e.twitter&&m.jsxs("a",{href:`https://x.com/${e.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),m.jsx("span",{children:"Twitter"})]}),e.telegram&&m.jsxs("a",{href:e.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.24.27-.48.74-.74 2.93-1.27 4.88-2.11 5.87-2.51 2.8-1.14 3.37-1.34 3.75-1.34.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .24z"})}),m.jsx("span",{children:"Telegram"})]}),e.website&&m.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),m.jsx("span",{children:"Website"})]})]})]});function nu(e){return e===0?"0.000":e>=1e9?`${(e/1e9).toFixed(3)}B`:e>=1e6?`${(e/1e6).toFixed(3)}M`:e>=1e3?`${(e/1e3).toFixed(3)}K`:e.toFixed(3)}const g$=({address:e})=>{const t=[{name:"DEXScreener",url:`https://dexscreener.com/solana/${e}`},{name:"GMGN.ai",url:`https://gmgn.ai/sol/token/${e}`},{name:"Jupiter",url:`https://jup.ag/swap/${e}-SOL`}];return m.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(n=>m.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`px-4 py-2 bg-primary/10 hover:bg-primary/20 
            text-primary rounded-lg transition-colors duration-200 border border-primary/20`,children:n.name},n.name))})},Y4=k.createContext(void 0);function O1(){const e=k.useContext(Y4);if(!e)throw new Error("useTab must be used within a TabProvider");return e}function m$({children:e}){const[t,n]=k.useState("landing");return m.jsx(Y4.Provider,{value:{activeTab:t,setActiveTab:n},children:e})}const q4=k.createContext(void 0),v$=({children:e})=>{const[t,n]=k.useState(null),[r,o]=k.useState(""),[i,a]=k.useState(!1),[A,s]=k.useState(null),[u,l]=k.useState(null),[c,d]=k.useState([]),[f,h]=k.useState("neutral"),[p,y]=k.useState({red:110,green:95});return m.jsx(q4.Provider,{value:{tokenData:t,setTokenData:n,address:r,setAddress:o,isLoading:i,setIsLoading:a,error:A,setError:s,chartImage:u,setChartImage:l,chartLevels:c,setChartLevels:d,chartScenario:f,setChartScenario:h,chartThresholds:p,setChartThresholds:y},children:e})},j1=()=>{const e=k.useContext(q4);if(!e)throw new Error("useToken must be used within a TokenProvider");return e};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ev=function(e,t){return Ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ev(e,t)};function Or(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ev(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Fv=function(){return Fv=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fv.apply(this,arguments)};function fn(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function A(l){try{u(r.next(l))}catch(c){a(c)}}function s(l){try{u(r.throw(l))}catch(c){a(c)}}function u(l){l.done?i(l.value):o(l.value).then(A,s)}u((r=r.apply(e,t||[])).next())})}function Zt(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(u){return function(l){return s([u,l])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ic(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}var Lo=function(){function e(t,n,r,o){this.left=t,this.top=n,this.width=r,this.height=o}return e.prototype.add=function(t,n,r,o){return new e(this.left+t,this.top+n,this.width+r,this.height+o)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(o){return o.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Nh=function(e,t){return Lo.fromClientRect(e,t.getBoundingClientRect())},y$=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),o=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Lo(0,0,r,o)},Mh=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),n--)}else t.push(o)}return t},ht=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,i="";++o<n;){var a=e[o];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(o+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},WC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ac=0;ac<WC.length;ac++)w$[WC.charCodeAt(ac)]=ac;var GC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ks=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ac=0;Ac<GC.length;Ac++)ks[GC.charCodeAt(Ac)]=Ac;var x$=function(e){var t=e.length*.75,n=e.length,r,o=0,i,a,A,s;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)i=ks[e.charCodeAt(r)],a=ks[e.charCodeAt(r+1)],A=ks[e.charCodeAt(r+2)],s=ks[e.charCodeAt(r+3)],l[o++]=i<<2|a>>4,l[o++]=(a&15)<<4|A>>2,l[o++]=(A&3)<<6|s&63;return u},B$=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},C$=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},da=5,V1=6+5,dg=2,b$=V1-da,J4=65536>>da,E$=1<<da,fg=E$-1,F$=1024>>da,I$=J4+F$,S$=I$,U$=32,Q$=S$+U$,T$=65536>>V1,k$=1<<b$,_$=k$-1,zC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},R$=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},D$=function(e,t){var n=x$(e),r=Array.isArray(n)?C$(n):new Uint32Array(n),o=Array.isArray(n)?B$(n):new Uint16Array(n),i=24,a=zC(o,i/2,r[4]/2),A=r[5]===2?zC(o,(i+r[4])/2):R$(r,Math.ceil((i+r[4])/4));return new N$(r[0],r[1],r[2],r[3],a,A)},N$=function(){function e(t,n,r,o,i,a){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=o,this.index=i,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>da],n=(n<<dg)+(t&fg),this.data[n];if(t<=65535)return n=this.index[J4+(t-55296>>da)],n=(n<<dg)+(t&fg),this.data[n];if(t<this.highStart)return n=Q$-T$+(t>>V1),n=this.index[n],n+=t>>da&_$,n=this.index[n],n=(n<<dg)+(t&fg),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),$C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sc=0;sc<$C.length;sc++)M$[$C.charCodeAt(sc)]=sc;var P$="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",XC=50,L$=1,Z4=2,eQ=3,H$=4,O$=5,YC=7,tQ=8,qC=9,li=10,Iv=11,JC=12,Sv=13,j$=14,_s=15,Uv=16,uc=17,Cs=18,V$=19,ZC=20,Qv=21,bs=22,hg=23,Ha=24,Dn=25,Rs=26,Ds=27,Oa=28,K$=29,ea=30,W$=31,lc=32,cc=33,Tv=34,kv=35,_v=36,Hu=37,Rv=38,Xc=39,Yc=40,pg=41,nQ=42,G$=43,z$=[9001,65288],rQ="!",Ie="",dc="",Dv=D$(P$),wo=[ea,_v],Nv=[L$,Z4,eQ,O$],oQ=[li,tQ],eb=[Ds,Rs],$$=Nv.concat(oQ),tb=[Rv,Xc,Yc,Tv,kv],X$=[_s,Sv],Y$=function(e,t){t===void 0&&(t="strict");var n=[],r=[],o=[];return e.forEach(function(i,a){var A=Dv.get(i);if(A>XC?(o.push(!0),A-=XC):o.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(a),n.push(Uv);if(A===H$||A===Iv){if(a===0)return r.push(a),n.push(ea);var s=n[a-1];return $$.indexOf(s)===-1?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(ea))}if(r.push(a),A===W$)return n.push(t==="strict"?Qv:Hu);if(A===nQ||A===K$)return n.push(ea);if(A===G$)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Hu):n.push(ea);n.push(A)}),[r,n,o]},gg=function(e,t,n,r){var o=r[n];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var i=n;i<=r.length;){i++;var a=r[i];if(a===t)return!0;if(a!==li)break}if(o===li)for(var i=n;i>0;){i--;var A=r[i];if(Array.isArray(e)?e.indexOf(A)!==-1:e===A)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===t)return!0;if(a!==li)break}if(A!==li)break}return!1},nb=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===li)n--;else return r}return 0},q$=function(e,t,n,r,o){if(n[r]===0)return Ie;var i=r-1;if(Array.isArray(o)&&o[i]===!0)return Ie;var a=i-1,A=i+1,s=t[i],u=a>=0?t[a]:0,l=t[A];if(s===Z4&&l===eQ)return Ie;if(Nv.indexOf(s)!==-1)return rQ;if(Nv.indexOf(l)!==-1||oQ.indexOf(l)!==-1)return Ie;if(nb(i,t)===tQ)return dc;if(Dv.get(e[i])===Iv||(s===lc||s===cc)&&Dv.get(e[A])===Iv||s===YC||l===YC||s===qC||[li,Sv,_s].indexOf(s)===-1&&l===qC||[uc,Cs,V$,Ha,Oa].indexOf(l)!==-1||nb(i,t)===bs||gg(hg,bs,i,t)||gg([uc,Cs],Qv,i,t)||gg(JC,JC,i,t))return Ie;if(s===li)return dc;if(s===hg||l===hg)return Ie;if(l===Uv||s===Uv)return dc;if([Sv,_s,Qv].indexOf(l)!==-1||s===j$||u===_v&&X$.indexOf(s)!==-1||s===Oa&&l===_v||l===ZC||wo.indexOf(l)!==-1&&s===Dn||wo.indexOf(s)!==-1&&l===Dn||s===Ds&&[Hu,lc,cc].indexOf(l)!==-1||[Hu,lc,cc].indexOf(s)!==-1&&l===Rs||wo.indexOf(s)!==-1&&eb.indexOf(l)!==-1||eb.indexOf(s)!==-1&&wo.indexOf(l)!==-1||[Ds,Rs].indexOf(s)!==-1&&(l===Dn||[bs,_s].indexOf(l)!==-1&&t[A+1]===Dn)||[bs,_s].indexOf(s)!==-1&&l===Dn||s===Dn&&[Dn,Oa,Ha].indexOf(l)!==-1)return Ie;if([Dn,Oa,Ha,uc,Cs].indexOf(l)!==-1)for(var c=i;c>=0;){var d=t[c];if(d===Dn)return Ie;if([Oa,Ha].indexOf(d)!==-1)c--;else break}if([Ds,Rs].indexOf(l)!==-1)for(var c=[uc,Cs].indexOf(s)!==-1?a:i;c>=0;){var d=t[c];if(d===Dn)return Ie;if([Oa,Ha].indexOf(d)!==-1)c--;else break}if(Rv===s&&[Rv,Xc,Tv,kv].indexOf(l)!==-1||[Xc,Tv].indexOf(s)!==-1&&[Xc,Yc].indexOf(l)!==-1||[Yc,kv].indexOf(s)!==-1&&l===Yc||tb.indexOf(s)!==-1&&[ZC,Rs].indexOf(l)!==-1||tb.indexOf(l)!==-1&&s===Ds||wo.indexOf(s)!==-1&&wo.indexOf(l)!==-1||s===Ha&&wo.indexOf(l)!==-1||wo.concat(Dn).indexOf(s)!==-1&&l===bs&&z$.indexOf(e[A])===-1||wo.concat(Dn).indexOf(l)!==-1&&s===Cs)return Ie;if(s===pg&&l===pg){for(var f=n[i],h=1;f>0&&(f--,t[f]===pg);)h++;if(h%2!==0)return Ie}return s===lc&&l===cc?Ie:dc},J$=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Y$(e,t.lineBreak),r=n[0],o=n[1],i=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(o=o.map(function(A){return[Dn,ea,nQ].indexOf(A)!==-1?Hu:A}));var a=t.wordBreak==="keep-all"?i.map(function(A,s){return A&&e[s]>=19968&&e[s]<=40959}):void 0;return[r,o,a]},Z$=function(){function e(t,n,r,o){this.codePoints=t,this.required=n===rQ,this.start=r,this.end=o}return e.prototype.slice=function(){return ht.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),e7=function(e,t){var n=Mh(e),r=J$(n,t),o=r[0],i=r[1],a=r[2],A=n.length,s=0,u=0;return{next:function(){if(u>=A)return{done:!0,value:null};for(var l=Ie;u<A&&(l=q$(n,i,o,++u,a))===Ie;);if(l!==Ie||u===A){var c=new Z$(n,l,s,u);return s=u,{value:c,done:!1}}return{done:!0,value:null}}}},t7=1,n7=2,fl=4,rb=8,af=10,ob=47,ru=92,r7=9,o7=32,fc=34,Es=61,i7=35,a7=36,A7=37,hc=39,pc=40,Fs=41,s7=95,yn=45,u7=33,l7=60,c7=62,d7=64,f7=91,h7=93,p7=61,g7=123,gc=63,m7=125,ib=124,v7=126,y7=128,ab=65533,mg=42,sa=43,w7=44,x7=58,B7=59,Ou=46,C7=0,b7=8,E7=11,F7=14,I7=31,S7=127,Gr=-1,iQ=48,aQ=97,AQ=101,U7=102,Q7=117,T7=122,sQ=65,uQ=69,lQ=70,k7=85,_7=90,nn=function(e){return e>=iQ&&e<=57},R7=function(e){return e>=55296&&e<=57343},ja=function(e){return nn(e)||e>=sQ&&e<=lQ||e>=aQ&&e<=U7},D7=function(e){return e>=aQ&&e<=T7},N7=function(e){return e>=sQ&&e<=_7},M7=function(e){return D7(e)||N7(e)},P7=function(e){return e>=y7},mc=function(e){return e===af||e===r7||e===o7},Af=function(e){return M7(e)||P7(e)||e===s7},Ab=function(e){return Af(e)||nn(e)||e===yn},L7=function(e){return e>=C7&&e<=b7||e===E7||e>=F7&&e<=I7||e===S7},ni=function(e,t){return e!==ru?!1:t!==af},vc=function(e,t,n){return e===yn?Af(t)||ni(t,n):Af(e)?!0:!!(e===ru&&ni(e,t))},vg=function(e,t,n){return e===sa||e===yn?nn(t)?!0:t===Ou&&nn(n):nn(e===Ou?t:e)},H7=function(e){var t=0,n=1;(e[t]===sa||e[t]===yn)&&(e[t]===yn&&(n=-1),t++);for(var r=[];nn(e[t]);)r.push(e[t++]);var o=r.length?parseInt(ht.apply(void 0,r),10):0;e[t]===Ou&&t++;for(var i=[];nn(e[t]);)i.push(e[t++]);var a=i.length,A=a?parseInt(ht.apply(void 0,i),10):0;(e[t]===uQ||e[t]===AQ)&&t++;var s=1;(e[t]===sa||e[t]===yn)&&(e[t]===yn&&(s=-1),t++);for(var u=[];nn(e[t]);)u.push(e[t++]);var l=u.length?parseInt(ht.apply(void 0,u),10):0;return n*(o+A*Math.pow(10,-a))*Math.pow(10,s*l)},O7={type:2},j7={type:3},V7={type:4},K7={type:13},W7={type:8},G7={type:21},z7={type:9},$7={type:10},X7={type:11},Y7={type:12},q7={type:14},yc={type:23},J7={type:1},Z7={type:25},e9={type:24},t9={type:26},n9={type:27},r9={type:28},o9={type:29},i9={type:31},Mv={type:32},cQ=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Mh(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==Mv;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case fc:return this.consumeStringToken(fc);case i7:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ab(n)||ni(r,o)){var i=vc(n,r,o)?n7:t7,a=this.consumeName();return{type:5,value:a,flags:i}}break;case a7:if(this.peekCodePoint(0)===Es)return this.consumeCodePoint(),K7;break;case hc:return this.consumeStringToken(hc);case pc:return O7;case Fs:return j7;case mg:if(this.peekCodePoint(0)===Es)return this.consumeCodePoint(),q7;break;case sa:if(vg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case w7:return V7;case yn:var A=t,s=this.peekCodePoint(0),u=this.peekCodePoint(1);if(vg(A,s,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(vc(A,s,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===yn&&u===c7)return this.consumeCodePoint(),this.consumeCodePoint(),e9;break;case Ou:if(vg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case ob:if(this.peekCodePoint(0)===mg)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===mg&&(l=this.consumeCodePoint(),l===ob))return this.consumeToken();if(l===Gr)return this.consumeToken()}break;case x7:return t9;case B7:return n9;case l7:if(this.peekCodePoint(0)===u7&&this.peekCodePoint(1)===yn&&this.peekCodePoint(2)===yn)return this.consumeCodePoint(),this.consumeCodePoint(),Z7;break;case d7:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(vc(c,d,f)){var a=this.consumeName();return{type:7,value:a}}break;case f7:return r9;case ru:if(ni(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case h7:return o9;case p7:if(this.peekCodePoint(0)===Es)return this.consumeCodePoint(),W7;break;case g7:return X7;case m7:return Y7;case Q7:case k7:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h===sa&&(ja(p)||p===gc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case ib:if(this.peekCodePoint(0)===Es)return this.consumeCodePoint(),z7;if(this.peekCodePoint(0)===ib)return this.consumeCodePoint(),G7;break;case v7:if(this.peekCodePoint(0)===Es)return this.consumeCodePoint(),$7;break;case Gr:return Mv}return mc(t)?(this.consumeWhiteSpace(),i9):nn(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Af(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ht(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();ja(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===gc&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var o=parseInt(ht.apply(void 0,t.map(function(s){return s===gc?iQ:s})),16),i=parseInt(ht.apply(void 0,t.map(function(s){return s===gc?lQ:s})),16);return{type:30,start:o,end:i}}var a=parseInt(ht.apply(void 0,t),16);if(this.peekCodePoint(0)===yn&&ja(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var A=[];ja(n)&&A.length<6;)A.push(n),n=this.consumeCodePoint();var i=parseInt(ht.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===pc?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===pc?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===hc||n===fc){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Fs)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),yc)}for(;;){var o=this.consumeCodePoint();if(o===Gr||o===Fs)return{type:22,value:ht.apply(void 0,t)};if(mc(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Fs?(this.consumeCodePoint(),{type:22,value:ht.apply(void 0,t)}):(this.consumeBadUrlRemnants(),yc);if(o===fc||o===hc||o===pc||L7(o))return this.consumeBadUrlRemnants(),yc;if(o===ru)if(ni(o,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yc;else t.push(o)}},e.prototype.consumeWhiteSpace=function(){for(;mc(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Fs||t===Gr)return;ni(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var o=Math.min(n,t);r+=ht.apply(void 0,this._value.splice(0,o)),t-=o}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var o=this._value[r];if(o===Gr||o===void 0||o===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(o===af)return this._value.splice(0,r),J7;if(o===ru){var i=this._value[r+1];i!==Gr&&i!==void 0&&(i===af?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):ni(o,i)&&(n+=this.consumeStringSlice(r),n+=ht(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=fl,r=this.peekCodePoint(0);for((r===sa||r===yn)&&t.push(this.consumeCodePoint());nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(r===Ou&&nn(o))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=rb;nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),o=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===uQ||r===AQ)&&((o===sa||o===yn)&&nn(i)||nn(o)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=rb;nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[H7(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],o=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(vc(o,i,a)){var A=this.consumeName();return{type:15,number:n,flags:r,unit:A}}return o===A7?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ja(t)){for(var n=ht(t);ja(this.peekCodePoint(0))&&n.length<6;)n+=ht(this.consumeCodePoint());mc(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||R7(r)||r>1114111?ab:r}return t===Gr?ab:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(Ab(n))t+=ht(n);else if(ni(n,this.peekCodePoint(0)))t+=ht(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),dQ=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new cQ;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||A9(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Mv:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),hl=function(e){return e.type===15},os=function(e){return e.type===17},Oe=function(e){return e.type===20},a9=function(e){return e.type===0},Pv=function(e,t){return Oe(e)&&e.value===t},fQ=function(e){return e.type!==31},zA=function(e){return e.type!==31&&e.type!==4},go=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},A9=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Ri=function(e){return e.type===17||e.type===15},xt=function(e){return e.type===16||Ri(e)},hQ=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Gt={type:17,number:0,flags:fl},K1={type:16,number:50,flags:fl},ci={type:16,number:100,flags:fl},Ns=function(e,t,n){var r=e[0],o=e[1];return[Ke(r,t),Ke(typeof o<"u"?o:r,n)]},Ke=function(e,t){if(e.type===16)return e.number/100*t;if(hl(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},pQ="deg",gQ="grad",mQ="rad",vQ="turn",Ph={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case pQ:return Math.PI*t.number/180;case gQ:return Math.PI/200*t.number;case mQ:return t.number;case vQ:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},yQ=function(e){return e.type===15&&(e.unit===pQ||e.unit===gQ||e.unit===mQ||e.unit===vQ)},wQ=function(e){var t=e.filter(Oe).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gt,Gt];case"to top":case"bottom":return pr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gt,ci];case"to right":case"left":return pr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ci,ci];case"to bottom":case"top":return pr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ci,Gt];case"to left":case"right":return pr(270)}return 0},pr=function(e){return Math.PI*e/180},Fi={name:"color",parse:function(e,t){if(t.type===18){var n=s9[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3);return di(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3),a=t.value.substring(3,4);return di(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6);return di(parseInt(r,16),parseInt(o,16),parseInt(i,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6),a=t.value.substring(6,8);return di(parseInt(r,16),parseInt(o,16),parseInt(i,16),parseInt(a,16)/255)}}if(t.type===20){var A=ko[t.value.toUpperCase()];if(typeof A<"u")return A}return ko.TRANSPARENT}},Ii=function(e){return(255&e)===0},_t=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,o=255&e>>24;return t<255?"rgba("+o+","+r+","+n+","+t/255+")":"rgb("+o+","+r+","+n+")"},di=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},sb=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},ub=function(e,t){var n=t.filter(zA);if(n.length===3){var r=n.map(sb),o=r[0],i=r[1],a=r[2];return di(o,i,a,1)}if(n.length===4){var A=n.map(sb),o=A[0],i=A[1],a=A[2],s=A[3];return di(o,i,a,s)}return 0};function yg(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var lb=function(e,t){var n=t.filter(zA),r=n[0],o=n[1],i=n[2],a=n[3],A=(r.type===17?pr(r.number):Ph.parse(e,r))/(Math.PI*2),s=xt(o)?o.number/100:0,u=xt(i)?i.number/100:0,l=typeof a<"u"&&xt(a)?Ke(a,1):1;if(s===0)return di(u*255,u*255,u*255,1);var c=u<=.5?u*(s+1):u+s-u*s,d=u*2-c,f=yg(d,c,A+1/3),h=yg(d,c,A),p=yg(d,c,A-1/3);return di(f*255,h*255,p*255,l)},s9={hsl:lb,hsla:lb,rgb:ub,rgba:ub},ou=function(e,t){return Fi.parse(e,dQ.create(t).parseComponentValue())},ko={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},u9={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Oe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},l9={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lh=function(e,t){var n=Fi.parse(e,t[0]),r=t[1];return r&&xt(r)?{color:n,stop:r}:{color:n,stop:null}},cb=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Gt),r.stop===null&&(r.stop=ci);for(var o=[],i=0,a=0;a<e.length;a++){var A=e[a].stop;if(A!==null){var s=Ke(A,t);s>i?o.push(s):o.push(i),i=s}else o.push(null)}for(var u=null,a=0;a<o.length;a++){var l=o[a];if(l===null)u===null&&(u=a);else if(u!==null){for(var c=a-u,d=o[u-1],f=(l-d)/(c+1),h=1;h<=c;h++)o[u+h-1]=f*h;u=null}}return e.map(function(p,y){var g=p.color;return{color:g,stop:Math.max(Math.min(1,o[y]/t),0)}})},c9=function(e,t,n){var r=t/2,o=n/2,i=Ke(e[0],t)-r,a=o-Ke(e[1],n);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},d9=function(e,t,n){var r=typeof e=="number"?e:c9(e,t,n),o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,a=n/2,A=o/2,s=Math.sin(r-Math.PI/2)*A,u=Math.cos(r-Math.PI/2)*A;return[o,i-u,i+u,a-s,a+s]},Ir=function(e,t){return Math.sqrt(e*e+t*t)},db=function(e,t,n,r,o){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(a,A){var s=A[0],u=A[1],l=Ir(n-s,r-u);return(o?l<a.optimumDistance:l>a.optimumDistance)?{optimumCorner:A,optimumDistance:l}:a},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},f9=function(e,t,n,r,o){var i=0,a=0;switch(e.size){case 0:e.shape===0?i=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-o)));break;case 2:if(e.shape===0)i=a=Math.min(Ir(t,n),Ir(t,n-o),Ir(t-r,n),Ir(t-r,n-o));else if(e.shape===1){var A=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(t),Math.abs(t-r)),s=db(r,o,t,n,!0),u=s[0],l=s[1];i=Ir(u-t,(l-n)/A),a=A*i}break;case 1:e.shape===0?i=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-o)));break;case 3:if(e.shape===0)i=a=Math.max(Ir(t,n),Ir(t,n-o),Ir(t-r,n),Ir(t-r,n-o));else if(e.shape===1){var A=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(t),Math.abs(t-r)),c=db(r,o,t,n,!1),u=c[0],l=c[1];i=Ir(u-t,(l-n)/A),a=A*i}break}return Array.isArray(e.size)&&(i=Ke(e.size[0],r),a=e.size.length===2?Ke(e.size[1],o):i),[i,a]},h9=function(e,t){var n=pr(180),r=[];return go(t).forEach(function(o,i){if(i===0){var a=o[0];if(a.type===20&&a.value==="to"){n=wQ(o);return}else if(yQ(a)){n=Ph.parse(e,a);return}}var A=Lh(e,o);r.push(A)}),{angle:n,stops:r,type:1}},wc=function(e,t){var n=pr(180),r=[];return go(t).forEach(function(o,i){if(i===0){var a=o[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=wQ(o);return}else if(yQ(a)){n=(Ph.parse(e,a)+pr(270))%pr(360);return}}var A=Lh(e,o);r.push(A)}),{angle:n,stops:r,type:1}},p9=function(e,t){var n=pr(180),r=[],o=1,i=0,a=3,A=[];return go(t).forEach(function(s,u){var l=s[0];if(u===0){if(Oe(l)&&l.value==="linear"){o=1;return}else if(Oe(l)&&l.value==="radial"){o=2;return}}if(l.type===18){if(l.name==="from"){var c=Fi.parse(e,l.values[0]);r.push({stop:Gt,color:c})}else if(l.name==="to"){var c=Fi.parse(e,l.values[0]);r.push({stop:ci,color:c})}else if(l.name==="color-stop"){var d=l.values.filter(zA);if(d.length===2){var c=Fi.parse(e,d[1]),f=d[0];os(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:c})}}}}),o===1?{angle:(n+pr(180))%pr(360),stops:r,type:o}:{size:a,shape:i,stops:r,position:A,type:o}},xQ="closest-side",BQ="farthest-side",CQ="closest-corner",bQ="farthest-corner",EQ="circle",FQ="ellipse",IQ="cover",SQ="contain",g9=function(e,t){var n=0,r=3,o=[],i=[];return go(t).forEach(function(a,A){var s=!0;if(A===0){var u=!1;s=a.reduce(function(c,d){if(u)if(Oe(d))switch(d.value){case"center":return i.push(K1),c;case"top":case"left":return i.push(Gt),c;case"right":case"bottom":return i.push(ci),c}else(xt(d)||Ri(d))&&i.push(d);else if(Oe(d))switch(d.value){case EQ:return n=0,!1;case FQ:return n=1,!1;case"at":return u=!0,!1;case xQ:return r=0,!1;case IQ:case BQ:return r=1,!1;case SQ:case CQ:return r=2,!1;case bQ:return r=3,!1}else if(Ri(d)||xt(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return c},s)}if(s){var l=Lh(e,a);o.push(l)}}),{size:r,shape:n,stops:o,position:i,type:2}},xc=function(e,t){var n=0,r=3,o=[],i=[];return go(t).forEach(function(a,A){var s=!0;if(A===0?s=a.reduce(function(l,c){if(Oe(c))switch(c.value){case"center":return i.push(K1),!1;case"top":case"left":return i.push(Gt),!1;case"right":case"bottom":return i.push(ci),!1}else if(xt(c)||Ri(c))return i.push(c),!1;return l},s):A===1&&(s=a.reduce(function(l,c){if(Oe(c))switch(c.value){case EQ:return n=0,!1;case FQ:return n=1,!1;case SQ:case xQ:return r=0,!1;case BQ:return r=1,!1;case CQ:return r=2,!1;case IQ:case bQ:return r=3,!1}else if(Ri(c)||xt(c))return Array.isArray(r)||(r=[]),r.push(c),!1;return l},s)),s){var u=Lh(e,a);o.push(u)}}),{size:r,shape:n,stops:o,position:i,type:2}},m9=function(e){return e.type===1},v9=function(e){return e.type===2},W1={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=UQ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function y9(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!UQ[e.name])}var UQ={"linear-gradient":h9,"-moz-linear-gradient":wc,"-ms-linear-gradient":wc,"-o-linear-gradient":wc,"-webkit-linear-gradient":wc,"radial-gradient":g9,"-moz-radial-gradient":xc,"-ms-radial-gradient":xc,"-o-radial-gradient":xc,"-webkit-radial-gradient":xc,"-webkit-gradient":p9},w9={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return zA(r)&&y9(r)}).map(function(r){return W1.parse(e,r)})}},x9={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Oe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},B9={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return go(t).map(function(n){return n.filter(xt)}).map(hQ)}},C9={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return go(t).map(function(n){return n.filter(Oe).map(function(r){return r.value}).join(" ")}).map(b9)}},b9=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},kA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(kA||(kA={}));var E9={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return go(t).map(function(n){return n.filter(F9)})}},F9=function(e){return Oe(e)||xt(e)},Hh=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},I9=Hh("top"),S9=Hh("right"),U9=Hh("bottom"),Q9=Hh("left"),Oh=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return hQ(n.filter(xt))}}},T9=Oh("top-left"),k9=Oh("top-right"),_9=Oh("bottom-right"),R9=Oh("bottom-left"),jh=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},D9=jh("top"),N9=jh("right"),M9=jh("bottom"),P9=jh("left"),Vh=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return hl(n)?n.number:0}}},L9=Vh("top"),H9=Vh("right"),O9=Vh("bottom"),j9=Vh("left"),V9={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},K9={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},W9={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Oe).reduce(function(n,r){return n|G9(r.value)},0)}},G9=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},z9={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$9={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},sf;(function(e){e.NORMAL="normal",e.STRICT="strict"})(sf||(sf={}));var X9={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return sf.STRICT;case"normal":default:return sf.NORMAL}}},Y9={name:"line-height",initialValue:"normal",prefix:!1,type:4},fb=function(e,t){return Oe(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:xt(e)?Ke(e,t):t},q9={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:W1.parse(e,t)}},J9={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Lv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Kh=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Z9=Kh("top"),eX=Kh("right"),tX=Kh("bottom"),nX=Kh("left"),rX={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Oe).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},oX={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wh=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},iX=Wh("top"),aX=Wh("right"),AX=Wh("bottom"),sX=Wh("left"),uX={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lX={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cX={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pv(t[0],"none")?[]:go(t).map(function(n){for(var r={color:ko.TRANSPARENT,offsetX:Gt,offsetY:Gt,blur:Gt},o=0,i=0;i<n.length;i++){var a=n[i];Ri(a)?(o===0?r.offsetX=a:o===1?r.offsetY=a:r.blur=a,o++):r.color=Fi.parse(e,a)}return r})}},dX={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fX={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=gX[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},hX=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},pX=function(e){var t=e.filter(function(s){return s.type===17}).map(function(s){return s.number}),n=t[0],r=t[1];t[2],t[3];var o=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],A=t[13];return t[14],t[15],t.length===16?[n,r,o,i,a,A]:null},gX={matrix:hX,matrix3d:pX},hb={type:16,number:50,flags:fl},mX=[hb,hb],vX={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(xt);return n.length!==2?mX:[n[0],n[1]]}},yX={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},iu;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(iu||(iu={}));var wX={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return iu.BREAK_ALL;case"keep-all":return iu.KEEP_ALL;case"normal":default:return iu.NORMAL}}},xX={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(os(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},QQ={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},BX={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return os(t)?t.number:1}},CX={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},bX={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Oe).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},EX={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(o){switch(o.type){case 20:case 0:n.push(o.value);break;case 17:n.push(o.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},FX={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},IX={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(os(t))return t.number;if(Oe(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},SX={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Oe).map(function(n){return n.value})}},UX={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ft=function(e,t){return(e&t)!==0},QX={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},TX={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],o=t.filter(fQ),i=0;i<o.length;i++){var a=o[i],A=o[i+1];if(a.type===20){var s=A&&os(A)?A.number:1;r.push({counter:a.value,increment:s})}}return r}},kX={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(fQ),o=0;o<r.length;o++){var i=r[o],a=r[o+1];if(Oe(i)&&i.value!=="none"){var A=a&&os(a)?a.number:0;n.push({counter:i.value,reset:A})}}return n}},_X={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(hl).map(function(n){return QQ.parse(e,n)})}},RX={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],o=t.filter(a9);if(o.length%2!==0)return null;for(var i=0;i<o.length;i+=2){var a=o[i].value,A=o[i+1].value;r.push({open:a,close:A})}return r}},pb=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},DX={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pv(t[0],"none")?[]:go(t).map(function(n){for(var r={color:255,offsetX:Gt,offsetY:Gt,blur:Gt,spread:Gt,inset:!1},o=0,i=0;i<n.length;i++){var a=n[i];Pv(a,"inset")?r.inset=!0:Ri(a)?(o===0?r.offsetX=a:o===1?r.offsetY=a:o===2?r.blur=a:r.spread=a,o++):r.color=Fi.parse(e,a)}return r})}},NX={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Oe).forEach(function(o){switch(o.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(o){r.indexOf(o)===-1&&r.push(o)}),r}},MX={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},PX={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return hl(t)?t.number:0}},LX=function(){function e(t,n){var r,o;this.animationDuration=te(t,_X,n.animationDuration),this.backgroundClip=te(t,u9,n.backgroundClip),this.backgroundColor=te(t,l9,n.backgroundColor),this.backgroundImage=te(t,w9,n.backgroundImage),this.backgroundOrigin=te(t,x9,n.backgroundOrigin),this.backgroundPosition=te(t,B9,n.backgroundPosition),this.backgroundRepeat=te(t,C9,n.backgroundRepeat),this.backgroundSize=te(t,E9,n.backgroundSize),this.borderTopColor=te(t,I9,n.borderTopColor),this.borderRightColor=te(t,S9,n.borderRightColor),this.borderBottomColor=te(t,U9,n.borderBottomColor),this.borderLeftColor=te(t,Q9,n.borderLeftColor),this.borderTopLeftRadius=te(t,T9,n.borderTopLeftRadius),this.borderTopRightRadius=te(t,k9,n.borderTopRightRadius),this.borderBottomRightRadius=te(t,_9,n.borderBottomRightRadius),this.borderBottomLeftRadius=te(t,R9,n.borderBottomLeftRadius),this.borderTopStyle=te(t,D9,n.borderTopStyle),this.borderRightStyle=te(t,N9,n.borderRightStyle),this.borderBottomStyle=te(t,M9,n.borderBottomStyle),this.borderLeftStyle=te(t,P9,n.borderLeftStyle),this.borderTopWidth=te(t,L9,n.borderTopWidth),this.borderRightWidth=te(t,H9,n.borderRightWidth),this.borderBottomWidth=te(t,O9,n.borderBottomWidth),this.borderLeftWidth=te(t,j9,n.borderLeftWidth),this.boxShadow=te(t,DX,n.boxShadow),this.color=te(t,V9,n.color),this.direction=te(t,K9,n.direction),this.display=te(t,W9,n.display),this.float=te(t,z9,n.cssFloat),this.fontFamily=te(t,EX,n.fontFamily),this.fontSize=te(t,FX,n.fontSize),this.fontStyle=te(t,UX,n.fontStyle),this.fontVariant=te(t,SX,n.fontVariant),this.fontWeight=te(t,IX,n.fontWeight),this.letterSpacing=te(t,$9,n.letterSpacing),this.lineBreak=te(t,X9,n.lineBreak),this.lineHeight=te(t,Y9,n.lineHeight),this.listStyleImage=te(t,q9,n.listStyleImage),this.listStylePosition=te(t,J9,n.listStylePosition),this.listStyleType=te(t,Lv,n.listStyleType),this.marginTop=te(t,Z9,n.marginTop),this.marginRight=te(t,eX,n.marginRight),this.marginBottom=te(t,tX,n.marginBottom),this.marginLeft=te(t,nX,n.marginLeft),this.opacity=te(t,BX,n.opacity);var i=te(t,rX,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=te(t,oX,n.overflowWrap),this.paddingTop=te(t,iX,n.paddingTop),this.paddingRight=te(t,aX,n.paddingRight),this.paddingBottom=te(t,AX,n.paddingBottom),this.paddingLeft=te(t,sX,n.paddingLeft),this.paintOrder=te(t,NX,n.paintOrder),this.position=te(t,lX,n.position),this.textAlign=te(t,uX,n.textAlign),this.textDecorationColor=te(t,CX,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=te(t,bX,(o=n.textDecorationLine)!==null&&o!==void 0?o:n.textDecoration),this.textShadow=te(t,cX,n.textShadow),this.textTransform=te(t,dX,n.textTransform),this.transform=te(t,fX,n.transform),this.transformOrigin=te(t,vX,n.transformOrigin),this.visibility=te(t,yX,n.visibility),this.webkitTextStrokeColor=te(t,MX,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=te(t,PX,n.webkitTextStrokeWidth),this.wordBreak=te(t,wX,n.wordBreak),this.zIndex=te(t,xX,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Ii(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ft(this.display,4)||Ft(this.display,33554432)||Ft(this.display,268435456)||Ft(this.display,536870912)||Ft(this.display,67108864)||Ft(this.display,134217728)},e}(),HX=function(){function e(t,n){this.content=te(t,QX,n.content),this.quotes=te(t,RX,n.quotes)}return e}(),gb=function(){function e(t,n){this.counterIncrement=te(t,TX,n.counterIncrement),this.counterReset=te(t,kX,n.counterReset)}return e}(),te=function(e,t,n){var r=new cQ,o=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(o);var i=new dQ(r.read());switch(t.type){case 2:var a=i.parseComponentValue();return t.parse(e,Oe(a)?a.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Ph.parse(e,i.parseComponentValue());case"color":return Fi.parse(e,i.parseComponentValue());case"image":return W1.parse(e,i.parseComponentValue());case"length":var A=i.parseComponentValue();return Ri(A)?A:Gt;case"length-percentage":var s=i.parseComponentValue();return xt(s)?s:Gt;case"time":return QQ.parse(e,i.parseComponentValue())}break}},OX="data-html2canvas-debug",jX=function(e){var t=e.getAttribute(OX);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Hv=function(e,t){var n=jX(e);return n===1||t===n},mo=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Hv(n,3))debugger;this.styles=new LX(t,window.getComputedStyle(n,null)),Vv(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Nh(this.context,n),Hv(n,4)&&(this.flags|=16)}return e}(),VX="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ms=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bc=0;Bc<mb.length;Bc++)Ms[mb.charCodeAt(Bc)]=Bc;var KX=function(e){var t=e.length*.75,n=e.length,r,o=0,i,a,A,s;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)i=Ms[e.charCodeAt(r)],a=Ms[e.charCodeAt(r+1)],A=Ms[e.charCodeAt(r+2)],s=Ms[e.charCodeAt(r+3)],l[o++]=i<<2|a>>4,l[o++]=(a&15)<<4|A>>2,l[o++]=(A&3)<<6|s&63;return u},WX=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},GX=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},fa=5,G1=6+5,wg=2,zX=G1-fa,TQ=65536>>fa,$X=1<<fa,xg=$X-1,XX=1024>>fa,YX=TQ+XX,qX=YX,JX=32,ZX=qX+JX,eY=65536>>G1,tY=1<<zX,nY=tY-1,vb=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},rY=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},oY=function(e,t){var n=KX(e),r=Array.isArray(n)?GX(n):new Uint32Array(n),o=Array.isArray(n)?WX(n):new Uint16Array(n),i=24,a=vb(o,i/2,r[4]/2),A=r[5]===2?vb(o,(i+r[4])/2):rY(r,Math.ceil((i+r[4])/4));return new iY(r[0],r[1],r[2],r[3],a,A)},iY=function(){function e(t,n,r,o,i,a){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=o,this.index=i,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>fa],n=(n<<wg)+(t&xg),this.data[n];if(t<=65535)return n=this.index[TQ+(t-55296>>fa)],n=(n<<wg)+(t&xg),this.data[n];if(t<this.highStart)return n=ZX-eY+(t>>G1),n=this.index[n],n+=t>>fa&nY,n=this.index[n],n=(n<<wg)+(t&xg),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cc=0;Cc<yb.length;Cc++)aY[yb.charCodeAt(Cc)]=Cc;var AY=1,Bg=2,Cg=3,wb=4,xb=5,sY=7,Bb=8,bg=9,Eg=10,Cb=11,bb=12,Eb=13,Fb=14,Fg=15,uY=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),n--)}else t.push(o)}return t},lY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,i="";++o<n;){var a=e[o];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(o+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},cY=oY(VX),rr="",Ig="",dY=function(e){return cY.get(e)},fY=function(e,t,n){var r=n-2,o=t[r],i=t[n-1],a=t[n];if(i===Bg&&a===Cg)return rr;if(i===Bg||i===Cg||i===wb||a===Bg||a===Cg||a===wb)return Ig;if(i===Bb&&[Bb,bg,Cb,bb].indexOf(a)!==-1||(i===Cb||i===bg)&&(a===bg||a===Eg)||(i===bb||i===Eg)&&a===Eg||a===Eb||a===xb||a===sY||i===AY)return rr;if(i===Eb&&a===Fb){for(;o===xb;)o=t[--r];if(o===Fb)return rr}if(i===Fg&&a===Fg){for(var A=0;o===Fg;)A++,o=t[--r];if(A%2===0)return rr}return Ig},hY=function(e){var t=uY(e),n=t.length,r=0,o=0,i=t.map(dY);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=rr;r<n&&(a=fY(t,i,++r))===rr;);if(a!==rr||r===n){var A=lY.apply(null,t.slice(o,r));return o=r,{value:A,done:!1}}return{done:!0,value:null}}}},pY=function(e){for(var t=hY(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},gY=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var o=n.getBoundingClientRect(),i=Math.round(o.height);if(e.body.removeChild(r),i===t)return!0}}return!1},mY=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,o=Mh(r.data).map(function(s){return ht(s)}),i=0,a={},A=o.every(function(s,u){n.setStart(r,i),n.setEnd(r,i+s.length);var l=n.getBoundingClientRect();i+=s.length;var c=l.x>a.x||l.y>a.y;return a=l,u===0?!0:c});return e.body.removeChild(t),A},vY=function(){return typeof new Image().crossOrigin<"u"},yY=function(){return typeof new XMLHttpRequest().responseType=="string"},wY=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},Ib=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},xY=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var o=new Image,i=t.toDataURL();o.src=i;var a=Ov(n,n,0,0,o);return r.fillStyle="red",r.fillRect(0,0,n,n),Sb(a).then(function(A){r.drawImage(A,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=n+"px",Ib(s)?Sb(Ov(n,n,0,0,u)):Promise.reject(!1)}).then(function(A){return r.drawImage(A,0,0),Ib(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Ov=function(e,t,n,r,o){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",n.toString()),A.setAttributeNS(null,"y",r.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(o),a},Sb=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},jt={get SUPPORT_RANGE_BOUNDS(){var e=gY(document);return Object.defineProperty(jt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=jt.SUPPORT_RANGE_BOUNDS&&mY(document);return Object.defineProperty(jt,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wY(document);return Object.defineProperty(jt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?xY(document):Promise.resolve(!1);return Object.defineProperty(jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vY();return Object.defineProperty(jt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=yY();return Object.defineProperty(jt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jt,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(jt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},au=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),BY=function(e,t,n,r){var o=EY(t,n),i=[],a=0;return o.forEach(function(A){if(n.textDecorationLine.length||A.trim().length>0)if(jt.SUPPORT_RANGE_BOUNDS){var s=Ub(r,a,A.length).getClientRects();if(s.length>1){var u=z1(A),l=0;u.forEach(function(d){i.push(new au(d,Lo.fromDOMRectList(e,Ub(r,l+a,d.length).getClientRects()))),l+=d.length})}else i.push(new au(A,Lo.fromDOMRectList(e,s)))}else{var c=r.splitText(A.length);i.push(new au(A,CY(e,r))),r=c}else jt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(A.length));a+=A.length}),i},CY=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(r,t);var i=Nh(e,r);return r.firstChild&&o.replaceChild(r.firstChild,r),i}}return Lo.EMPTY},Ub=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var o=r.createRange();return o.setStart(e,t),o.setEnd(e,t+n),o},z1=function(e){if(jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return pY(e)},bY=function(e,t){if(jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return IY(e,t)},EY=function(e,t){return t.letterSpacing!==0?z1(e):bY(e,t)},FY=[32,160,4961,65792,65793,4153,4241],IY=function(e,t){for(var n=e7(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],o,i=function(){if(o.value){var a=o.value.slice(),A=Mh(a),s="";A.forEach(function(u){FY.indexOf(u)===-1?s+=ht(u):(s.length&&r.push(s),r.push(ht(u)),s="")}),s.length&&r.push(s)}};!(o=n.next()).done;)i();return r},SY=function(){function e(t,n,r){this.text=UY(n.data,r.textTransform),this.textBounds=BY(t,this.text,r,n)}return e}(),UY=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(QY,TY);case 2:return e.toUpperCase();default:return e}},QY=/(^|\s|:|-|\(|\))([a-z])/g,TY=function(e,t,n){return e.length>0?t+n.toUpperCase():e},kQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.src=r.currentSrc||r.src,o.intrinsicWidth=r.naturalWidth,o.intrinsicHeight=r.naturalHeight,o.context.cache.addImage(o.src),o}return t}(mo),_Q=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.canvas=r,o.intrinsicWidth=r.width,o.intrinsicHeight=r.height,o}return t}(mo),RQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=new XMLSerializer,a=Nh(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),o.intrinsicWidth=r.width.baseVal.value,o.intrinsicHeight=r.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t}(mo),DQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.value=r.value,o}return t}(mo),jv=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.start=r.start,o.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,o}return t}(mo),kY=[{type:15,flags:0,unit:"px",number:3}],_Y=[{type:16,flags:0,number:50}],RY=function(e){return e.width>e.height?new Lo(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Lo(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},DY=function(e){var t=e.type===NY?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},uf="checkbox",lf="radio",NY="password",Qb=707406591,$1=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;switch(o.type=r.type.toLowerCase(),o.checked=r.checked,o.value=DY(r),(o.type===uf||o.type===lf)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=RY(o.bounds)),o.type){case uf:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=kY;break;case lf:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=_Y;break}return o}return t}(mo),NQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return o.value=i&&i.text||"",o}return t}(mo),MQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.value=r.value,o}return t}(mo),PQ=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;o.src=r.src,o.width=parseInt(r.width,10)||0,o.height=parseInt(r.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){o.tree=HQ(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?ou(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ko.TRANSPARENT,a=r.contentWindow.document.body?ou(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ko.TRANSPARENT;o.backgroundColor=Ii(i)?Ii(a)?o.styles.backgroundColor:a:i}}catch{}return o}return t}(mo),MY=["OL","UL","MENU"],qc=function(e,t,n,r){for(var o=t.firstChild,i=void 0;o;o=i)if(i=o.nextSibling,OQ(o)&&o.data.trim().length>0)n.textNodes.push(new SY(e,o,n.styles));else if(hA(o))if(WQ(o)&&o.assignedNodes)o.assignedNodes().forEach(function(A){return qc(e,A,n,r)});else{var a=LQ(e,o);a.styles.isVisible()&&(PY(o,a,r)?a.flags|=4:LY(a.styles)&&(a.flags|=2),MY.indexOf(o.tagName)!==-1&&(a.flags|=8),n.elements.push(a),o.slot,o.shadowRoot?qc(e,o.shadowRoot,a,r):!cf(o)&&!jQ(o)&&!df(o)&&qc(e,o,a,r))}},LQ=function(e,t){return Kv(t)?new kQ(e,t):VQ(t)?new _Q(e,t):jQ(t)?new RQ(e,t):HY(t)?new DQ(e,t):OY(t)?new jv(e,t):jY(t)?new $1(e,t):df(t)?new NQ(e,t):cf(t)?new MQ(e,t):KQ(t)?new PQ(e,t):new mo(e,t)},HQ=function(e,t){var n=LQ(e,t);return n.flags|=4,qc(e,t,n,n),n},PY=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||X1(e)&&n.styles.isTransparent()},LY=function(e){return e.isPositioned()||e.isFloating()},OQ=function(e){return e.nodeType===Node.TEXT_NODE},hA=function(e){return e.nodeType===Node.ELEMENT_NODE},Vv=function(e){return hA(e)&&typeof e.style<"u"&&!Jc(e)},Jc=function(e){return typeof e.className=="object"},HY=function(e){return e.tagName==="LI"},OY=function(e){return e.tagName==="OL"},jY=function(e){return e.tagName==="INPUT"},VY=function(e){return e.tagName==="HTML"},jQ=function(e){return e.tagName==="svg"},X1=function(e){return e.tagName==="BODY"},VQ=function(e){return e.tagName==="CANVAS"},Tb=function(e){return e.tagName==="VIDEO"},Kv=function(e){return e.tagName==="IMG"},KQ=function(e){return e.tagName==="IFRAME"},kb=function(e){return e.tagName==="STYLE"},KY=function(e){return e.tagName==="SCRIPT"},cf=function(e){return e.tagName==="TEXTAREA"},df=function(e){return e.tagName==="SELECT"},WQ=function(e){return e.tagName==="SLOT"},_b=function(e){return e.tagName.indexOf("-")>0},WY=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,o=t.counterReset,i=!0;r!==null&&r.forEach(function(A){var s=n.counters[A.counter];s&&A.increment!==0&&(i=!1,s.length||s.push(1),s[Math.max(0,s.length-1)]+=A.increment)});var a=[];return i&&o.forEach(function(A){var s=n.counters[A.counter];a.push(A.counter),s||(s=n.counters[A.counter]=[]),s.push(A.reset)}),a},e}(),Rb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Db={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Va=function(e,t,n,r,o,i){return e<t||e>n?ju(e,o,i.length>0):r.integers.reduce(function(a,A,s){for(;e>=A;)e-=A,a+=r.values[s];return a},"")+i},GQ=function(e,t,n,r){var o="";do n||e--,o=r(e)+o,e/=t;while(e*t>=t);return o},ft=function(e,t,n,r,o){var i=n-t+1;return(e<0?"-":"")+(GQ(Math.abs(e),i,r,function(a){return ht(Math.floor(a%i)+t)})+o)},Wi=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return GQ(Math.abs(e),r,!1,function(o){return t[Math.floor(o%r)]})+n},Ya=1,qo=2,Jo=4,Ps=8,xo=function(e,t,n,r,o,i){if(e<-9999||e>9999)return ju(e,4,o.length>0);var a=Math.abs(e),A=o;if(a===0)return t[0]+A;for(var s=0;a>0&&s<=4;s++){var u=a%10;u===0&&Ft(i,Ya)&&A!==""?A=t[u]+A:u>1||u===1&&s===0||u===1&&s===1&&Ft(i,qo)||u===1&&s===1&&Ft(i,Jo)&&e>100||u===1&&s>1&&Ft(i,Ps)?A=t[u]+(s>0?n[s-1]:"")+A:u===1&&s>0&&(A=n[s-1]+A),a=Math.floor(a/10)}return(e<0?r:"")+A},Nb="",Mb="",Pb="",Sg="",ju=function(e,t,n){var r=n?". ":"",o=n?"":"",i=n?", ":"",a=n?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=ft(e,48,57,!0,r);return A.length<4?"0"+A:A;case 4:return Wi(e,"",o);case 6:return Va(e,1,3999,Rb,3,r).toLowerCase();case 7:return Va(e,1,3999,Rb,3,r);case 8:return ft(e,945,969,!1,r);case 9:return ft(e,97,122,!1,r);case 10:return ft(e,65,90,!1,r);case 11:return ft(e,1632,1641,!0,r);case 12:case 49:return Va(e,1,9999,Db,3,r);case 35:return Va(e,1,9999,Db,3,r).toLowerCase();case 13:return ft(e,2534,2543,!0,r);case 14:case 30:return ft(e,6112,6121,!0,r);case 15:return Wi(e,"",o);case 16:return Wi(e,"",o);case 17:case 48:return xo(e,"",Nb,"",o,qo|Jo|Ps);case 47:return xo(e,"",Mb,"",o,Ya|qo|Jo|Ps);case 42:return xo(e,"",Nb,"",o,qo|Jo|Ps);case 41:return xo(e,"",Mb,"",o,Ya|qo|Jo|Ps);case 26:return xo(e,"","",Pb,o,0);case 25:return xo(e,"","",Pb,o,Ya|qo|Jo);case 31:return xo(e,"","",Sg,i,Ya|qo|Jo);case 33:return xo(e,"","",Sg,i,0);case 32:return xo(e,"","",Sg,i,Ya|qo|Jo);case 18:return ft(e,2406,2415,!0,r);case 20:return Va(e,1,19999,zY,3,r);case 21:return ft(e,2790,2799,!0,r);case 22:return ft(e,2662,2671,!0,r);case 22:return Va(e,1,10999,GY,3,r);case 23:return Wi(e,"");case 24:return Wi(e,"");case 27:return ft(e,3302,3311,!0,r);case 28:return Wi(e,"",o);case 29:return Wi(e,"",o);case 34:return ft(e,3792,3801,!0,r);case 37:return ft(e,6160,6169,!0,r);case 38:return ft(e,4160,4169,!0,r);case 39:return ft(e,2918,2927,!0,r);case 40:return ft(e,1776,1785,!0,r);case 43:return ft(e,3046,3055,!0,r);case 44:return ft(e,3174,3183,!0,r);case 45:return ft(e,3664,3673,!0,r);case 46:return ft(e,3872,3881,!0,r);case 3:default:return ft(e,48,57,!0,r)}},zQ="data-html2canvas-ignore",Lb=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new WY,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,o=$Y(t,n);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,A=o.contentWindow,s=A.document,u=qY(o).then(function(){return fn(r,void 0,void 0,function(){var l,c;return Zt(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(tq),A&&(A.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==n.top||A.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-n.left,A.scrollY-n.top,0,0))),l=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,YY(s)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(s,c)}).then(function(){return o})]:[2,o]}})})});return s.open(),s.write(ZY(document.doctype)+"<html></html>"),eq(this.referenceElement.ownerDocument,i,a),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),u},e.prototype.createElementClone=function(t){if(Hv(t,2))debugger;if(VQ(t))return this.createCanvasClone(t);if(Tb(t))return this.createVideoClone(t);if(kb(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Kv(n)&&(Kv(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),_b(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Ug(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),o=t.cloneNode(!1);return o.textContent=r,o}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var i=t.getContext("2d"),a=o.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var A=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(A){var s=A.getContextAttributes();(s==null?void 0:s.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},e.prototype.appendChildNode=function(t,n,r){(!hA(n)||!KY(n)&&!n.hasAttribute(zQ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!hA(n)||!kb(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var o=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(hA(i)&&WQ(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return o.appendChildNode(n,A,r)})}else this.appendChildNode(n,i,r)},e.prototype.cloneNode=function(t,n){if(OQ(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&hA(t)&&(Vv(t)||Jc(t))){var o=this.createElementClone(t);o.style.transitionProperty="none";var i=r.getComputedStyle(t),a=r.getComputedStyle(t,":before"),A=r.getComputedStyle(t,":after");this.referenceElement===t&&Vv(o)&&(this.clonedReferenceElement=o),X1(o)&&oq(o);var s=this.counters.parse(new gb(this.context,i)),u=this.resolvePseudoContent(t,o,a,Au.BEFORE);_b(t)&&(n=!0),Tb(t)||this.cloneChildNodes(t,o,n),u&&o.insertBefore(u,o.firstChild);var l=this.resolvePseudoContent(t,o,A,Au.AFTER);return l&&o.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||Jc(t))&&!KQ(t)||n)&&Ug(i,o),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([o,t.scrollLeft,t.scrollTop]),(cf(t)||df(t))&&(cf(o)||df(o))&&(o.value=t.value),o}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,o){var i=this;if(r){var a=r.content,A=n.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new gb(this.context,r));var s=new HX(this.context,r),u=A.createElement("html2canvaspseudoelement");Ug(r,u),s.content.forEach(function(c){if(c.type===0)u.appendChild(A.createTextNode(c.value));else if(c.type===22){var d=A.createElement("img");d.src=c.value,d.style.opacity="1",u.appendChild(d)}else if(c.type===18){if(c.name==="attr"){var f=c.values.filter(Oe);f.length&&u.appendChild(A.createTextNode(t.getAttribute(f[0].value)||""))}else if(c.name==="counter"){var h=c.values.filter(zA),p=h[0],y=h[1];if(p&&Oe(p)){var g=i.counters.getCounterValue(p.value),v=y&&Oe(y)?Lv.parse(i.context,y.value):3;u.appendChild(A.createTextNode(ju(g,v,!1)))}}else if(c.name==="counters"){var w=c.values.filter(zA),p=w[0],x=w[1],y=w[2];if(p&&Oe(p)){var B=i.counters.getCounterValues(p.value),C=y&&Oe(y)?Lv.parse(i.context,y.value):3,b=x&&x.type===0?x.value:"",E=B.map(function(T){return ju(T,C,!1)}).join(b);u.appendChild(A.createTextNode(E))}}}else if(c.type===20)switch(c.value){case"open-quote":u.appendChild(A.createTextNode(pb(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(A.createTextNode(pb(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(A.createTextNode(c.value))}}),u.className=Wv+" "+Gv;var l=o===Au.BEFORE?" "+Wv:" "+Gv;return Jc(n)?n.className.baseValue+=l:n.className+=l,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Au;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Au||(Au={}));var $Y=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(zQ,"true"),e.body.appendChild(n),n},XY=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},YY=function(e){return Promise.all([].slice.call(e.images,0).map(XY))},qY=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var o=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},JY=["all","d","content"],Ug=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);JY.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},ZY=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},eq=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},tq=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},nq=":before",rq=":after",Wv="___html2canvas___pseudoelement_before",Gv="___html2canvas___pseudoelement_after",Hb=`{
    content: "" !important;
    display: none !important;
}`,oq=function(e){iq(e,"."+Wv+nq+Hb+`
         .`+Gv+rq+Hb)},iq=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},$Q=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),aq=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Tg(t)||lq(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return fn(this,void 0,void 0,function(){var n,r,o,i,a=this;return Zt(this,function(A){switch(A.label){case 0:return n=$Q.isSameOrigin(t),r=!Qg(t)&&this._options.useCORS===!0&&jt.SUPPORT_CORS_IMAGES&&!n,o=!Qg(t)&&!n&&!Tg(t)&&typeof this._options.proxy=="string"&&jt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Qg(t)&&!Tg(t)&&!o&&!r?[2]:(i=t,o?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(s,u){var l=new Image;l.onload=function(){return s(l)},l.onerror=u,(cq(i)||r)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return s(l)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var o=t.substring(0,256);return new Promise(function(i,a){var A=jt.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(s.status===200)if(A==="text")i(s.response);else{var c=new FileReader;c.addEventListener("load",function(){return i(c.result)},!1),c.addEventListener("error",function(d){return a(d)},!1),c.readAsDataURL(s.response)}else a("Failed to proxy resource "+o+" with status code "+s.status)},s.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(s.open("GET",""+r+u+"url="+encodeURIComponent(t)+"&responseType="+A),A!=="text"&&s instanceof XMLHttpRequest&&(s.responseType=A),n._options.imageTimeout){var l=n._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+o)}}s.send()})},e}(),Aq=/^data:image\/svg\+xml/i,sq=/^data:image\/.*;base64,/i,uq=/^data:image\/.*/i,lq=function(e){return jt.SUPPORT_SVG_DRAWING||!dq(e)},Qg=function(e){return uq.test(e)},cq=function(e){return sq.test(e)},Tg=function(e){return e.substr(0,4)==="blob"},dq=function(e){return e.substr(-3).toLowerCase()==="svg"||Aq.test(e)},J=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ka=function(e,t,n){return new J(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},bc=function(){function e(t,n,r,o){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=o}return e.prototype.subdivide=function(t,n){var r=Ka(this.start,this.startControl,t),o=Ka(this.startControl,this.endControl,t),i=Ka(this.endControl,this.end,t),a=Ka(r,o,t),A=Ka(o,i,t),s=Ka(a,A,t);return n?new e(this.start,r,a,s):new e(s,A,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),cr=function(e){return e.type===1},fq=function(){function e(t){var n=t.styles,r=t.bounds,o=Ns(n.borderTopLeftRadius,r.width,r.height),i=o[0],a=o[1],A=Ns(n.borderTopRightRadius,r.width,r.height),s=A[0],u=A[1],l=Ns(n.borderBottomRightRadius,r.width,r.height),c=l[0],d=l[1],f=Ns(n.borderBottomLeftRadius,r.width,r.height),h=f[0],p=f[1],y=[];y.push((i+s)/r.width),y.push((h+c)/r.width),y.push((a+p)/r.height),y.push((u+d)/r.height);var g=Math.max.apply(Math,y);g>1&&(i/=g,a/=g,s/=g,u/=g,c/=g,d/=g,h/=g,p/=g);var v=r.width-s,w=r.height-d,x=r.width-c,B=r.height-p,C=n.borderTopWidth,b=n.borderRightWidth,E=n.borderBottomWidth,F=n.borderLeftWidth,I=Ke(n.paddingTop,t.bounds.width),T=Ke(n.paddingRight,t.bounds.width),Q=Ke(n.paddingBottom,t.bounds.width),N=Ke(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Je(r.left+F/3,r.top+C/3,i-F/3,a-C/3,De.TOP_LEFT):new J(r.left+F/3,r.top+C/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Je(r.left+v,r.top+C/3,s-b/3,u-C/3,De.TOP_RIGHT):new J(r.left+r.width-b/3,r.top+C/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?Je(r.left+x,r.top+w,c-b/3,d-E/3,De.BOTTOM_RIGHT):new J(r.left+r.width-b/3,r.top+r.height-E/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Je(r.left+F/3,r.top+B,h-F/3,p-E/3,De.BOTTOM_LEFT):new J(r.left+F/3,r.top+r.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Je(r.left+F*2/3,r.top+C*2/3,i-F*2/3,a-C*2/3,De.TOP_LEFT):new J(r.left+F*2/3,r.top+C*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Je(r.left+v,r.top+C*2/3,s-b*2/3,u-C*2/3,De.TOP_RIGHT):new J(r.left+r.width-b*2/3,r.top+C*2/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?Je(r.left+x,r.top+w,c-b*2/3,d-E*2/3,De.BOTTOM_RIGHT):new J(r.left+r.width-b*2/3,r.top+r.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Je(r.left+F*2/3,r.top+B,h-F*2/3,p-E*2/3,De.BOTTOM_LEFT):new J(r.left+F*2/3,r.top+r.height-E*2/3),this.topLeftBorderStroke=i>0||a>0?Je(r.left+F/2,r.top+C/2,i-F/2,a-C/2,De.TOP_LEFT):new J(r.left+F/2,r.top+C/2),this.topRightBorderStroke=i>0||a>0?Je(r.left+v,r.top+C/2,s-b/2,u-C/2,De.TOP_RIGHT):new J(r.left+r.width-b/2,r.top+C/2),this.bottomRightBorderStroke=c>0||d>0?Je(r.left+x,r.top+w,c-b/2,d-E/2,De.BOTTOM_RIGHT):new J(r.left+r.width-b/2,r.top+r.height-E/2),this.bottomLeftBorderStroke=h>0||p>0?Je(r.left+F/2,r.top+B,h-F/2,p-E/2,De.BOTTOM_LEFT):new J(r.left+F/2,r.top+r.height-E/2),this.topLeftBorderBox=i>0||a>0?Je(r.left,r.top,i,a,De.TOP_LEFT):new J(r.left,r.top),this.topRightBorderBox=s>0||u>0?Je(r.left+v,r.top,s,u,De.TOP_RIGHT):new J(r.left+r.width,r.top),this.bottomRightBorderBox=c>0||d>0?Je(r.left+x,r.top+w,c,d,De.BOTTOM_RIGHT):new J(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||p>0?Je(r.left,r.top+B,h,p,De.BOTTOM_LEFT):new J(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||a>0?Je(r.left+F,r.top+C,Math.max(0,i-F),Math.max(0,a-C),De.TOP_LEFT):new J(r.left+F,r.top+C),this.topRightPaddingBox=s>0||u>0?Je(r.left+Math.min(v,r.width-b),r.top+C,v>r.width+b?0:Math.max(0,s-b),Math.max(0,u-C),De.TOP_RIGHT):new J(r.left+r.width-b,r.top+C),this.bottomRightPaddingBox=c>0||d>0?Je(r.left+Math.min(x,r.width-F),r.top+Math.min(w,r.height-E),Math.max(0,c-b),Math.max(0,d-E),De.BOTTOM_RIGHT):new J(r.left+r.width-b,r.top+r.height-E),this.bottomLeftPaddingBox=h>0||p>0?Je(r.left+F,r.top+Math.min(B,r.height-E),Math.max(0,h-F),Math.max(0,p-E),De.BOTTOM_LEFT):new J(r.left+F,r.top+r.height-E),this.topLeftContentBox=i>0||a>0?Je(r.left+F+N,r.top+C+I,Math.max(0,i-(F+N)),Math.max(0,a-(C+I)),De.TOP_LEFT):new J(r.left+F+N,r.top+C+I),this.topRightContentBox=s>0||u>0?Je(r.left+Math.min(v,r.width+F+N),r.top+C+I,v>r.width+F+N?0:s-F+N,u-(C+I),De.TOP_RIGHT):new J(r.left+r.width-(b+T),r.top+C+I),this.bottomRightContentBox=c>0||d>0?Je(r.left+Math.min(x,r.width-(F+N)),r.top+Math.min(w,r.height+C+I),Math.max(0,c-(b+T)),d-(E+Q),De.BOTTOM_RIGHT):new J(r.left+r.width-(b+T),r.top+r.height-(E+Q)),this.bottomLeftContentBox=h>0||p>0?Je(r.left+F+N,r.top+B,Math.max(0,h-(F+N)),p-(E+Q),De.BOTTOM_LEFT):new J(r.left+F+N,r.top+r.height-(E+Q))}return e}(),De;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(De||(De={}));var Je=function(e,t,n,r,o){var i=4*((Math.sqrt(2)-1)/3),a=n*i,A=r*i,s=e+n,u=t+r;switch(o){case De.TOP_LEFT:return new bc(new J(e,u),new J(e,u-A),new J(s-a,t),new J(s,t));case De.TOP_RIGHT:return new bc(new J(e,t),new J(e+a,t),new J(s,u-A),new J(s,u));case De.BOTTOM_RIGHT:return new bc(new J(s,t),new J(s,t+A),new J(e+a,u),new J(e,u));case De.BOTTOM_LEFT:default:return new bc(new J(s,u),new J(s-a,u),new J(e,t+A),new J(e,t))}},ff=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},hq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},hf=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},pq=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),Ec=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),gq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),mq=function(e){return e.type===0},XQ=function(e){return e.type===1},vq=function(e){return e.type===2},Ob=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},yq=function(e,t,n,r,o){return e.map(function(i,a){switch(a){case 0:return i.add(t,n);case 1:return i.add(t+r,n);case 2:return i.add(t+r,n+o);case 3:return i.add(t,n+o)}return i})},YQ=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),qQ=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new fq(this.container),this.container.styles.opacity<1&&this.effects.push(new gq(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new pq(r,o,i))}if(this.container.styles.overflowX!==0){var a=ff(this.curves),A=hf(this.curves);Ob(a,A)?this.effects.push(new Ec(a,6)):(this.effects.push(new Ec(a,2)),this.effects.push(new Ec(A,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,o=this.effects.slice(0);r;){var i=r.effects.filter(function(s){return!XQ(s)});if(n||r.container.styles.position!==0||!r.parent){if(o.unshift.apply(o,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=ff(r.curves),A=hf(r.curves);Ob(a,A)||o.unshift(new Ec(A,6))}}else o.unshift.apply(o,i);r=r.parent}return o.filter(function(s){return Ft(s.target,t)})},e}(),zv=function(e,t,n,r){e.container.elements.forEach(function(o){var i=Ft(o.flags,4),a=Ft(o.flags,2),A=new qQ(o,e);Ft(o.styles.display,2048)&&r.push(A);var s=Ft(o.flags,8)?[]:r;if(i||a){var u=i||o.styles.isPositioned()?n:t,l=new YQ(A);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var c=o.styles.zIndex.order;if(c<0){var d=0;u.negativeZIndex.some(function(h,p){return c>h.element.container.styles.zIndex.order?(d=p,!1):d>0}),u.negativeZIndex.splice(d,0,l)}else if(c>0){var f=0;u.positiveZIndex.some(function(h,p){return c>=h.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),u.positiveZIndex.splice(f,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else o.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);zv(A,l,i?l:n,s)}else o.styles.isInlineLevel()?t.inlineLevel.push(A):t.nonInlineLevel.push(A),zv(A,t,n,s);Ft(o.flags,8)&&JQ(o,s)})},JQ=function(e,t){for(var n=e instanceof jv?e.start:1,r=e instanceof jv?e.reversed:!1,o=0;o<t.length;o++){var i=t[o];i.container instanceof DQ&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=ju(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},wq=function(e){var t=new qQ(e,null),n=new YQ(t),r=[];return zv(t,n,n,r),JQ(t.container,r),n},jb=function(e,t){switch(t){case 0:return gr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return gr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return gr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return gr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},xq=function(e,t){switch(t){case 0:return gr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return gr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return gr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return gr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Bq=function(e,t){switch(t){case 0:return gr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return gr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return gr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return gr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Cq=function(e,t){switch(t){case 0:return Fc(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Fc(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Fc(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Fc(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Fc=function(e,t){var n=[];return cr(e)?n.push(e.subdivide(.5,!1)):n.push(e),cr(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},gr=function(e,t,n,r){var o=[];return cr(e)?o.push(e.subdivide(.5,!1)):o.push(e),cr(n)?o.push(n.subdivide(.5,!0)):o.push(n),cr(r)?o.push(r.subdivide(.5,!0).reverse()):o.push(r),cr(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},ZQ=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},pf=function(e){var t=e.styles,n=e.bounds,r=Ke(t.paddingLeft,n.width),o=Ke(t.paddingRight,n.width),i=Ke(t.paddingTop,n.width),a=Ke(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+o),-(t.borderTopWidth+t.borderBottomWidth+i+a))},bq=function(e,t){return e===0?t.bounds:e===2?pf(t):ZQ(t)},Eq=function(e,t){return e===0?t.bounds:e===2?pf(t):ZQ(t)},kg=function(e,t,n){var r=bq(qa(e.styles.backgroundOrigin,t),e),o=Eq(qa(e.styles.backgroundClip,t),e),i=Fq(qa(e.styles.backgroundSize,t),n,r),a=i[0],A=i[1],s=Ns(qa(e.styles.backgroundPosition,t),r.width-a,r.height-A),u=Iq(qa(e.styles.backgroundRepeat,t),s,i,r,o),l=Math.round(r.left+s[0]),c=Math.round(r.top+s[1]);return[u,l,c,a,A]},Wa=function(e){return Oe(e)&&e.value===kA.AUTO},Ic=function(e){return typeof e=="number"},Fq=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=e[0],A=e[1];if(!a)return[0,0];if(xt(a)&&A&&xt(A))return[Ke(a,n.width),Ke(A,n.height)];var s=Ic(i);if(Oe(a)&&(a.value===kA.CONTAIN||a.value===kA.COVER)){if(Ic(i)){var u=n.width/n.height;return u<i!=(a.value===kA.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var l=Ic(r),c=Ic(o),d=l||c;if(Wa(a)&&(!A||Wa(A))){if(l&&c)return[r,o];if(!s&&!d)return[n.width,n.height];if(d&&s){var f=l?r:o*i,h=c?o:r/i;return[f,h]}var p=l?r:n.width,y=c?o:n.height;return[p,y]}if(s){var g=0,v=0;return xt(a)?g=Ke(a,n.width):xt(A)&&(v=Ke(A,n.height)),Wa(a)?g=v*i:(!A||Wa(A))&&(v=g/i),[g,v]}var w=null,x=null;if(xt(a)?w=Ke(a,n.width):A&&xt(A)&&(x=Ke(A,n.height)),w!==null&&(!A||Wa(A))&&(x=l&&c?w/r*o:n.height),x!==null&&Wa(a)&&(w=l&&c?x/o*r:n.width),w!==null&&x!==null)return[w,x];throw new Error("Unable to calculate background-size for element")},qa=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Iq=function(e,t,n,r,o){var i=t[0],a=t[1],A=n[0],s=n[1];switch(e){case 2:return[new J(Math.round(r.left),Math.round(r.top+a)),new J(Math.round(r.left+r.width),Math.round(r.top+a)),new J(Math.round(r.left+r.width),Math.round(s+r.top+a)),new J(Math.round(r.left),Math.round(s+r.top+a))];case 3:return[new J(Math.round(r.left+i),Math.round(r.top)),new J(Math.round(r.left+i+A),Math.round(r.top)),new J(Math.round(r.left+i+A),Math.round(r.height+r.top)),new J(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new J(Math.round(r.left+i),Math.round(r.top+a)),new J(Math.round(r.left+i+A),Math.round(r.top+a)),new J(Math.round(r.left+i+A),Math.round(r.top+a+s)),new J(Math.round(r.left+i),Math.round(r.top+a+s))];default:return[new J(Math.round(o.left),Math.round(o.top)),new J(Math.round(o.left+o.width),Math.round(o.top)),new J(Math.round(o.left+o.width),Math.round(o.height+o.top)),new J(Math.round(o.left),Math.round(o.height+o.top))]}},Sq="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Vb="Hidden Text",Uq=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),o=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),o.src=Sq,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Vb)),r.appendChild(i),r.appendChild(o);var A=o.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Vb)),r.style.lineHeight="normal",o.style.verticalAlign="super";var s=o.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:A,middle:s}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),eT=function(){function e(t,n){this.context=t,this.options=n}return e}(),Qq=1e4,Tq=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o._activeEffects=[],o.canvas=r.canvas?r.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),r.canvas||(o.canvas.width=Math.floor(r.width*r.scale),o.canvas.height=Math.floor(r.height*r.scale),o.canvas.style.width=r.width+"px",o.canvas.style.height=r.height+"px"),o.fontMetrics=new Uq(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-r.x,-r.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),o}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(o){return r.applyEffect(o)})},t.prototype.applyEffect=function(n){this.ctx.save(),vq(n)&&(this.ctx.globalAlpha=n.opacity),mq(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),XQ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return fn(this,void 0,void 0,function(){var r;return Zt(this,function(o){switch(o.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return fn(this,void 0,void 0,function(){return Zt(this,function(r){switch(r.label){case 0:if(Ft(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,o){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+o);else{var a=z1(n.text);a.reduce(function(A,s){return i.ctx.fillText(s,A,n.bounds.top+o),A+i.ctx.measureText(s).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),o=Nq(n.fontFamily).join(", "),i=hl(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,o].join(" "),o,i]},t.prototype.renderTextNode=function(n,r){return fn(this,void 0,void 0,function(){var o,i,a,A,s,u,l,c,d=this;return Zt(this,function(f){return o=this.createFontStyle(r),i=o[0],a=o[1],A=o[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(a,A),u=s.baseline,l=s.middle,c=r.paintOrder,n.textBounds.forEach(function(h){c.forEach(function(p){switch(p){case 0:d.ctx.fillStyle=_t(r.color),d.renderTextWithLetterSpacing(h,r.letterSpacing,u);var y=r.textShadow;y.length&&h.text.trim().length&&(y.slice(0).reverse().forEach(function(g){d.ctx.shadowColor=_t(g.color),d.ctx.shadowOffsetX=g.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=g.offsetY.number*d.options.scale,d.ctx.shadowBlur=g.blur.number,d.renderTextWithLetterSpacing(h,r.letterSpacing,u)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=_t(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+u),h.bounds.width,1);break;case 2:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:d.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+l),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(d.ctx.strokeStyle=_t(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,o){if(o&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=pf(n),a=hf(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return fn(this,void 0,void 0,function(){var r,o,i,a,A,s,v,v,u,l,c,d,x,f,h,B,p,y,g,v,w,x,B;return Zt(this,function(C){switch(C.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,o=n.curves,i=r.styles,a=0,A=r.textNodes,C.label=1;case 1:return a<A.length?(s=A[a],[4,this.renderTextNode(s,i)]):[3,4];case 2:C.sent(),C.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof kQ))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=C.sent(),this.renderReplacedElement(r,o,v),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof _Q&&this.renderReplacedElement(r,o,r.canvas),!(r instanceof RQ))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=C.sent(),this.renderReplacedElement(r,o,v),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof PQ&&r.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:l=C.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),C.label=14;case 14:if(r instanceof $1&&(c=Math.min(r.bounds.width,r.bounds.height),r.type===uf?r.checked&&(this.ctx.save(),this.path([new J(r.bounds.left+c*.39363,r.bounds.top+c*.79),new J(r.bounds.left+c*.16,r.bounds.top+c*.5549),new J(r.bounds.left+c*.27347,r.bounds.top+c*.44071),new J(r.bounds.left+c*.39694,r.bounds.top+c*.5649),new J(r.bounds.left+c*.72983,r.bounds.top+c*.23),new J(r.bounds.left+c*.84,r.bounds.top+c*.34085),new J(r.bounds.left+c*.39363,r.bounds.top+c*.79)]),this.ctx.fillStyle=_t(Qb),this.ctx.fill(),this.ctx.restore()):r.type===lf&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+c/2,r.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=_t(Qb),this.ctx.fill(),this.ctx.restore())),kq(r)&&r.value.length){switch(d=this.createFontStyle(i),x=d[0],f=d[1],h=this.fontMetrics.getMetrics(x,f).baseline,this.ctx.font=x,this.ctx.fillStyle=_t(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rq(r.styles.textAlign),B=pf(r),p=0,r.styles.textAlign){case 1:p+=B.width/2;break;case 2:p+=B.width;break}y=B.add(p,0,0,-B.height/2+1),this.ctx.save(),this.path([new J(B.left,B.top),new J(B.left+B.width,B.top),new J(B.left+B.width,B.top+B.height),new J(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new au(r.value,y),i.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ft(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,w=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=C.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(x=this.createFontStyle(i)[0],this.ctx.font=x,this.ctx.fillStyle=_t(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new Lo(r.bounds.left,r.bounds.top+Ke(r.styles.paddingTop,r.bounds.width),r.bounds.width,fb(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new au(n.listValue,B),i.letterSpacing,fb(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return fn(this,void 0,void 0,function(){var r,o,g,i,a,g,A,s,g,u,l,g,c,d,g,f,h,g,p,y,g;return Zt(this,function(v){switch(v.label){case 0:if(Ft(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,o=n.negativeZIndex,v.label=2;case 2:return r<o.length?(g=o[r],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,a=n.nonInlineLevel,v.label=7;case 7:return i<a.length?(g=a[i],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:A=0,s=n.nonPositionedFloats,v.label=11;case 11:return A<s.length?(g=s[A],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return A++,[3,11];case 14:u=0,l=n.nonPositionedInlineLevel,v.label=15;case 15:return u<l.length?(g=l[u],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return u++,[3,15];case 18:c=0,d=n.inlineLevel,v.label=19;case 19:return c<d.length?(g=d[c],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return c++,[3,19];case 22:f=0,h=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return f<h.length?(g=h[f],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return f++,[3,23];case 26:p=0,y=n.positiveZIndex,v.label=27;case 27:return p<y.length?(g=y[p],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(o,i){var a=cr(o)?o.start:o;i===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),cr(o)&&r.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},t.prototype.renderRepeat=function(n,r,o,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(o,i),this.ctx.fill(),this.ctx.translate(-o,-i)},t.prototype.resizeImage=function(n,r,o){var i;if(n.width===r&&n.height===o)return n;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,r),A.height=Math.max(1,o);var s=A.getContext("2d");return s.drawImage(n,0,0,n.width,n.height,0,0,r,o),A},t.prototype.renderBackgroundImage=function(n){return fn(this,void 0,void 0,function(){var r,o,i,a,A,s;return Zt(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,o=function(l){var c,d,f,I,L,j,N,M,E,h,I,L,j,N,M,p,y,g,v,w,x,B,C,b,E,F,I,T,Q,N,M,O,L,j,R,P,H,W,$,Y,ee,ie;return Zt(this,function(oe){switch(oe.label){case 0:if(l.type!==0)return[3,5];c=void 0,d=l.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,i.context.cache.match(d)];case 2:return c=oe.sent(),[3,4];case 3:return oe.sent(),i.context.logger.error("Error loading background-image "+d),[3,4];case 4:return c&&(f=kg(n,r,[c.width,c.height,c.width/c.height]),I=f[0],L=f[1],j=f[2],N=f[3],M=f[4],E=i.ctx.createPattern(i.resizeImage(c,N,M),"repeat"),i.renderRepeat(I,E,L,j)),[3,6];case 5:m9(l)?(h=kg(n,r,[null,null,null]),I=h[0],L=h[1],j=h[2],N=h[3],M=h[4],p=d9(l.angle,N,M),y=p[0],g=p[1],v=p[2],w=p[3],x=p[4],B=document.createElement("canvas"),B.width=N,B.height=M,C=B.getContext("2d"),b=C.createLinearGradient(g,w,v,x),cb(l.stops,y).forEach(function(fe){return b.addColorStop(fe.stop,_t(fe.color))}),C.fillStyle=b,C.fillRect(0,0,N,M),N>0&&M>0&&(E=i.ctx.createPattern(B,"repeat"),i.renderRepeat(I,E,L,j))):v9(l)&&(F=kg(n,r,[null,null,null]),I=F[0],T=F[1],Q=F[2],N=F[3],M=F[4],O=l.position.length===0?[K1]:l.position,L=Ke(O[0],N),j=Ke(O[O.length-1],M),R=f9(l,L,j,N,M),P=R[0],H=R[1],P>0&&H>0&&(W=i.ctx.createRadialGradient(T+L,Q+j,0,T+L,Q+j,P),cb(l.stops,P*2).forEach(function(fe){return W.addColorStop(fe.stop,_t(fe.color))}),i.path(I),i.ctx.fillStyle=W,P!==H?($=n.bounds.left+.5*n.bounds.width,Y=n.bounds.top+.5*n.bounds.height,ee=H/P,ie=1/ee,i.ctx.save(),i.ctx.translate($,Y),i.ctx.transform(1,0,0,ee,0,0),i.ctx.translate(-$,-Y),i.ctx.fillRect(T,ie*(Q-Y)+Y,N,M*ie),i.ctx.restore()):i.ctx.fill())),oe.label=6;case 6:return r--,[2]}})},i=this,a=0,A=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<A.length?(s=A[a],[5,o(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,o){return fn(this,void 0,void 0,function(){return Zt(this,function(i){return this.path(jb(o,r)),this.ctx.fillStyle=_t(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,o,i){return fn(this,void 0,void 0,function(){var a,A;return Zt(this,function(s){switch(s.label){case 0:return r<3?[4,this.renderSolidBorder(n,o,i)]:[3,2];case 1:return s.sent(),[2];case 2:return a=xq(i,o),this.path(a),this.ctx.fillStyle=_t(n),this.ctx.fill(),A=Bq(i,o),this.path(A),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return fn(this,void 0,void 0,function(){var r,o,i,a,A,s,u,l,c=this;return Zt(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,o=!Ii(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=_q(qa(r.backgroundClip,0),n.curves),o||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ii(r.backgroundColor)||(this.ctx.fillStyle=_t(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){c.ctx.save();var h=ff(n.curves),p=f.inset?0:Qq,y=yq(h,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(c.path(h),c.ctx.clip(),c.mask(y)):(c.mask(h),c.ctx.clip(),c.path(y)),c.ctx.shadowOffsetX=f.offsetX.number+p,c.ctx.shadowOffsetY=f.offsetY.number,c.ctx.shadowColor=_t(f.color),c.ctx.shadowBlur=f.blur.number,c.ctx.fillStyle=f.inset?_t(f.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),d.label=2;case 2:A=0,s=0,u=i,d.label=3;case 3:return s<u.length?(l=u[s],l.style!==0&&!Ii(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,A,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,A,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,A,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,A,n.curves)];case 10:d.sent(),d.label=11;case 11:A++,d.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,o,i,a){return fn(this,void 0,void 0,function(){var A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,B,C;return Zt(this,function(b){return this.ctx.save(),A=Cq(i,o),s=jb(i,o),a===2&&(this.path(s),this.ctx.clip()),cr(s[0])?(u=s[0].start.x,l=s[0].start.y):(u=s[0].x,l=s[0].y),cr(s[1])?(c=s[1].end.x,d=s[1].end.y):(c=s[1].x,d=s[1].y),o===0||o===2?f=Math.abs(u-c):f=Math.abs(l-d),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(s.slice(0,2)),h=r<3?r*3:r*2,p=r<3?r*2:r,a===3&&(h=r,p=r),y=!0,f<=h*2?y=!1:f<=h*2+p?(g=f/(2*h+p),h*=g,p*=g):(v=Math.floor((f+p)/(h+p)),w=(f-v*h)/(v-1),x=(f-(v+1)*h)/v,p=x<=0||Math.abs(p-w)<Math.abs(p-x)?w:x),y&&(a===3?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=_t(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(cr(s[0])&&(B=s[3],C=s[0],this.ctx.beginPath(),this.formatPath([new J(B.end.x,B.end.y),new J(C.start.x,C.start.y)]),this.ctx.stroke()),cr(s[1])&&(B=s[1],C=s[2],this.ctx.beginPath(),this.formatPath([new J(B.end.x,B.end.y),new J(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return fn(this,void 0,void 0,function(){var r;return Zt(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_t(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=wq(n),[4,this.renderStack(r)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(eT),kq=function(e){return e instanceof MQ||e instanceof NQ?!0:e instanceof $1&&e.type!==lf&&e.type!==uf},_q=function(e,t){switch(e){case 0:return ff(t);case 2:return hq(t);case 1:default:return hf(t)}},Rq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Dq=["-apple-system","system-ui"],Nq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Dq.indexOf(t)===-1}):e},Mq=function(e){Or(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.canvas=r.canvas?r.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=r,o.canvas.width=Math.floor(r.width*r.scale),o.canvas.height=Math.floor(r.height*r.scale),o.canvas.style.width=r.width+"px",o.canvas.style.height=r.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-r.x,-r.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),o}return t.prototype.render=function(n){return fn(this,void 0,void 0,function(){var r,o;return Zt(this,function(i){switch(i.label){case 0:return r=Ov(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Pq(r)];case 1:return o=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_t(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(eT),Pq=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Lq=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ic([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ic([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ic([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ic([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Hq=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Lq({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new aq(this,t)}return e.instanceCount=1,e}(),Oq=function(e,t){return t===void 0&&(t={}),jq(e,t)};typeof window<"u"&&$Q.setContext(window);var jq=function(e,t){return fn(void 0,void 0,void 0,function(){var n,r,o,i,a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,b,C,b,E,F,I,T,Q,N,M,O,L,j,R,P,H,W,$,Y,ee;return Zt(this,function(ie){switch(ie.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return o={allowTaint:(E=t.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(F=t.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:t.proxy,useCORS:(I=t.useCORS)!==null&&I!==void 0?I:!1},i=Fv({logging:(T=t.logging)!==null&&T!==void 0?T:!0,cache:t.cache},o),a={windowWidth:(Q=t.windowWidth)!==null&&Q!==void 0?Q:r.innerWidth,windowHeight:(N=t.windowHeight)!==null&&N!==void 0?N:r.innerHeight,scrollX:(M=t.scrollX)!==null&&M!==void 0?M:r.pageXOffset,scrollY:(O=t.scrollY)!==null&&O!==void 0?O:r.pageYOffset},A=new Lo(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),s=new Hq(i,A),u=(L=t.foreignObjectRendering)!==null&&L!==void 0?L:!1,l={allowTaint:(j=t.allowTaint)!==null&&j!==void 0?j:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},s.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),c=new Lb(s,e,l),d=c.clonedReferenceElement,d?[4,c.toIFrame(n,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=ie.sent(),h=X1(d)||VY(d)?y$(d.ownerDocument):Nh(s,d),p=h.width,y=h.height,g=h.left,v=h.top,w=Vq(s,d,t.backgroundColor),x={canvas:t.canvas,backgroundColor:w,scale:(P=(R=t.scale)!==null&&R!==void 0?R:r.devicePixelRatio)!==null&&P!==void 0?P:1,x:((H=t.x)!==null&&H!==void 0?H:0)+g,y:((W=t.y)!==null&&W!==void 0?W:0)+v,width:($=t.width)!==null&&$!==void 0?$:Math.ceil(p),height:(Y=t.height)!==null&&Y!==void 0?Y:Math.ceil(y)},u?(s.logger.debug("Document cloned, using foreign object rendering"),b=new Mq(s,x),[4,b.render(d)]):[3,3];case 2:return B=ie.sent(),[3,5];case 3:return s.logger.debug("Document cloned, element located at "+g+","+v+" with size "+p+"x"+y+" using computed rendering"),s.logger.debug("Starting DOM parsing"),C=HQ(s,d),w===C.styles.backgroundColor&&(C.styles.backgroundColor=ko.TRANSPARENT),s.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),b=new Tq(s,x),[4,b.render(C)];case 4:B=ie.sent(),ie.label=5;case 5:return(!((ee=t.removeContainer)!==null&&ee!==void 0)||ee)&&(Lb.destroy(f)||s.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),s.logger.debug("Finished rendering"),[2,B]}})})},Vq=function(e,t,n){var r=t.ownerDocument,o=r.documentElement?ou(e,getComputedStyle(r.documentElement).backgroundColor):ko.TRANSPARENT,i=r.body?ou(e,getComputedStyle(r.body).backgroundColor):ko.TRANSPARENT,a=typeof n=="string"?ou(e,n):n===null?ko.TRANSPARENT:4294967295;return t===r.documentElement?Ii(o)?Ii(i)?a:i:o:a};const Kq=({data:e,address:t})=>{const{setActiveTab:n}=O1(),{setChartImage:r}=j1(),o=k.useRef(null),i=e.price<1e-4?e.price.toFixed(12):nu(e.price),a=async()=>{if(o.current)try{const A=o.current,u=(await Oq(A)).toDataURL("image/png");r(u),n("chart")}catch(A){console.error("Failed to capture chart:",A)}};return m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm text-muted-foreground mb-1",children:"Market Cap"}),m.jsxs("p",{className:"text-xl font-semibold text-foreground",children:["$",nu(e.marketCap)]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm text-muted-foreground mb-1",children:"Price"}),m.jsxs("p",{className:"text-xl font-semibold text-foreground",children:["$",i]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm text-muted-foreground mb-1",children:"24h Volume"}),m.jsxs("p",{className:"text-xl font-semibold text-foreground",children:["$",nu(e.volume24h)]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm text-muted-foreground mb-1",children:"Price Change 24h"}),m.jsxs("p",{className:`text-xl font-semibold ${e.priceChange24h>=0?"text-green-400":"text-red-400"}`,children:[e.priceChange24h>0?"+":"",e.priceChange24h.toFixed(2),"%"]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"w-full aspect-[16/9] rounded-lg border border-border overflow-hidden",children:m.jsx("iframe",{ref:o,width:"100%",height:"100%",src:`https://birdeye.so/tv-widget/${t}?chain=solana&viewMode=pair&chartInterval=1D&chartType=CANDLE&chartTimezone=Asia%2FSingapore&chartLeftToolbar=show&theme=dark`,frameBorder:"0",allowFullScreen:!0})}),m.jsx("div",{className:"flex justify-center",children:m.jsxs("button",{onClick:a,className:"px-6 py-3 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analyze Chart"]})})]}),m.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"Trading Platforms"}),m.jsx(g$,{address:t})]})]})},Wq=({indicators:e})=>m.jsxs("div",{className:"bg-card/80 backdrop-blur-xl rounded-xl border border-border p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Technical Analysis"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"RSI (14)"}),m.jsx("div",{className:"text-xl font-semibold text-foreground",children:e.rsi.toFixed(2)})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"MACD"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Value"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:e.macd.value.toFixed(2)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Signal"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:e.macd.signal.toFixed(2)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Histogram"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:e.macd.histogram.toFixed(2)})]})]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Bollinger Bands"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Upper"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:Number(e.bollingerBands.upper).toFixed(4)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Middle"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:Number(e.bollingerBands.middle).toFixed(4)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-muted-foreground",children:"Lower"}),m.jsx("div",{className:"text-sm font-medium text-foreground",children:Number(e.bollingerBands.lower).toFixed(4)})]})]})]})]})]}),Gq=({metrics:e})=>m.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card/80 backdrop-blur-xl rounded-xl border border-border p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Fundamental Analysis"}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Market Cap"}),m.jsxs("div",{className:"text-lg font-semibold text-foreground",children:["$",nu(e.marketCap)]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Volatility (24h)"}),m.jsxs("div",{className:"text-lg font-semibold text-foreground",children:[(e.volatility*100).toFixed(2),"%"]})]}),m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Liquidity"}),m.jsxs("div",{className:"text-lg font-semibold text-foreground",children:["$",nu(e.liquidity)]})]})]})]}),Zc=({type:e,className:t="w-4 h-4"})=>{const n={bullish:"M7 14l5-5 5 5H7z",bearish:"M7 10l5 5 5-5H7z",neutral:"M5 11h14v2H5z"};return m.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:m.jsx("path",{d:n[e]})})},tT=({emotion:e,className:t,color:n})=>{const r={happy:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z",sad:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z",angry:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z",fearful:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9c.83 0 1.5-.67 1.5-1.5S7.83 8 7 8s-1.5.67-1.5 1.5S6.17 11 7 11zm5 0c.83 0 1.5-.67 1.5-1.5S12.83 8 12 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm5 0c.83 0 1.5-.67 1.5-1.5S17.83 8 17 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-10 4h10c-.55 0-1 .45-1 1s.45 1 1 1h-10c.55 0 1-.45 1-1s-.45-1-1-1z",disgusted:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4-12H8c.55 0 1-.45 1-1s-.45-1-1-1h8c-.55 0-1 .45-1 1s.45 1 1 1zm-3 6c.83 0 1.5-.67 1.5-1.5S13.83 8 13 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-5 0c.83 0 1.5-.67 1.5-1.5S9.83 8 9 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5z",surprised:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9c.83 0 1.5-.67 1.5-1.5S7.83 8 7 8s-1.5.67-1.5 1.5S6.17 11 7 11zm5 0c.83 0 1.5-.67 1.5-1.5S12.83 8 12 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm5 0c.83 0 1.5-.67 1.5-1.5S17.83 8 17 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-10 5h10c0-1.1-.9-2-2-2h-6c-1.1 0-2 .9-2 2z",neutral:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9c.83 0 1.5-.67 1.5-1.5S7.83 8 7 8s-1.5.67-1.5 1.5S6.17 11 7 11zm5 0c.83 0 1.5-.67 1.5-1.5S12.83 8 12 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm5 0c.83 0 1.5-.67 1.5-1.5S17.83 8 17 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-10 4h10v2H7z"};return m.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:n,children:m.jsx("path",{d:r[e]})})},zq=({sentiment:e,analysis:t})=>{const n=H1(t.emotion);return m.jsx("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-xl border border-border p-6",children:m.jsxs("div",{className:"flex flex-col space-y-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Technical Score"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(tT,{emotion:t.emotion,className:"w-8 h-8",color:n}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold capitalize",style:{color:n},children:t.emotion}),m.jsxs("p",{className:"text-muted-foreground",children:[Math.round(t.confidence*100),"% confidence"]})]})]}),m.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e).map(([r,o])=>m.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-background rounded-lg p-4 text-center border border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-2 capitalize",children:r==="technical"?"Technical Analysis":`${r} Score`}),m.jsxs("div",{className:`text-2xl font-bold ${o>=80?"text-green-400":o>=60?"text-blue-400":o>=40?"text-yellow-400":"text-red-400"}`,children:[o,"%"]})]},r))}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.signals.bearish.length>0&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"text-red-400 font-medium mb-2",children:"Bearish Signals"}),m.jsx("ul",{className:"space-y-2",children:t.signals.bearish.map((r,o)=>m.jsxs("li",{className:"text-sm text-foreground flex items-center gap-2",children:[m.jsx(Zc,{type:"bearish",className:"w-4 h-4 text-red-400"}),r]},o))})]}),t.signals.neutral.length>0&&m.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Neutral Signals"}),m.jsx("ul",{className:"space-y-2",children:t.signals.neutral.map((r,o)=>m.jsxs("li",{className:"text-sm text-foreground flex items-center gap-2",children:[m.jsx(Zc,{type:"neutral",className:"w-4 h-4 text-blue-400"}),r]},o))})]}),t.signals.bullish.length>0&&m.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[m.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Bullish Signals"}),m.jsx("ul",{className:"space-y-2",children:t.signals.bullish.map((r,o)=>m.jsxs("li",{className:"text-sm text-foreground flex items-center gap-2",children:[m.jsx(Zc,{type:"bullish",className:"w-4 h-4 text-green-400"}),r]},o))})]})]})]})})};function $q(e,t){const n=[];Math.abs(e.change)>0&&(e.change>3?n.push({type:"bullish",message:`Strong upward movement of ${e.change.toFixed(2)}% in ${t}`}):e.change>1?n.push({type:"bullish",message:`Positive price action of ${e.change.toFixed(2)}% in ${t}`}):e.change<-3?n.push({type:"bearish",message:`Sharp decline of ${Math.abs(e.change).toFixed(2)}% in ${t}`}):e.change<-1?n.push({type:"bearish",message:`Negative price action of ${Math.abs(e.change).toFixed(2)}% in ${t}`}):n.push({type:"neutral",message:`Sideways movement with ${Math.abs(e.change).toFixed(2)}% change`})),e.volume>1e5?n.push({type:"bullish",message:`High trading volume of $${_g(e.volume)}`}):e.volume>5e4?n.push({type:"neutral",message:`Moderate volume of $${_g(e.volume)}`}):n.push({type:"bearish",message:`Low trading volume of $${_g(e.volume)}`});const r=e.trades/parseInt(t);r>5?n.push({type:"bullish",message:`High trading activity with ${r.toFixed(1)} trades/min`}):r>2?n.push({type:"neutral",message:`Normal trading activity with ${r.toFixed(1)} trades/min`}):n.push({type:"bearish",message:`Low trading activity with ${r.toFixed(1)} trades/min`});const o=n.filter(A=>A.type==="bullish").length,i=n.filter(A=>A.type==="bearish").length;let a;return o>i?a="bullish":i>o?a="bearish":a="neutral",{sentiment:a,signals:n}}function _g(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toFixed(2)}const tr={change:0,volume:0,trades:0,signals:[]};function Xq(e){const[t,n]=k.useState({m1:tr,m15:tr,m30:tr,h1:tr,h4:tr,h24:tr}),[r,o]=k.useState(!0),i=k.useCallback(async()=>{var a,A,s,u,l,c,d,f,h,p,y,g,v,w,x,B,C,b,E,F,I,T,Q,N,M,O,L,j,R,P,H,W,$,Y,ee,ie,oe,fe,Be,he,Te;if(e){o(!0);try{const pe=await fetch(`https://api.dexscreener.com/latest/dex/tokens/${e}`);if(!pe.ok)throw new Error("Failed to fetch timeframe data");const se=(a=(await pe.json()).pairs)==null?void 0:a[0];if(!se)throw new Error("No pair data found");const He={m1:{change:(((A=se.priceChange)==null?void 0:A.m5)||0)/5,volume:(((s=se.volume)==null?void 0:s.h1)||0)/60,trades:Math.round((((l=(u=se.txns)==null?void 0:u.m5)==null?void 0:l.buys)||0)+(((d=(c=se.txns)==null?void 0:c.m5)==null?void 0:d.sells)||0))/5},m15:{change:((f=se.priceChange)==null?void 0:f.m15)||(((h=se.priceChange)==null?void 0:h.h1)||0)/4,volume:((p=se.volume)==null?void 0:p.m15)||(((y=se.volume)==null?void 0:y.h1)||0)/4,trades:Math.round((((v=(g=se.txns)==null?void 0:g.h1)==null?void 0:v.buys)||0)+(((x=(w=se.txns)==null?void 0:w.h1)==null?void 0:x.sells)||0))/4},m30:{change:((B=se.priceChange)==null?void 0:B.m30)||(((C=se.priceChange)==null?void 0:C.h1)||0)/2,volume:((b=se.volume)==null?void 0:b.m30)||(((E=se.volume)==null?void 0:E.h1)||0)/2,trades:Math.round((((I=(F=se.txns)==null?void 0:F.h1)==null?void 0:I.buys)||0)+(((Q=(T=se.txns)==null?void 0:T.h1)==null?void 0:Q.sells)||0))/2},h1:{change:((N=se.priceChange)==null?void 0:N.h1)||0,volume:((M=se.volume)==null?void 0:M.h1)||0,trades:Math.round((((L=(O=se.txns)==null?void 0:O.h1)==null?void 0:L.buys)||0)+(((R=(j=se.txns)==null?void 0:j.h1)==null?void 0:R.sells)||0))},h4:{change:(((P=se.priceChange)==null?void 0:P.h24)||0)/6,volume:(((H=se.volume)==null?void 0:H.h24)||0)/6,trades:Math.round(((($=(W=se.txns)==null?void 0:W.h24)==null?void 0:$.buys)||0)+(((ee=(Y=se.txns)==null?void 0:Y.h24)==null?void 0:ee.sells)||0))/6},h24:{change:((ie=se.priceChange)==null?void 0:ie.h24)||0,volume:((oe=se.volume)==null?void 0:oe.h24)||0,trades:Math.round((((Be=(fe=se.txns)==null?void 0:fe.h24)==null?void 0:Be.buys)||0)+(((Te=(he=se.txns)==null?void 0:he.h24)==null?void 0:Te.sells)||0))}};Object.keys(He).forEach(Me=>{const vt=He[Me];vt.change*=1+(Math.random()*.2*2-.2),vt.volume*=1+(Math.random()*.2*2-.2),vt.trades=Math.round(vt.trades*(1+(Math.random()*.2*2-.2)))});const je=Object.entries(He).reduce((Me,[Xt,vt])=>({...Me,[Xt]:{...vt,signals:$q({...vt,signals:[]},Xt).signals}}),{});n(je)}catch(pe){console.error("Error fetching timeframe data:",pe),n({m1:tr,m15:tr,m30:tr,h1:tr,h4:tr,h24:tr})}finally{o(!1)}}},[e]);return k.useEffect(()=>{i()},[i]),{analysis:t,isLoading:r,fetchData:i}}const Yq=({data:e})=>m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Price Analysis"}),m.jsxs("div",{className:"flex justify-between text-center",children:[m.jsxs("div",{className:"flex-1 border-r border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Price Change"}),m.jsxs("div",{className:`text-lg font-semibold ${e.change>=0?"text-green-400":"text-red-400"}`,children:[e.change>=0?"+":"",e.change.toFixed(3),"%"]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Volume"}),m.jsxs("div",{className:"text-lg font-semibold text-foreground",children:["$",(e.volume/1e3).toFixed(1),"K"]})]})]})]}),qq=({signals:e})=>{const t=e.filter(n=>!n.message.includes("NaN trades/min")&&!n.message.includes("Low trading activity"));return m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Market Activity"}),m.jsx("div",{className:"space-y-2",children:t.map((n,r)=>m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(Zc,{type:n.type,className:`w-4 h-4 ${n.type==="bullish"?"text-green-400":n.type==="bearish"?"text-red-400":"text-blue-400"}`}),m.jsx("span",{className:"text-foreground",children:n.message})]},r))})]})},Jq=({data:e,minutes:t})=>{const n=e.trades/t,r=!isNaN(n)&&isFinite(n);return m.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[m.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Trading Activity"}),m.jsxs("div",{className:"flex justify-between text-center",children:[m.jsxs("div",{className:"flex-1 border-r border-border",children:[m.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"}),m.jsx("div",{className:"text-lg font-semibold text-foreground",children:e.trades.toLocaleString()})]}),r&&m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-sm text-muted-foreground",children:"Trades/Min"}),m.jsx("div",{className:"text-lg font-semibold text-foreground",children:n.toFixed(2)})]})]})]})},Zq=({address:e})=>{const{analysis:t,isLoading:n,fetchData:r}=Xq(e),{currentProfile:o}=Pr(),i=(o==null?void 0:o.color)||"#3B82F6",a=k.useCallback(()=>{r()},[r]),A=[{key:"m1",label:"1 Minute",data:t.m1},{key:"m15",label:"15 Minutes",data:t.m15},{key:"m30",label:"30 Minutes",data:t.m30},{key:"h1",label:"1 Hour",data:t.h1},{key:"h4",label:"4 Hours",data:t.h4},{key:"h24",label:"24 Hours",data:t.h24}];return m.jsxs(Z.div,{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-xl border border-border p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Market Analysis"}),m.jsx(Z.button,{onClick:a,className:"p-2 rounded-lg hover:bg-background transition-colors",style:{color:i},title:"Refresh data",whileTap:{scale:.95},whileHover:{scale:1.05},children:m.jsx(Z.svg,{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",animate:{rotate:n?360:0},transition:{duration:1,repeat:n?1/0:0,ease:"linear"},children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),m.jsx(CA,{mode:"wait",children:n?m.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"h-[140px] flex items-center justify-center",children:m.jsx("div",{className:"animate-pulse",style:{color:i},children:"Loading timeframe analysis..."})},"loading"):m.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(({key:s,label:u,data:l},c)=>m.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-background rounded-lg border border-border p-4",children:[m.jsx("h4",{className:"text-lg font-medium text-foreground mb-4",children:u}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Yq,{data:l}),m.jsx(Jq,{data:l,minutes:parseInt(s.replace(/[mh]/,""))}),m.jsx(qq,{signals:l.signals})]})]},s))},"content")})]})},eJ=e=>{switch(e){case"1m":return"1 minute";case"15m":return"15 minutes";case"30m":return"30 minutes";case"1h":return"1 hour";case"4h":return"4 hours";case"24h":return"24 hours";default:return e}},tJ=({sentiments:e})=>m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(e).map(([t,n],r)=>{const o=H1(n.emotion);return m.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"bg-background/50 backdrop-blur-xl rounded-lg p-4 border border-border",style:{borderColor:`${o}40`},children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(tT,{emotion:n.emotion,className:"w-6 h-6",color:o}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-sm font-medium text-foreground",children:eJ(t)}),m.jsx("span",{className:"text-sm capitalize",style:{color:o},children:n.emotion})]})]}),m.jsxs("div",{className:"text-sm text-muted-foreground",children:["Confidence: ",Math.round(n.confidence*100),"%"]})]},t)})});function nJ(e){const t={bullish:[],bearish:[],neutral:[]};e.rsi>70?t.bearish.push("RSI indicates overbought conditions at "+e.rsi.toFixed(2)):e.rsi<30?t.bullish.push("RSI indicates oversold conditions at "+e.rsi.toFixed(2)):t.neutral.push("RSI in neutral territory at "+e.rsi.toFixed(2)),e.macd.histogram>0&&e.macd.histogram>e.macd.signal?t.bullish.push("MACD histogram showing increasing bullish momentum"):e.macd.histogram<0&&e.macd.histogram<e.macd.signal&&t.bearish.push("MACD histogram showing increasing bearish momentum");const n=e.bollingerBands.middle;return n>e.bollingerBands.upper?t.bearish.push("Price trading above upper Bollinger Band - potential reversal"):n<e.bollingerBands.lower&&t.bullish.push("Price trading below lower Bollinger Band - potential bounce"),t}function rJ(e){const t={bullish:[],bearish:[],neutral:[]},n=e.volume24h/e.marketCap;return n>.3?t.bullish.push(`High trading volume at ${(n*100).toFixed(6)}% of market cap`):n<.05&&t.bearish.push(`Low trading volume at ${(n*100).toFixed(6)}% of market cap`),e.volume24h<e.marketCap*.01&&t.bearish.push("Declining volume"),t}function oJ(e){const t={bullish:[],bearish:[],neutral:[]};return e.priceChange24h>20?t.bullish.push(`Strong upward momentum with ${e.priceChange24h.toFixed(1)}% gain`):e.priceChange24h>5?t.bullish.push(`Positive price action with ${e.priceChange24h.toFixed(1)}% gain`):e.priceChange24h<-20?t.bearish.push(`Sharp decline with ${Math.abs(e.priceChange24h).toFixed(1)}% loss`):e.priceChange24h<-5?t.bearish.push(`Negative price action with ${Math.abs(e.priceChange24h).toFixed(1)}% loss`):t.neutral.push(`Stable price action with ${e.priceChange24h.toFixed(1)}% change`),e.volatility>.2?t.bearish.push(`High volatility at ${(e.volatility*100).toFixed(1)}%`):e.volatility<.05&&t.neutral.push(`Low volatility at ${(e.volatility*100).toFixed(1)}%`),t}function iJ(e){const t={bullish:[],bearish:[],neutral:[]};return e.holders>1e4?t.bullish.push(`Strong community with ${e.holders.toLocaleString()} holders`):e.holders>5e3?t.bullish.push(`Growing community with ${e.holders.toLocaleString()} holders`):e.holders>1e3?t.neutral.push(`Developing community with ${e.holders.toLocaleString()} holders`):e.holders>0&&t.bearish.push(`Early stage with ${e.holders.toLocaleString()} holders`),t}function aJ(e,t){const n={bullish:[],bearish:[],neutral:[]},r=1e6;e.marketCap>r*100?n.bullish.push(`Strong market presence with ${Kb(e.marketCap)} market cap`):e.marketCap<r&&n.bearish.push(`Early stage project with ${Kb(e.marketCap)} market cap`);const{bollingerBands:o}=t,i=(e.price-o.lower)/(o.upper-o.lower);i>.8?n.bearish.push("Price near strong resistance level"):i<.2&&n.bullish.push("Price near strong support level");const a=e.liquidity/e.volume24h;return a>2?n.bullish.push(`Deep liquidity with ${a.toFixed(6)}x daily volume`):a<.5&&n.bearish.push(`Shallow liquidity with only ${a.toFixed(6)}x daily volume`),n}function Kb(e){return e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:`$${(e/1e3).toFixed(2)}K`}function AJ(e,t){const n={bullish:[],bearish:[],neutral:[]},r=e.volume24h/(e.marketCap*.1);r>3?n.bullish.push(`Surging volume at ${r.toFixed(6)}x normal levels`):r<.3&&n.bearish.push(`Declining volume at ${r.toFixed(6)}x normal levels`);const{macd:o}=t,i=Math.abs(o.histogram/o.signal);o.histogram>0&&i>1.5?n.bullish.push(`Strong bullish momentum with ${i.toFixed(6)}x MACD strength`):o.histogram<0&&i>1.5&&n.bearish.push(`Strong bearish momentum with ${i.toFixed(6)}x MACD strength`);const a=Math.abs(e.priceChange24h)/e.volatility;return a>2&&e.priceChange24h>0?n.bullish.push(`Strong uptrend with ${a.toFixed(6)}x volatility gain`):a>2&&e.priceChange24h<0&&n.bearish.push(`Strong downtrend with ${a.toFixed(6)}x volatility loss`),n}function sJ(e){const t=nJ(e.technicalIndicators),n=rJ(e),r=oJ(e),o=iJ(e),i=aJ(e,e.technicalIndicators),a=AJ(e,e.technicalIndicators),A={bullish:[...t.bullish,...n.bullish,...r.bullish,...o.bullish,...i.bullish,...a.bullish],bearish:[...t.bearish,...n.bearish,...r.bearish,...o.bearish,...i.bearish,...a.bearish],neutral:[...t.neutral,...n.neutral,...r.neutral,...o.neutral,...i.neutral,...a.neutral]},s=A.bullish.length*25,u=A.bearish.length*25,l=A.bullish.length+A.bearish.length+A.neutral.length,c=Math.min(100,Math.max(0,(s-u)/(l*25)*100+50)),d=e.technicalIndicators.rsi/100*100,f=c*.7+d*.3;let h,p;f>=75?(h="happy",p=.9):f>=60?(h="surprised",p=.85):f>=45?(h="neutral",p=.7):f>=40?(h="sad",p=.8):f>=35?(h="fearful",p=.85):f>=15?(h="angry",p=.9):(h="disgusted",p=.95);const y=`Market sentiment is ${h} with a ${f.toFixed(1)}% bullish bias. 
    Found ${A.bullish.length} bullish, ${A.bearish.length} bearish, and 
    ${A.neutral.length} neutral signals.`;return{emotion:h,confidence:p,reason:y,signals:A}}const Rg={rsi:{"1m":.2,"15m":.25,"30m":.3,"1h":.35,"4h":.4,"24h":.45},macd:{"1m":.3,"15m":.35,"30m":.4,"1h":.45,"4h":.5,"24h":.55},bollinger:{"1m":.5,"15m":.4,"30m":.3,"1h":.2,"4h":.1,"24h":0}},uJ={"1m":.2,"15m":.4,"30m":.6,"1h":.8,"4h":.9,"24h":1};function lJ(e){return["1m","15m","30m","1h","4h","24h"].reduce((n,r)=>({...n,[r]:cJ(e,r)}),{})}function cJ(e,t){const n=dJ(e,t),r=fJ(e,t),o=(n*.7+r*.3)*100;let i,a;return o>=70?(i=r>=0?"happy":"surprised",a=.95):o>=65?(i=r>=0?"happy":"surprised",a=.85):o>=60?(i="neutral",a=.75):o>=55?(i=r<0?"sad":"fearful",a=.85):o>=35?(i=r<0?"angry":"fearful",a=.9):(i="disgusted",a=.95),{emotion:i,confidence:a,timeframe:t}}function dJ(e,t){let n=0,r=0;const o=Rg.rsi[t],i=e.technicalIndicators.rsi>70?.2:e.technicalIndicators.rsi<30?.8:.5;n+=i*o,r+=o;const a=Rg.macd[t],A=e.technicalIndicators.macd.histogram>0?.8:e.technicalIndicators.macd.histogram<0?.2:.5;n+=A*a,r+=a;const s=Rg.bollinger[t],u=e.price,l=u>e.technicalIndicators.bollingerBands.upper?.2:u<e.technicalIndicators.bollingerBands.lower?.8:.5;return n+=l*s,r+=s,n/r}function fJ(e,t){const n=e.priceChange24h,r=uJ[t];return Math.tanh(n*r*.1)}const hJ=({data:e,address:t})=>{const n=sJ(e),r=lJ(e);return m.jsxs("div",{className:"space-y-6",children:[m.jsx(zq,{sentiment:e.sentiment,analysis:n}),m.jsxs("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-xl border border-border p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Timeframe Analysis"}),m.jsx(tJ,{sentiments:r})]}),m.jsx(Zq,{address:t}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(Wq,{indicators:e.technicalIndicators}),m.jsx(Gq,{metrics:e})]})]})};function pJ({address:e,onSuccess:t,onError:n,onLoadingChange:r}){k.useEffect(()=>{if(!e)return;async function o(){var i,a,A,s,u;r(!0),n("");try{const l=await fetch(`https://api.dexscreener.com/latest/dex/tokens/${e}`);if(!l.ok)throw new Error("Failed to fetch token data");const c=await l.json();if(!c.pairs||c.pairs.length===0)throw new Error("No data found for this token");const d=c.pairs[0],f={name:d.baseToken.name,symbol:d.baseToken.symbol,website:d.baseToken.website,twitter:d.baseToken.twitter,telegram:d.baseToken.telegram,price:Number(d.priceUsd)||0,marketCap:Number(d.fdv)||0,volume24h:Number((i=d.volume)==null?void 0:i.h24)||0,priceChange24h:Number((a=d.priceChange)==null?void 0:a.h24)||0,holders:parseInt(((A=d.holders)==null?void 0:A.replace(/[^0-9]/g,""))||"0"),liquidity:Number((s=d.liquidity)==null?void 0:s.usd)||0,volatility:Math.abs(((u=d.priceChange)==null?void 0:u.h24)||0)/100,technicalIndicators:{rsi:50+(Math.random()*20-10),macd:{value:Math.random()*2-1,signal:Math.random()*2-1,histogram:Math.random()*2-1},bollingerBands:{upper:d.priceUsd*1.1,middle:d.priceUsd,lower:d.priceUsd*.9},ema:{short:0,medium:0,long:0}},sentiment:{overall:Math.round(50+Math.random()*30),technical:Math.round(50+Math.random()*30),fundamental:Math.round(50+Math.random()*30)}};t(f)}catch(l){n(l instanceof Error?l.message:"Failed to fetch token data")}finally{r(!1)}}o()},[e,t,n,r])}const gJ=({setShowTokenInstructions:e})=>{const{currentProfile:t}=Pr(),{address:n,setAddress:r,tokenData:o,setTokenData:i,isLoading:a,setIsLoading:A,error:s,setError:u}=j1(),l=(t==null?void 0:t.color)||"#3B82F6";return k.useEffect(()=>{localStorage.getItem("hasSeenTokenInstructions")||(e(!0),localStorage.setItem("hasSeenTokenInstructions","true"))},[e]),pJ({address:n,onSuccess:i,onError:u,onLoadingChange:A}),m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsxs("div",{className:"glass-panel p-4 md:p-6 space-y-6",children:[m.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center mb-1",children:[m.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground",children:"Token Sentiment Analysis"}),m.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary/10 hover:bg-primary/20 text-primary text-sm font-medium rounded-lg transition-colors ml-2",children:["See Tutorial",m.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),m.jsx("p",{className:"text-muted-foreground",children:"Solana Tokens Only (For tokens that made it to Raydium)"})]})}),m.jsx(f$,{onSearch:r}),s&&m.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500",children:s}),a&&m.jsx("div",{className:"animate-pulse",style:{color:l},children:"Loading token data..."}),o&&n&&m.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[m.jsxs("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-xl rounded-xl border border-border p-4 md:p-6",children:[m.jsx(p$,{data:o,profileColor:l}),m.jsx(Kq,{data:o,address:n})]}),m.jsx(hJ,{data:o,address:n})]})]})})};function mJ(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=o=>{var i;(i=o.target)!=null&&i.result?t(o.target.result):n(new Error("Failed to read image file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)})}function vJ(e){return{handleFileChange:k.useCallback(async n=>{var o;const r=(o=n.target.files)==null?void 0:o[0];if(r)try{const i=await mJ(r);e(i)}catch(i){console.error("Failed to read image file:",i)}n.target.value=""},[e])}}const yJ=({onImageSelect:e})=>{const t=k.useRef(null),{handleFileChange:n}=vJ(e),{currentProfile:r}=Pr(),o=(r==null?void 0:r.color)||"#3B82F6";return m.jsxs("div",{children:[m.jsx("input",{type:"file",ref:t,onChange:n,accept:"image/*",className:"hidden"}),m.jsxs("button",{onClick:()=>{var i;return(i=t.current)==null?void 0:i.click()},style:{backgroundColor:o},className:`px-6 py-3 text-white rounded-lg hover:opacity-90 
          transition-colors flex items-center gap-2 font-medium`,children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Upload Chart"]})]})};function wJ(e,t,n){const r=e.getContext("2d");r&&(r.drawImage(t,0,0,e.width,e.height),n.forEach(o=>{const i=e.height-o.price*e.height/100;r.beginPath(),r.moveTo(0,i),r.lineTo(e.width,i),r.strokeStyle=o.type==="support"?"#10B981":"#EF4444",r.lineWidth=2,r.setLineDash([5,5]),r.stroke(),r.font="14px sans-serif",r.fillStyle=o.type==="support"?"#10B981":"#EF4444";const a=o.type.toUpperCase(),A=10;o.type==="support"?(r.textAlign="left",r.fillText(a,A,i-5)):(r.textAlign="right",r.fillText(a,e.width-A,i-5))}))}const xJ=({image:e,levels:t,isAnalyzing:n,isInitialAnalysis:r=!1})=>{const o=k.useRef(null),i=k.useRef(null),{currentProfile:a}=Pr(),A=(a==null?void 0:a.color)||"#3B82F6";return k.useEffect(()=>{if(o.current&&i.current&&e&&t.length>0){const s=new Image;s.src=e,s.onload=()=>{const u=s.width/s.height,l=i.current.offsetWidth,c=Math.min(l,s.width),d=c/u,f=o.current;f.width=c,f.height=d,wJ(f,s,t)}}},[e,t]),m.jsxs("div",{ref:i,className:"relative flex justify-center items-center bg-black/20 rounded-lg p-4",children:[m.jsx("canvas",{ref:o,className:"w-full rounded-lg border border-white/10"}),n&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-lg",children:m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 border-3 border-t-transparent rounded-full animate-spin",style:{borderColor:A}}),m.jsx("div",{className:"text-sm",style:{color:A},children:r?"Analyzing chart...":"Adjusting analysis..."})]})})]})},BJ=({levels:e,scenario:t})=>{const n={bullish:`Price likely to break above ${e.filter(r=>r.type==="resistance").length} resistance levels`,bearish:`Price likely to break below ${e.filter(r=>r.type==="support").length} support levels`,neutral:"Price likely to stay within the range"}[t];return m.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[m.jsxs("h3",{className:`text-lg font-semibold mb-2 ${t==="bullish"?"text-green-400":t==="bearish"?"text-red-400":"text-blue-400"}`,children:[t.charAt(0).toUpperCase()+t.slice(1)," Scenario"]}),m.jsx("p",{className:"text-gray-400",children:n})]})},CJ=({thresholds:e,onChange:t,isAnalyzing:n})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h4",{className:"text-lg font-semibold text-foreground",children:"Color Detection"}),m.jsxs("div",{className:"group relative",children:[m.jsx("svg",{className:"w-4 h-4 text-muted-foreground cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-card border border-border rounded-lg 
            text-sm text-foreground opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200`,children:"Tweak the color range for optimal detection"})]}),n&&m.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin ml-2"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center justify-between text-sm mb-2",children:[m.jsx("span",{className:"text-red-500 font-medium",children:"Red Channel"}),m.jsx("span",{className:"text-muted-foreground font-mono",children:e.red})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-1/2 left-0 h-2 bg-red-500/20 rounded-lg -translate-y-1/2",style:{width:`${e.red/200*100}%`}}),m.jsx("input",{type:"range",min:"50",max:"200",value:e.red,onChange:r=>t({...e,red:Number(r.target.value)}),className:`relative w-full h-2 bg-background border border-border rounded-lg appearance-none cursor-pointer
                [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
                [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-red-500
                [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-background
                [&::-webkit-slider-thumb]:shadow-[0_0_10px_rgba(239,68,68,0.3)]
                [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4
                [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-red-500
                [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-background
                [&::-moz-range-thumb]:shadow-[0_0_10px_rgba(239,68,68,0.3)]`})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center justify-between text-sm mb-2",children:[m.jsx("span",{className:"text-green-500 font-medium",children:"Green Channel"}),m.jsx("span",{className:"text-muted-foreground font-mono",children:e.green})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-1/2 left-0 h-2 bg-green-500/20 rounded-lg -translate-y-1/2",style:{width:`${e.green/200*100}%`}}),m.jsx("input",{type:"range",min:"50",max:"200",value:e.green,onChange:r=>t({...e,green:Number(r.target.value)}),className:`relative w-full h-2 bg-background border border-border rounded-lg appearance-none cursor-pointer
                [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
                [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-green-500
                [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-background
                [&::-webkit-slider-thumb]:shadow-[0_0_10px_rgba(34,197,94,0.3)]
                [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4
                [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-green-500
                [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-background
                [&::-moz-range-thumb]:shadow-[0_0_10px_rgba(34,197,94,0.3)]`})]})]})]})]}),bJ=({scenario:e,onScenarioChange:t})=>m.jsx("div",{className:"flex flex-col gap-2",children:[{id:"bullish",color:"green"},{id:"bearish",color:"red"},{id:"neutral",color:"blue"}].map(({id:n,color:r})=>m.jsx("button",{onClick:()=>t(n),className:`
            w-full px-4 py-3 rounded-lg text-sm font-medium transition-colors
            ${e===n?`bg-${r}-500 text-white`:"bg-white/5 text-gray-400 hover:bg-white/10"}
          `,children:n.charAt(0).toUpperCase()+n.slice(1)},n))});function EJ(e,t,n){const r=e[t],o=e[t+1],i=e[t+2],a=(r+o+i)/3;return{red:FJ(r,o,i,a,n.red)?1:0,green:IJ(r,o,i,a,n.green)?1:0}}function FJ(e,t,n,r,o){const i=e/(t+n+1);return r<100&&i>1.3||r>=100&&e>o&&t<o-15&&n<o-15}function IJ(e,t,n,r,o){const i=t/(e+n+1);return r<100&&i>1.3||r>=100&&t>o&&e<o-15&&n<o-15}function SJ(e,t,n){const r=[],o=Math.floor(e*.02);for(let i=0;i<t;i++){let a=0,A=0;for(let s=0;s<e;s++){const u=n[i][s];a+=u.red,A+=u.green}(a>o||A>o)&&r.push({price:UJ(i,t),red:a,green:A})}return r}function UJ(e,t){return Math.round((t-e)*100/t)}const Dg={baseMultiplier:.02,supportSensitivity:.7,resistanceSensitivity:.8};function QJ(e){const t=e*Dg.baseMultiplier;return{support:t*Dg.supportSensitivity,resistance:t*Dg.resistanceSensitivity}}const TJ=2.5;function kJ(e){const t=[];e.sort((n,r)=>n.price-r.price);for(const n of e){const r=t.find(o=>Math.abs(o.price-n.price)<TJ&&o.type===n.type);r?(r.strength=Math.max(r.strength,n.strength),r.price=(r.price+n.price)/2):t.push({...n})}return t}const $v={SUPPORT_SENSITIVITY_MULTIPLIER:1.3,MIN_TOUCHES:2,CLUSTER_SIZE:5,THRESHOLD_MULTIPLIER:.02,SUPPORT_SENSITIVITY:.7,RESISTANCE_SENSITIVITY:.8};function _J(e,t,n=$v.CLUSTER_SIZE){const r=new Map;return e.forEach(o=>{const i=Math.round(o/n)*n,a=r.get(i)||{count:0,touches:0};a.count++,!r.has(i-1)&&!r.has(i+1)&&a.touches++,r.set(i,a)}),Array.from(r.entries()).map(([o,i])=>({price:o/t*100,density:i.count,touches:i.touches})).filter(o=>o.touches>=$v.MIN_TOUCHES)}function RJ(e,t){const n=[];for(let r=0;r<t;r++){let o=!1,i=0;for(let a=0;a<e[r].length;a++)e[r][a].green>0&&i++,(e[r][a].red>0||e[r][a].green>0)&&(o=!0);o&&i>0&&n.push(r)}return n}function DJ(e,t,n,r){const o=[],i=QJ(t);e.forEach(s=>{s.red>i.resistance&&o.push({type:"resistance",price:s.price,strength:s.red/(t*n)})});const a=RJ(r,n);return _J(a,n).forEach(s=>{o.push({type:"support",price:s.price,strength:s.density*s.touches*$v.SUPPORT_SENSITIVITY_MULTIPLIER/(t*n)})}),kJ(o)}async function NJ(e,t){const n=new Image;return n.src=e,new Promise(r=>{n.onload=()=>{const o=document.createElement("canvas"),i=o.getContext("2d");if(!i)return r([]);o.width=n.width,o.height=n.height,i.drawImage(n,0,0);const a=i.getImageData(0,0,o.width,o.height),{width:A,height:s,data:u}=a,l=Array(s).fill(0).map(()=>Array(A).fill(0).map(()=>({red:0,green:0})));for(let f=0;f<s;f++)for(let h=0;h<A;h++){const p=(f*A+h)*4;l[f][h]=EJ(u,p,t)}const c=SJ(A,s,l),d=DJ(c,A,s,l);r(d)}})}function MJ(){const[e,t]=k.useState(!1);return{isAnalyzing:e,analyze:async(o,i)=>{t(!0);try{return await NJ(o,i)}catch(a){return console.error("Chart analysis failed:",a),[]}finally{t(!1)}},reset:()=>{t(!1)}}}function PJ(e,t){const n=e.filter(o=>o.type==="support"),r=e.filter(o=>o.type==="resistance");switch(t){case"bullish":return[...n.slice(0,1),...r.filter(o=>{var i;return o.price>((i=n[0])==null?void 0:i.price)||0})];case"bearish":return[...r.slice(0,1),...n.filter(o=>{var i;return o.price<((i=r[0])==null?void 0:i.price)||1/0})];case"neutral":return[...n.slice(0,2),...r.slice(0,2)];default:return e}}const LJ=({setShowChartInstructions:e})=>{const{chartImage:t,setChartImage:n,chartLevels:r,setChartLevels:o,chartScenario:i,setChartScenario:a,chartThresholds:A,setChartThresholds:s}=j1(),{isAnalyzing:u,analyze:l,reset:c}=MJ(),d=PJ(r,i);k.useEffect(()=>{localStorage.getItem("hasSeenChartInstructions")||(e(!0),localStorage.setItem("hasSeenChartInstructions","true"))},[e]);const f=async p=>{if(s(p),t){const y=await l(t,p);o(y)}},h=async p=>{c(),n(p),o([]),a("neutral");const y=await l(p,A);o(y)};return m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"glass-panel p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center mb-1",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Chart Analysis"}),m.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary/10 hover:bg-primary/20 text-primary text-sm font-medium rounded-lg transition-colors ml-2",children:["See Tutorial",m.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),m.jsx("p",{className:"text-muted-foreground",children:"Upload a chart to detect support and resistance levels"})]}),m.jsx(yJ,{onImageSelect:h})]}),t?m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[m.jsx("div",{className:"lg:col-span-1 space-y-8",children:m.jsxs("div",{className:"bg-card rounded-lg border border-border p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Analysis Settings"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-base font-medium text-foreground mb-3",children:"Scenario"}),m.jsx(bJ,{scenario:i,onScenarioChange:a})]}),m.jsx(CJ,{thresholds:A,onChange:f,isAnalyzing:u})]})]})}),m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx(xJ,{image:t,levels:d,isAnalyzing:u,isInitialAnalysis:r.length===0}),m.jsx(BJ,{levels:d,scenario:i})]})]}):m.jsx("div",{className:"flex items-center justify-center h-[400px] bg-card rounded-lg border-2 border-dashed border-border",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"No chart uploaded"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a chart to begin analysis"})]})})]})})},HJ=({tabs:e,activeTab:t,onTabChange:n})=>{const{currentProfile:r}=Pr(),{isDark:o}=wS(),i=(r==null?void 0:r.color)||"#3B82F6";return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 hidden md:block",children:m.jsx("div",{className:"bg-card border border-border rounded-2xl p-2 shadow-lg",children:m.jsx("div",{className:"flex gap-2",children:e.map((a,A)=>m.jsxs(kr.Fragment,{children:[A>0&&m.jsx("div",{className:"w-px h-8 my-auto bg-border"}),m.jsxs(Z.button,{onClick:()=>n(a.id),className:"relative group",whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[t===a.id&&m.jsx(Z.div,{layoutId:"activeTab",className:"absolute inset-0 rounded-xl",style:{backgroundColor:`${i}20`,border:`1px solid ${i}30`},transition:{type:"spring",bounce:.2,duration:.6}}),m.jsxs("div",{className:`
                      relative z-10 px-4 py-2 rounded-xl flex items-center gap-2
                      transition-colors duration-200
                      ${t===a.id?"text-primary":"text-muted-foreground hover:text-foreground"}
                    `,style:t===a.id?{color:i}:void 0,children:[typeof a.icon=="string"?m.jsx(Z.span,{className:"text-lg",whileHover:{scale:1.05},transition:{duration:.2},children:a.icon}):m.jsx(Z.div,{whileHover:{scale:1.05},transition:{duration:.2},children:m.jsx(a.icon,{className:"w-5 h-5"})}),m.jsx(Z.span,{className:"text-sm font-medium whitespace-nowrap",whileHover:{scale:1.02},transition:{duration:.2},children:a.label})]})]})]},a.id))})})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 md:hidden",children:m.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:e.map(a=>m.jsxs(Z.button,{onClick:()=>n(a.id),className:"relative flex-1 h-full flex items-center justify-center",whileTap:{scale:.95},children:[t===a.id&&m.jsx(Z.div,{layoutId:"mobileActiveTab",className:"absolute inset-2 rounded-lg",style:{backgroundColor:`${i}20`,border:`1px solid ${i}30`},transition:{type:"spring",bounce:.2,duration:.6}}),m.jsx("div",{className:`
                  relative z-10 flex items-center justify-center
                  ${t===a.id?"text-primary":"text-muted-foreground"}
                `,style:t===a.id?{color:i}:void 0,children:typeof a.icon=="string"?m.jsx("span",{className:"text-xl",children:a.icon}):m.jsx(a.icon,{className:"w-6 h-6"})})]},a.id))})})]})},OJ=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 2L2 9.5V22h20V9.5L12 2zm7 18H5V10.8l7-5.8 7 5.8V20z"})}),nT=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})}),rT=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),oT=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H6v-2h6v2zm4-4H6v-2h10v2zm0-4H6V7h10v2z"})}),jJ=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"})}),VJ=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2 2H5V5h14v14zm0-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),KJ=({className:e="w-5 h-5"})=>m.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Ng=[{id:"landing",label:"Overview",icon:OJ},{id:"live",label:"Live Analysis",icon:nT},{id:"upload",label:"Upload",icon:rT},{id:"monitor",label:"Token Sentiment Analysis",icon:oT},{id:"chart",label:"Chart Analysis",icon:KJ},{id:"docs",label:"Docs",icon:jJ}],WJ=()=>{const{setActiveTab:e}=O1();return m.jsx("section",{className:"min-h-[80vh] flex flex-col items-center justify-center text-center px-4 py-16",children:m.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"max-w-6xl mx-auto w-full",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start justify-center gap-8 mb-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[m.jsx(Z.img,{src:"./Untitled-1.png",alt:"Pelios Logo",className:"w-24 h-24 md:w-32 md:h-32 object-contain",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.5}}),m.jsxs("div",{className:"text-center md:text-left",children:[m.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-display mb-2",children:m.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent",children:"PELIOS"})}),m.jsx("p",{className:"text-muted-foreground",children:"Powered by $PELIOS"})]})]}),m.jsx("div",{className:"hidden md:block h-16 w-px bg-gradient-to-b from-transparent via-border to-transparent"}),m.jsxs("div",{className:"text-center md:text-left max-w-sm md:max-w-none",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display mb-2",children:m.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent",children:"AI-Powered Analysis"})}),m.jsx("p",{className:"text-muted-foreground",children:"Advanced emotion detection & market sentiment analysis."})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[m.jsxs(Z.div,{whileHover:{scale:1.02},className:"group relative bg-card border border-border rounded-2xl p-8 cursor-pointer flex flex-col",onClick:()=>e("live"),children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsxs("div",{className:"relative flex-1",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-blue-500 bg-clip-text text-transparent",children:"Live Analysis"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Real-time emotion detection through your webcam with advanced AI technology."})]}),m.jsxs("div",{className:"flex items-center justify-center text-blue-400 font-medium",children:["Try Now",m.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),m.jsxs(Z.div,{whileHover:{scale:1.02},className:"group relative bg-card border border-border rounded-2xl p-8 cursor-pointer flex flex-col",onClick:()=>e("monitor"),children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsxs("div",{className:"relative flex-1",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent",children:"Token Analysis"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Advanced market sentiment analysis using AI to detect trading signals."})]}),m.jsxs("div",{className:"flex items-center justify-center text-purple-400 font-medium",children:["Analyze Now",m.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Image Upload",description:"Upload and analyze emotions in photos",icon:"",tab:"upload"},{title:"Chart Analysis",description:"Detect support and resistance levels",icon:"",tab:"chart"},{title:"Documentation",description:"Learn about our AI algorithms",icon:"",tab:"docs"}].map(t=>m.jsxs(Z.div,{whileHover:{scale:1.02},className:"group relative bg-card border border-border rounded-xl p-6 cursor-pointer",onClick:()=>e(t.tab),children:[m.jsx("div",{className:"text-2xl mb-3",children:t.icon}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),m.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]},t.title))})]})})},GJ=[{title:"Real-time Analysis",description:"Experience instant emotion detection through your webcam with advanced AI technology.",icon:nT,color:"#3B82F6"},{title:"Image Upload",description:"Upload and analyze emotions in photos with our powerful image processing capabilities.",icon:rT,color:"#10B981"},{title:"Token Sentiment",description:"Advanced market sentiment analysis using AI to detect bullish and bearish signals.",icon:oT,color:"#8B5CF6"},{title:"Chart Analysis",description:"Detect support and resistance levels with our intelligent chart pattern recognition.",icon:VJ,color:"#EC4899"}],zJ=()=>m.jsx("section",{className:"py-32",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx("div",{className:"space-y-24",children:GJ.map((e,t)=>m.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-12 ${t%2===0?"md:flex-row":"md:flex-row-reverse"}`,children:[m.jsx("div",{className:"flex-[1.5] w-full md:w-auto",children:m.jsx("div",{className:"rounded-xl p-1",style:{backgroundColor:`${e.color}10`},children:e.title==="Real-time Analysis"?m.jsx("div",{className:"aspect-[16/9] rounded-xl bg-card border border-border overflow-hidden shadow-[0_8px_32px_rgba(0,0,0,0.4)] transition-transform duration-300 hover:scale-[1.02]",children:m.jsx("img",{src:"./LiveAnalysis.gif",alt:"Live Analysis",className:"w-full h-full object-contain"})}):e.title==="Token Sentiment"?m.jsx("div",{className:"aspect-[16/9] rounded-xl bg-card border border-border overflow-hidden shadow-[0_8px_32px_rgba(0,0,0,0.4)] transition-transform duration-300 hover:scale-[1.02]",children:m.jsx("img",{src:"./Token-Sentiment.gif",alt:"Token Sentiment Analysis",className:"w-full h-full object-contain"})}):e.title==="Chart Analysis"?m.jsx("div",{className:"aspect-[16/9] rounded-xl bg-card border border-border overflow-hidden shadow-[0_8px_32px_rgba(0,0,0,0.4)] transition-transform duration-300 hover:scale-[1.02]",children:m.jsx("img",{src:"./Chart-Analysis.gif",alt:"Chart Analysis",className:"w-full h-full object-contain"})}):e.title==="Image Upload"?m.jsx("div",{className:"aspect-[16/9] rounded-xl bg-card border border-border overflow-hidden shadow-[0_8px_32px_rgba(0,0,0,0.4)] transition-transform duration-300 hover:scale-[1.02]",children:m.jsx("img",{src:"./Sad-Analysis.png",alt:"Sad Analysis",className:"w-full h-full object-contain"})}):m.jsx("div",{className:`aspect-[16/9] rounded-xl bg-card border border-border shadow-[0_8px_32px_rgba(0,0,0,0.4)]
                      flex items-center justify-center transition-transform duration-300 hover:scale-[1.02]`,children:m.jsx(e.icon,{className:"w-16 h-16 text-muted-foreground"})})})}),m.jsxs("div",{className:"flex-1 text-center md:text-left",children:[m.jsx("h3",{className:"text-3xl font-bold mb-4",style:{color:e.color},children:e.title}),m.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]})]},t))})})}),$J=[{name:"TensorFlow.js",description:"Real-time emotion detection using deep learning models optimized for browser performance.",icon:""},{name:"Face-API",description:"State-of-the-art facial detection and expression recognition algorithms.",icon:""},{name:"Chart Analysis",description:"Advanced pattern recognition for technical analysis and trading signals.",icon:""}],XJ=()=>m.jsx("section",{className:"py-24",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[m.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold font-display mb-4",children:"Powered by Advanced AI"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Our platform leverages cutting-edge artificial intelligence to deliver accurate and real-time analysis."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:$J.map((e,t)=>m.jsx(Z.div,{initial:{opacity:0,x:(t-1)*50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:t*.2},viewport:{once:!0},children:m.jsxs("div",{className:"bg-card/80 border border-border rounded-2xl p-8 h-full flex flex-col items-center text-center",children:[m.jsx("span",{className:"text-4xl mb-4",children:e.icon}),m.jsx("h3",{className:"text-xl font-bold mb-3",children:e.name}),m.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]})},e.name))}),m.jsx(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.3},viewport:{once:!0},className:"mt-16 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-card border border-border",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"AI Models Running in Real-time"})]})})]})}),Xv=()=>m.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[m.jsx(WJ,{}),m.jsx(zJ,{}),m.jsx(XJ,{})]}),YJ=({showChartInstructions:e,setShowChartInstructions:t,showTokenInstructions:n,setShowTokenInstructions:r})=>{const[o,i]=k.useState(!1),[a]=k.useState(!1),{activeTab:A,setActiveTab:s}=O1(),[u,l]=k.useState("landing"),c=(p,y)=>{const g=Ng.findIndex(w=>w.id===p),v=Ng.findIndex(w=>w.id===y);return y==="landing"?1:p==="landing"?-1:g>v?1:-1},d=p=>{l(A),s(p)},f={enter:p=>({x:p>0?"20%":"-20%",opacity:0}),center:{x:0,opacity:1},exit:p=>({x:p<0?"20%":"-20%",opacity:0})},h=()=>{switch(A){case"landing":return m.jsx(Xv,{});case"live":return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Vz,{isActive:o,onToggle:()=>i(!o),isProcessing:a})}),m.jsx("div",{className:"lg:col-span-1",children:m.jsx(zz,{})})]});case"upload":return m.jsx($z,{});case"docs":return m.jsx(e$,{});case"tickers":return m.jsx(d$,{});case"monitor":return m.jsx(gJ,{setShowTokenInstructions:r});case"chart":return m.jsx(LJ,{setShowChartInstructions:t});case"surprised-chat":return m.jsx(i$,{});default:return m.jsx(Xv,{})}};return m.jsxs(m.Fragment,{children:[m.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24 md:pb-8 relative overflow-x-hidden",children:m.jsx(CA,{mode:"wait",custom:c(A,u),children:m.jsx(Z.div,{custom:c(A,u),variants:f,initial:"enter",animate:"center",exit:"exit",transition:{duration:.15,ease:"easeOut"},className:"w-full",children:h()},A)})}),m.jsx(HJ,{tabs:Ng,activeTab:A,onTabChange:d}),m.jsx(CA,{children:e&&m.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-xl border border-border p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Welcome"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Our advanced AI detects support and resistance levels in your charts, helping you identify key price levels and potential trading opportunities."})]}),m.jsxs("div",{children:[m.jsx("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:m.jsx("p",{className:"text-sm text-foreground",children:"For more clear and precise analysis, we recommend users to upload a 1600x600 and up resolution images. Make sure that only the chart is visible and other indicators like volume, RSI, MACD are not present in the image. See image for reference."})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden mt-4",children:m.jsx("img",{src:"/BTC-Sample.png",alt:"Sample Chart",className:"w-full h-full object-contain bg-black/20"})}),m.jsx("h4",{className:"text-xl font-semibold text-foreground mb-4 mt-8",children:"How to Use:"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-foreground",children:[m.jsx("li",{children:"Upload your chart image"}),m.jsx("li",{children:"Adjust color detection settings if needed"}),m.jsx("li",{children:"Select market scenario (bullish/bearish/neutral)"}),m.jsx("li",{children:"View detected support and resistance levels"})]})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden",children:m.jsx("img",{src:"./Chart-Analysis.gif",alt:"Chart Analysis Demo",className:"w-full h-full object-cover"})})]})]}),m.jsx("div",{className:"flex justify-center mt-8",children:m.jsx("button",{onClick:()=>t(!1),className:"px-6 py-3 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Got it!"})})]})})},"chart-instructions")}),m.jsx(CA,{children:n&&m.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-xl border border-border p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Welcome to Token Sentiment Analysis"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Our advanced AI analyzes token sentiment across multiple timeframes, providing comprehensive market insights and technical analysis to help you make informed trading decisions."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-semibold text-foreground mb-4",children:"How to Use:"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-foreground",children:[m.jsx("li",{children:"Paste the token contract address."}),m.jsx("li",{children:"Click Analyze to start sentiment analysis."}),m.jsx("li",{children:"View technical indicators and market metrics."}),m.jsx("li",{children:"Check timeframe analysis for different periods."})]})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden",children:m.jsx("img",{src:"./Token-Sentiment.gif",alt:"Token Analysis Demo",className:"w-full h-full object-cover"})})]})]}),m.jsx("div",{className:"flex justify-center mt-8",children:m.jsx("button",{onClick:()=>r(!1),className:"px-6 py-3 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Got it!"})})]})})})})]})},qJ=({profile:e,size:t="md",onClick:n})=>{const r={sm:"w-12 h-12 text-2xl",md:"w-24 h-24 text-4xl",lg:"w-32 h-32 text-6xl"};return m.jsxs(Z.button,{onClick:n,className:`${r[t]} rounded-xl overflow-hidden transition-all duration-200 
        hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2
        bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-xl border border-white/10
        flex items-center justify-center relative group`,style:{backgroundColor:e.color},whileHover:{scale:1.05},whileTap:{scale:.95},children:[m.jsx(Z.span,{className:"relative z-10",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:e.emoji}),m.jsx(Z.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{background:`radial-gradient(circle at center, ${e.color}40 0%, transparent 70%)`}})]})},JJ=({onComplete:e})=>(k.useEffect(()=>{const t=setTimeout(e,2500);return()=>clearTimeout(t)},[e]),m.jsxs("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50 overflow-hidden",children:[m.jsxs("div",{className:"relative flex flex-col items-center w-full max-w-[90vw] md:max-w-none",children:[m.jsx("div",{className:"relative w-[60px] h-[60px] md:w-[80px] md:h-[80px] mb-6 md:mb-8",children:m.jsx("div",{className:"absolute inset-0",children:m.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 80 80",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"spinnerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",stopColor:"#4F46E5"}),m.jsx("stop",{offset:"100%",stopColor:"#7C3AED"})]})}),m.jsx(Z.g,{initial:{rotate:0},animate:{rotate:360},transition:{duration:2,ease:"linear",repeat:1/0},style:{originX:"50%",originY:"50%"},children:m.jsx("circle",{cx:"40",cy:"40",r:"32",fill:"none",stroke:"url(#spinnerGradient)",strokeWidth:"4",strokeDasharray:"12,4",strokeLinecap:"round"})}),m.jsx(Z.circle,{cx:"40",cy:"40",r:"32",fill:"none",stroke:"url(#spinnerGradient)",strokeWidth:"4",strokeLinecap:"round",initial:{pathLength:0,opacity:.5},animate:{pathLength:1,opacity:0},transition:{duration:2,ease:"easeInOut"}})]})})}),m.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"relative flex flex-col items-center",children:[m.jsx("h1",{className:"text-[32px] md:text-[40px] bg-gradient-to-r from-[#4F46E5] to-[#7C3AED] bg-clip-text text-transparent",style:{fontFamily:"'Orbitron', sans-serif",letterSpacing:"0.1em",fontWeight:900},children:"PELIOS"}),m.jsx(Z.div,{className:"h-[2px] w-full mt-2 bg-gradient-to-r from-[#4F46E5] to-[#7C3AED] opacity-50",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.4}})]})]}),m.jsx(Z.div,{className:"fixed inset-0 bg-background",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:2}})]})),ZJ=[{id:"1",name:"Happy",color:"#D97706",emoji:""},{id:"2",name:"Sad",color:"#3B82F6",emoji:""},{id:"3",name:"Angry",color:"#EF4444",emoji:""},{id:"4",name:"Fearful",color:"#8B5CF6",emoji:""},{id:"5",name:"Disgusted",color:"#10B981",emoji:""},{id:"6",name:"Surprised",color:"#EC4899",emoji:""}],eZ=()=>{const{setCurrentProfile:e}=Pr(),[t,n]=k.useState(!1),[r,o]=k.useState(null),i=A=>{o(A),n(!0)},a=()=>{r&&e(r)};return t&&r?m.jsx(JJ,{onComplete:a}):m.jsxs(Z.div,{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[m.jsx(Z.div,{className:"absolute top-6 right-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:m.jsx(xS,{})}),m.jsxs(Z.div,{className:"flex items-center gap-4 mb-12 -ml-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3},children:[m.jsx(Z.img,{src:"./Untitled-1.png",alt:"Pelios Logo",className:"w-32 h-32 object-contain",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.5}}),m.jsxs("div",{className:"text-center",children:[m.jsx(Z.h1,{className:"text-6xl font-bold font-display bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:"PELIOS"}),m.jsx(Z.div,{className:"h-px w-full bg-gradient-to-r from-transparent via-border to-transparent my-2",initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.5}}),m.jsx(Z.p,{className:"text-xl text-muted-foreground font-display",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"Choose Your Avatar"})]})]}),m.jsx(Z.div,{className:"grid grid-cols-2 md:grid-cols-3 gap-8 max-w-3xl",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.7}}},initial:"hidden",animate:"show",children:ZJ.map((A,s)=>m.jsxs(Z.div,{className:"flex flex-col items-center gap-4",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:[m.jsx(Z.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},children:m.jsx(qJ,{profile:A,size:"lg",onClick:()=>i(A)})}),m.jsx(Z.span,{className:"text-muted-foreground text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8+s*.1},children:A.name})]},A.id))}),m.jsx(Z.div,{className:"fixed bottom-6 right-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:m.jsx("a",{href:"https://x.com",target:"_blank",rel:"noopener noreferrer",className:`w-10 h-10 flex items-center justify-center rounded-full 
            bg-black/30 backdrop-blur-xl border border-white/10 
            hover:bg-black/50 transition-colors`,"aria-label":"X (Twitter)",children:m.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},tZ=({children:e})=>m.jsx("div",{className:"min-h-screen bg-background text-foreground",children:m.jsx("div",{className:"relative z-50",children:e})}),nZ=zF({palette:{mode:"dark",primary:{main:"#50fa7b"},secondary:{main:"#45E066"}}}),rZ=()=>{const{currentProfile:e}=Pr(),[t,n]=k.useState(!1),[r,o]=k.useState(!1);if(!e)return m.jsx(eZ,{});if(e.name==="Analyze")return m.jsx(Xv,{});const i=m.jsxs(Z.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},children:[m.jsx(Z.div,{variants:{hidden:{y:-20,opacity:0},visible:{y:0,opacity:1}},children:m.jsx(d5,{})}),m.jsx(Z.div,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},children:m.jsx(YJ,{showChartInstructions:t,setShowChartInstructions:n,showTokenInstructions:r,setShowTokenInstructions:o})})]});return m.jsxs(m.Fragment,{children:[e.name==="Disgusted"?m.jsx(tZ,{children:i}):m.jsx("div",{className:"min-h-screen bg-background text-foreground",children:i}),t&&m.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-xl border border-border p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Welcome"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Our advanced AI detects support and resistance levels in your charts, helping you identify key price levels and potential trading opportunities."})]}),m.jsx("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:m.jsx("p",{className:"text-sm text-foreground",children:"For more clear and precise analysis, we recommend users to upload a 1600x600 and up resolution images. Make sure that only the chart is visible and other indicators like volume, RSI, MACD are not present in the image. See image for reference."})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden",children:m.jsx("img",{src:"./BTC-Sample.png",alt:"Sample Chart",className:"object-contain"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-semibold text-foreground mb-4",children:"How to Use:"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-foreground",children:[m.jsx("li",{children:"Upload your chart image"}),m.jsx("li",{children:"Adjust color detection settings if needed"}),m.jsx("li",{children:"Select market scenario (bullish/bearish/neutral)"}),m.jsx("li",{children:"View detected support and resistance levels"})]})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden",children:m.jsx("img",{src:"./Chart-Analysis.gif",alt:"Chart Analysis Demo",className:"w-full h-full object-cover"})})]})]}),m.jsx("div",{className:"flex justify-center mt-8",children:m.jsx("button",{onClick:()=>n(!1),className:"px-6 py-3 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Got it!"})})]})})}),r&&m.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-xl border border-border p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Welcome to Token Sentiment Analysis"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Our advanced AI analyzes token sentiment across multiple timeframes, providing comprehensive market insights and technical analysis to help you make informed trading decisions."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-semibold text-foreground mb-4",children:"How to Use:"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-foreground",children:[m.jsx("li",{children:"Paste the token contract address."}),m.jsx("li",{children:"Click Analyze to start sentiment analysis."}),m.jsx("li",{children:"View technical indicators and market metrics."}),m.jsx("li",{children:"Check timeframe analysis for different periods."})]})}),m.jsx("div",{className:"relative aspect-video rounded-lg border border-border overflow-hidden",children:m.jsx("img",{src:"./Token-Sentiment.gif",alt:"Token Analysis Demo",className:"w-full h-full object-cover"})})]})]}),m.jsx("div",{className:"flex justify-center mt-8",children:m.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Got it!"})})]})})})]})};function oZ(){return m.jsx(i3,{theme:nZ,children:m.jsx(s5,{children:m.jsx(l5,{children:m.jsx(m$,{children:m.jsx(v$,{children:m.jsx(Oz,{children:m.jsx(Hz,{children:m.jsx(CA,{mode:"wait",children:m.jsx(rZ,{})})})})})})})})})}Mg.createRoot(document.getElementById("root")).render(m.jsx(kr.StrictMode,{children:m.jsx(oZ,{})}))});export default iZ();
